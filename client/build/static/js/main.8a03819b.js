/*! For license information please see main.8a03819b.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},76:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,o=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var l=this.$utils(),r=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return l.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return l.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return l.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return o.bind(this)(r)}}}()},82:(e,t)=>{"use strict";var n,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),c=Symbol.for("react.context"),s=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen");function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case r:case i:case a:case I:case C:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case m:case u:case g:return e;default:return t}}case l:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isMemo=function(e){return b(e)===u}},86:(e,t,n)=>{"use strict";e.exports=n(82)},139:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,r(n)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var o=n(43),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,r={},c=null,s=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)a.call(t,o)&&!g.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:l,type:e,key:c,ref:s,props:r,_owner:i.current}}t.jsx=c,t.jsxs=c},199:function(e){e.exports=function(){"use strict";return function(e,t,n){var o=t.prototype,l=function(e){return e&&(e.indexOf?e:e.s)},r=function(e,t,n,o,r){var a=e.name?e:e.$locale(),i=l(a[t]),g=l(a[n]),c=i||g.map(function(e){return e.slice(0,o)});if(!r)return c;var s=a.weekStart;return c.map(function(e,t){return c[(t+(s||0))%7]})},a=function(){return n.Ls[n.locale()]},i=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})}(e.formats[t.toUpperCase()])},g=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):r(e,"months")},monthsShort:function(t){return t?t.format("MMM"):r(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):r(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):r(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):r(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return i(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return g.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return i(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return r(a(),"months")},n.monthsShort=function(){return r(a(),"monthsShort","months",3)},n.weekdays=function(e){return r(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return r(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return r(a(),"weekdaysMin","weekdays",2,e)}}}()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),g=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.iterator;var u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,A={};function b(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||u}function p(){}function h(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||u}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},p.prototype=b.prototype;var f=h.prototype=new p;f.constructor=h,m(f,b.prototype),f.isPureReactComponent=!0;var y=Array.isArray,v=Object.prototype.hasOwnProperty,Z={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,o){var l,r={},a=null,i=null;if(null!=t)for(l in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)v.call(t,l)&&!G.hasOwnProperty(l)&&(r[l]=t[l]);var g=arguments.length-2;if(1===g)r.children=o;else if(1<g){for(var c=Array(g),s=0;s<g;s++)c[s]=arguments[s+2];r.children=c}if(e&&e.defaultProps)for(l in g=e.defaultProps)void 0===r[l]&&(r[l]=g[l]);return{$$typeof:n,type:e,key:a,ref:i,props:r,_owner:Z.current}}function B(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function W(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function V(e,t,l,r,a){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var g=!1;if(null===e)g=!0;else switch(i){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case n:case o:g=!0}}if(g)return a=a(g=e),e=""===r?"."+W(g,0):r,y(a)?(l="",null!=e&&(l=e.replace(k,"$&/")+"/"),V(a,t,l,"",function(e){return e})):null!=a&&(B(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,l+(!a.key||g&&g.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(g=0,r=""===r?".":r+":",y(e))for(var c=0;c<e.length;c++){var s=r+W(i=e[c],c);g+=V(i,t,l,s,a)}else if(s=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}(e),"function"===typeof s)for(e=s.call(e),c=0;!(i=e.next()).done;)g+=V(i=i.value,t,l,s=r+W(i,c++),a);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function R(e,t,n){if(null==e)return e;var o=[],l=0;return V(e,o,"","",function(e){return t.call(n,e,l++)}),o}function w(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var X={current:null},J={transition:null},H={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:J,ReactCurrentOwner:Z};t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=l,t.Profiler=a,t.PureComponent=h,t.StrictMode=r,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=m({},e.props),r=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=Z.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(c in t)v.call(t,c)&&!G.hasOwnProperty(c)&&(l[c]=void 0===t[c]&&void 0!==g?g[c]:t[c])}var c=arguments.length-2;if(1===c)l.children=o;else if(1<c){g=Array(c);for(var s=0;s<c;s++)g[s]=arguments[s+2];l.children=g}return{$$typeof:n,type:e.type,key:r,ref:a,props:l,_owner:i}},t.createContext=function(e){return(e={$$typeof:g,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:I,_payload:{_status:-1,_result:e},_init:w}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=J.transition;J.transition={};try{e()}finally{J.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return X.current.useCallback(e,t)},t.useContext=function(e){return X.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return X.current.useDeferredValue(e)},t.useEffect=function(e,t){return X.current.useEffect(e,t)},t.useId=function(){return X.current.useId()},t.useImperativeHandle=function(e,t,n){return X.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return X.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return X.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return X.current.useMemo(e,t)},t.useReducer=function(e,t,n){return X.current.useReducer(e,t,n)},t.useRef=function(e){return X.current.useRef(e)},t.useState=function(e){return X.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return X.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return X.current.useTransition()},t.version="18.2.0"},223:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,n=this.$W,o=(n<t?n+7:n)-t;return this.$utils().u(e)?o:this.subtract(o,"day").add(e,"day")}}}()},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,l=e[o];if(!(0<r(l,t)))break e;e[o]=t,e[n]=l,n=o}}function o(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,l=e.length,a=l>>>1;o<a;){var i=2*(o+1)-1,g=e[i],c=i+1,s=e[c];if(0>r(g,n))c<l&&0>r(s,g)?(e[o]=s,e[c]=n,o=c):(e[o]=g,e[i]=n,o=i);else{if(!(c<l&&0>r(s,n)))break e;e[o]=s,e[c]=n,o=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,g=i.now();t.unstable_now=function(){return i.now()-g}}var c=[],s=[],d=1,I=null,C=3,u=!1,m=!1,A=!1,b="function"===typeof setTimeout?setTimeout:null,p="function"===typeof clearTimeout?clearTimeout:null,h="undefined"!==typeof setImmediate?setImmediate:null;function f(e){for(var t=o(s);null!==t;){if(null===t.callback)l(s);else{if(!(t.startTime<=e))break;l(s),t.sortIndex=t.expirationTime,n(c,t)}t=o(s)}}function y(e){if(A=!1,f(e),!m)if(null!==o(c))m=!0,J(v);else{var t=o(s);null!==t&&H(y,t.startTime-e)}}function v(e,n){m=!1,A&&(A=!1,p(B),B=-1),u=!0;var r=C;try{for(f(n),I=o(c);null!==I&&(!(I.expirationTime>n)||e&&!V());){var a=I.callback;if("function"===typeof a){I.callback=null,C=I.priorityLevel;var i=a(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?I.callback=i:I===o(c)&&l(c),f(n)}else l(c);I=o(c)}if(null!==I)var g=!0;else{var d=o(s);null!==d&&H(y,d.startTime-n),g=!1}return g}finally{I=null,C=r,u=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Z,G=!1,S=null,B=-1,k=5,W=-1;function V(){return!(t.unstable_now()-W<k)}function R(){if(null!==S){var e=t.unstable_now();W=e;var n=!0;try{n=S(!0,e)}finally{n?Z():(G=!1,S=null)}}else G=!1}if("function"===typeof h)Z=function(){h(R)};else if("undefined"!==typeof MessageChannel){var w=new MessageChannel,X=w.port2;w.port1.onmessage=R,Z=function(){X.postMessage(null)}}else Z=function(){b(R,0)};function J(e){S=e,G||(G=!0,Z())}function H(e,n){B=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||u||(m=!0,J(v))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,l,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:l,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>a?(e.sortIndex=r,n(s,e),null===o(c)&&e===o(s)&&(A?(p(B),B=-1):A=!0,H(y,r-a))):(e.sortIndex=i,n(c,e),m||u||(m=!0,J(v))),e},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},270:(e,t,n)=>{"use strict";var o=n(520),l={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,r,a,i,g,c,s=!1;t||(t={}),n=t.debug||!1;try{if(a=o(),i=document.createRange(),g=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=l[t.format]||l.default;window.clipboardData.setData(r,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))}),document.body.appendChild(c),i.selectNodeContents(c),g.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{g&&("function"==typeof g.removeRange?g.removeRange(i):g.removeAllRanges()),c&&document.body.removeChild(c),a()}return s}},309:function(e,t,n){e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var n=t(e);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e))return e}function a(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,l,r=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(g){i=!0,l=g}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return r}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function g(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||a(e,t)||g(e,t)||c()}function d(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}function I(e,t){if(null==e)return{};var n,o,l=d(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var C={exports:{}},u={exports:{}},m={},A="function"===typeof Symbol&&Symbol.for,b=A?Symbol.for("react.element"):60103,p=A?Symbol.for("react.portal"):60106,h=A?Symbol.for("react.fragment"):60107,f=A?Symbol.for("react.strict_mode"):60108,y=A?Symbol.for("react.profiler"):60114,v=A?Symbol.for("react.provider"):60109,Z=A?Symbol.for("react.context"):60110,G=A?Symbol.for("react.async_mode"):60111,S=A?Symbol.for("react.concurrent_mode"):60111,B=A?Symbol.for("react.forward_ref"):60112,k=A?Symbol.for("react.suspense"):60113,W=A?Symbol.for("react.suspense_list"):60120,V=A?Symbol.for("react.memo"):60115,R=A?Symbol.for("react.lazy"):60116,w=A?Symbol.for("react.block"):60121,X=A?Symbol.for("react.fundamental"):60117,J=A?Symbol.for("react.responder"):60118,H=A?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case b:switch(e=e.type){case G:case S:case h:case y:case f:case k:return e;default:switch(e=e&&e.$$typeof){case Z:case B:case R:case V:case v:return e;default:return t}}case p:return t}}}function Y(e){return x(e)===S}m.AsyncMode=G,m.ConcurrentMode=S,m.ContextConsumer=Z,m.ContextProvider=v,m.Element=b,m.ForwardRef=B,m.Fragment=h,m.Lazy=R,m.Memo=V,m.Portal=p,m.Profiler=y,m.StrictMode=f,m.Suspense=k,m.isAsyncMode=function(e){return Y(e)||x(e)===G},m.isConcurrentMode=Y,m.isContextConsumer=function(e){return x(e)===Z},m.isContextProvider=function(e){return x(e)===v},m.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===b},m.isForwardRef=function(e){return x(e)===B},m.isFragment=function(e){return x(e)===h},m.isLazy=function(e){return x(e)===R},m.isMemo=function(e){return x(e)===V},m.isPortal=function(e){return x(e)===p},m.isProfiler=function(e){return x(e)===y},m.isStrictMode=function(e){return x(e)===f},m.isSuspense=function(e){return x(e)===k},m.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===h||e===S||e===y||e===f||e===k||e===W||"object"===typeof e&&null!==e&&(e.$$typeof===R||e.$$typeof===V||e.$$typeof===v||e.$$typeof===Z||e.$$typeof===B||e.$$typeof===X||e.$$typeof===J||e.$$typeof===H||e.$$typeof===w)},m.typeOf=x,u.exports=m;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function N(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(e){l[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(r){return!1}}N()&&Object.assign;var E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function F(e,t,n,o,l){}Function.call.bind(Object.prototype.hasOwnProperty),F.resetWarningCache=function(){},u.exports;var K=E;function M(){}function z(){}z.resetWarningCache=M;var L=function(){function e(e,t,n,o,l,r){if(r!==K){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:z,resetWarningCache:M};return n.PropTypes=n,n};C.exports=L();var D=C.exports;function T(e,t){var n=atob(e);if(t){for(var o=new Uint8Array(n.length),l=0,r=n.length;l<r;++l)o[l]=n.charCodeAt(l);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}function j(e,t,n){var o=void 0===t?null:t,l=T(e,void 0!==n&&n),r=l.indexOf("\n",10)+1,a=l.substring(r)+(o?"//# sourceMappingURL="+o:""),i=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(i)}function O(e,t,n){var o;return function(l){return o=o||j(e,t,n),new Worker(o,l)}}var U=O("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),Q=["constraints","onError","onLoad","onScan","resolution","qrArea"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(){return new U},_=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().forEach(function(t){e.removeTrack(t),t.stop()})):e.stop())},ee=function(e){var t=e.constraints,l=e.onError,r=e.onLoad,a=e.onScan,i=e.resolution,g=e.qrArea,c=I(e,Q),d=n.useRef(null),C=n.useRef(null),u=n.useRef(document.createElement("canvas")),m=n.useRef(null),A=n.useRef(),b=s(n.useState(null),2),p=b[0],h=b[1],f=n.useRef(!1),y=n.useRef();n.useEffect(function(){y.current=q();var e=y.current;return e.onmessage=function(e){a&&a(e.data?P(P({},e.data),{},{canvas:u.current}):null),f.current=!1},function(){e.terminate()}},[a]);var v=JSON.stringify(g),Z=n.useCallback(function(){var e=JSON.parse(v),t=y.current,n=C.current&&C.current.readyState===C.current.HAVE_ENOUGH_DATA;if(!f.current&&n){f.current=!0;var o,l=C.current.videoWidth,r=C.current.videoHeight,a=l>r?l:r,g=Math.floor(i/a*100)/100;r=Math.floor(g*r),l=Math.floor(g*l),u.current.width=l,u.current.height=r,m.current=u.current.getContext("2d"),m.current.drawImage(C.current,0,0,l,r),o=e&&2===e.length&&e[0]>0&&e[1]>0?m.current.getImageData(Math.floor((l-e[0])/2),Math.floor((r-e[1])/2),e[0],e[1]):m.current.getImageData(0,0,l,r),t.postMessage(o)}A.current=requestAnimationFrame(Z)},[i,v]),G=JSON.stringify(t);return n.useEffect(function(){var e=JSON.parse(G),t=!0;return navigator.mediaDevices.getUserMedia(e).then(function(e){if(t){d.current=e;try{C.current&&(C.current.srcObject=e,C.current.setAttribute("playsinline",!0))}catch(n){h(window.URL.createObjectURL(e))}r&&r(),A.current=requestAnimationFrame(Z)}else _(e)}).catch(function(e){return t?l(e):null}),function(){cancelAnimationFrame(A.current),t=!1,_(d.current),p&&window.URL.revokeObjectURL(p)}},[Z,G,l,r,p]),n.createElement("video",o({autoPlay:!0,playsInline:!0,src:p,ref:C},c))};return ee.propTypes={constraints:D.object,onError:D.func.isRequired,onLoad:D.func,onScan:D.func.isRequired,resolution:D.number,qrArea:D.array},ee.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},ee}(n(43))},391:(e,t,n)=>{"use strict";var o=n(950);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",l="second",r="minute",a="hour",i="day",g="week",c="month",s="quarter",d="year",I="date",C="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},p={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),l=n%60;return(t<=0?"+":"-")+b(o,2,"0")+":"+b(l,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),l=t.clone().add(o,c),r=n-l<0,a=t.clone().add(o+(r?-1:1),c);return+(-(o+(n-l)/(r?l-a:a-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:g,d:i,D:I,h:a,m:r,s:l,ms:o,Q:s}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h="en",f={};f[h]=A;var y="$isDayjsObject",v=function(e){return e instanceof B||!(!e||!e[y])},Z=function e(t,n,o){var l;if(!t)return h;if("string"==typeof t){var r=t.toLowerCase();f[r]&&(l=r),n&&(f[r]=n,l=r);var a=t.split("-");if(!l&&a.length>1)return e(a[0])}else{var i=t.name;f[i]=t,l=i}return!o&&l&&(h=l),l||!o&&h},G=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new B(n)},S=p;S.l=Z,S.i=v,S.w=function(e,t){return G(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var B=function(){function A(e){this.$L=Z(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}var b=A.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(u);if(o){var l=o[2]-1||0,r=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===C)},b.isSame=function(e,t){var n=G(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return G(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<G(e)},b.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,o=!!S.u(t)||t,s=S.p(e),C=function(e,t){var l=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?l:l.endOf(i)},u=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,A=this.$M,b=this.$D,p="set"+(this.$u?"UTC":"");switch(s){case d:return o?C(1,0):C(31,11);case c:return o?C(1,A):C(0,A+1);case g:var h=this.$locale().weekStart||0,f=(m<h?m+7:m)-h;return C(o?b-f:b+(6-f),A);case i:case I:return u(p+"Hours",0);case a:return u(p+"Minutes",1);case r:return u(p+"Seconds",2);case l:return u(p+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,g=S.p(e),s="set"+(this.$u?"UTC":""),C=(n={},n[i]=s+"Date",n[I]=s+"Date",n[c]=s+"Month",n[d]=s+"FullYear",n[a]=s+"Hours",n[r]=s+"Minutes",n[l]=s+"Seconds",n[o]=s+"Milliseconds",n)[g],u=g===i?this.$D+(t-this.$W):t;if(g===c||g===d){var m=this.clone().set(I,1);m.$d[C](u),m.init(),this.$d=m.set(I,Math.min(this.$D,m.daysInMonth())).$d}else C&&this.$d[C](u);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[S.p(e)]()},b.add=function(o,s){var I,C=this;o=Number(o);var u=S.p(s),m=function(e){var t=G(C);return S.w(t.date(t.date()+Math.round(e*o)),C)};if(u===c)return this.set(c,this.$M+o);if(u===d)return this.set(d,this.$y+o);if(u===i)return m(1);if(u===g)return m(7);var A=(I={},I[r]=t,I[a]=n,I[l]=e,I)[u]||1,b=this.$d.getTime()+o*A;return S.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||C;var o=e||"YYYY-MM-DDTHH:mm:ssZ",l=S.z(this),r=this.$H,a=this.$m,i=this.$M,g=n.weekdays,c=n.months,s=n.meridiem,d=function(e,n,l,r){return e&&(e[n]||e(t,o))||l[n].slice(0,r)},I=function(e){return S.s(r%12||12,e,"0")},u=s||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(m,function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return i+1;case"MM":return S.s(i+1,2,"0");case"MMM":return d(n.monthsShort,i,c,3);case"MMMM":return d(c,i);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,g,2);case"ddd":return d(n.weekdaysShort,t.$W,g,3);case"dddd":return g[t.$W];case"H":return String(r);case"HH":return S.s(r,2,"0");case"h":return I(1);case"hh":return I(2);case"a":return u(r,a,!0);case"A":return u(r,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return l}return null}(e)||l.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(o,I,C){var u,m=this,A=S.p(I),b=G(o),p=(b.utcOffset()-this.utcOffset())*t,h=this-b,f=function(){return S.m(m,b)};switch(A){case d:u=f()/12;break;case c:u=f();break;case s:u=f()/3;break;case g:u=(h-p)/6048e5;break;case i:u=(h-p)/864e5;break;case a:u=h/n;break;case r:u=h/t;break;case l:u=h/e;break;default:u=h}return C?u:S.a(u)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return f[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=Z(e,t,!0);return o&&(n.$L=o),n},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},A}(),k=B.prototype;return G.prototype=k,[["$ms",o],["$s",l],["$m",r],["$H",a],["$W",i],["$M",c],["$y",d],["$D",I]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),G.extend=function(e,t){return e.$i||(e(t,B,G),e.$i=!0),G},G.locale=Z,G.isDayjs=v,G.unix=function(e){return G(1e3*e)},G.en=f[h],G.Ls=f,G.p={},G}()},520:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},556:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}()},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var o=n(43),l=n(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function g(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)a.add(t[e])}var s=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},u={};function m(e,t,n,o,l,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}function h(e,t,n,o){var l=A.hasOwnProperty(t)?A[t]:null;(null!==l?0!==l.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,l,o)&&(n=null),o||null===l?function(e){return!!d.call(u,e)||!d.call(C,e)&&(I.test(e)?u[e]=!0:(C[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,o=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,p);A[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,p);A[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,p);A[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),v=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),X=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var J=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var H=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}var Y,N=Object.assign;function E(e){if(void 0===Y)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||""}return"\n"+Y+e}var F=!1;function K(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var l=c.stack.split("\n"),r=o.stack.split("\n"),a=l.length-1,i=r.length-1;1<=a&&0<=i&&l[a]!==r[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==r[i]){if(1!==a||1!==i)do{if(a--,0>--i||l[a]!==r[i]){var g="\n"+l[a].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}}while(1<=a&&0<=i);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?E(e):""}function M(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 1:return e=K(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Z:return"Fragment";case v:return"Portal";case S:return"Profiler";case G:return"StrictMode";case V:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function L(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function D(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function T(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function j(e){e._valueTracker||(e._valueTracker=function(e){var t=T(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var l=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){o=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function O(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=T(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function U(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=D(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function P(e,t){null!=(t=t.checked)&&h(e,"checked",t,!1)}function q(e,t){P(e,t);var n=D(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,D(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&U(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+D(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(o&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:D(n)}}function re(e,t){var n=D(t.value),o=D(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,se,de=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction(function(){return se(e,t)})}:se);function Ie(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ce.hasOwnProperty(e)&&Ce[e]?(""+t).trim():t+"px"}function Ae(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),l=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}Object.keys(Ce).forEach(function(e){ue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ce[t]=Ce[e]})});var be=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function he(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ve=null,Ze=null,Ge=null;function Se(e){if(e=fl(e)){if("function"!==typeof ve)throw Error(r(280));var t=e.stateNode;t&&(t=vl(t),ve(e.stateNode,e.type,t))}}function Be(e){Ze?Ge?Ge.push(e):Ge=[e]:Ze=e}function ke(){if(Ze){var e=Ze,t=Ge;if(Ge=Ze=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function We(e,t){return e(t)}function Ve(){}var Re=!1;function we(e,t,n){if(Re)return e(t,n);Re=!0;try{return We(e,t,n)}finally{Re=!1,(null!==Ze||null!==Ge)&&(Ve(),ke())}}function Xe(e,t){var n=e.stateNode;if(null===n)return null;var o=vl(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Je=!1;if(s)try{var He={};Object.defineProperty(He,"passive",{get:function(){Je=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(se){Je=!1}function xe(e,t,n,o,l,r,a,i,g){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var Ye=!1,Ne=null,Ee=!1,Fe=null,Ke={onError:function(e){Ye=!0,Ne=e}};function Me(e,t,n,o,l,r,a,i,g){Ye=!1,Ne=null,xe.apply(Ke,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Le(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function De(e){if(ze(e)!==e)throw Error(r(188))}function Te(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(o=l.return)){n=o;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return De(l),e;if(a===o)return De(l),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=l,o=a;else{for(var i=!1,g=l.child;g;){if(g===n){i=!0,n=l,o=a;break}if(g===o){i=!0,o=l,n=a;break}g=g.sibling}if(!i){for(g=a.child;g;){if(g===n){i=!0,n=a,o=l;break}if(g===o){i=!0,o=a,n=l;break}g=g.sibling}if(!i)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?je(e):null}function je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=je(e);if(null!==t)return t;e=e.sibling}return null}var Oe=l.unstable_scheduleCallback,Ue=l.unstable_cancelCallback,Qe=l.unstable_shouldYield,$e=l.unstable_requestPaint,Pe=l.unstable_now,qe=l.unstable_getCurrentPriorityLevel,_e=l.unstable_ImmediatePriority,et=l.unstable_UserBlockingPriority,tt=l.unstable_NormalPriority,nt=l.unstable_LowPriority,ot=l.unstable_IdlePriority,lt=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/gt|0)|0},it=Math.log,gt=Math.LN2;var ct=64,st=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function It(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,l=e.suspendedLanes,r=e.pingedLanes,a=268435455&n;if(0!==a){var i=a&~l;0!==i?o=dt(i):0!==(r&=a)&&(o=dt(r))}else 0!==(a=n&~l)?o=dt(a):0!==r&&(o=dt(r));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&l)&&((l=o&-o)>=(r=t&-t)||16===l&&0!==(4194240&r)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)l=1<<(n=31-at(t)),o|=e[n],t&=~l;return o}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-at(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var ht=0;function ft(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,vt,Zt,Gt,St,Bt=!1,kt=[],Wt=null,Vt=null,Rt=null,wt=new Map,Xt=new Map,Jt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function Yt(e,t,n,o,l,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[l]},null!==t&&(null!==(t=fl(t))&&vt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function Nt(e){var t=hl(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Le(n)))return e.blockedOn=t,void St(e.priority,function(){Zt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Et(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=fl(n))&&vt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);fe=o,n.target.dispatchEvent(o),fe=null,t.shift()}return!0}function Ft(e,t,n){Et(e)&&n.delete(t)}function Kt(){Bt=!1,null!==Wt&&Et(Wt)&&(Wt=null),null!==Vt&&Et(Vt)&&(Vt=null),null!==Rt&&Et(Rt)&&(Rt=null),wt.forEach(Ft),Xt.forEach(Ft)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Kt)))}function zt(e){function t(t){return Mt(t,e)}if(0<kt.length){Mt(kt[0],e);for(var n=1;n<kt.length;n++){var o=kt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Wt&&Mt(Wt,e),null!==Vt&&Mt(Vt,e),null!==Rt&&Mt(Rt,e),wt.forEach(t),Xt.forEach(t),n=0;n<Jt.length;n++)(o=Jt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Jt.length&&null===(n=Jt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Jt.shift()}var Lt=f.ReactCurrentBatchConfig,Dt=!0;function Tt(e,t,n,o){var l=ht,r=Lt.transition;Lt.transition=null;try{ht=1,Ot(e,t,n,o)}finally{ht=l,Lt.transition=r}}function jt(e,t,n,o){var l=ht,r=Lt.transition;Lt.transition=null;try{ht=4,Ot(e,t,n,o)}finally{ht=l,Lt.transition=r}}function Ot(e,t,n,o){if(Dt){var l=Qt(e,t,n,o);if(null===l)To(e,t,o,Ut,n),xt(e,o);else if(function(e,t,n,o,l){switch(t){case"focusin":return Wt=Yt(Wt,e,t,n,o,l),!0;case"dragenter":return Vt=Yt(Vt,e,t,n,o,l),!0;case"mouseover":return Rt=Yt(Rt,e,t,n,o,l),!0;case"pointerover":var r=l.pointerId;return wt.set(r,Yt(wt.get(r)||null,e,t,n,o,l)),!0;case"gotpointercapture":return r=l.pointerId,Xt.set(r,Yt(Xt.get(r)||null,e,t,n,o,l)),!0}return!1}(l,e,t,n,o))o.stopPropagation();else if(xt(e,o),4&t&&-1<Ht.indexOf(e)){for(;null!==l;){var r=fl(l);if(null!==r&&yt(r),null===(r=Qt(e,t,n,o))&&To(e,t,o,Ut,n),r===l)break;l=r}null!==l&&o.stopPropagation()}else To(e,t,o,null,n)}}var Ut=null;function Qt(e,t,n,o){if(Ut=null,null!==(e=hl(e=ye(o))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Le(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ut=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case _e:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Pt=null,qt=null,_t=null;function en(){if(_t)return _t;var e,t,n=qt,o=n.length,l="value"in Pt?Pt.value:Pt.textContent,r=l.length;for(e=0;e<o&&n[e]===l[e];e++);var a=o-e;for(t=1;t<=a&&n[o-t]===l[r-t];t++);return _t=l.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function ln(e){function t(t,n,o,l,r){for(var a in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=l,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(l):l[a]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?nn:on,this.isPropagationStopped=on,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,an,gn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=ln(cn),dn=N({},cn,{view:0,detail:0}),In=ln(dn),Cn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(rn=e.screenX-gn.screenX,an=e.screenY-gn.screenY):an=rn=0,gn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),un=ln(Cn),mn=ln(N({},Cn,{dataTransfer:0})),An=ln(N({},dn,{relatedTarget:0})),bn=ln(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hn=ln(pn),fn=ln(N({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zn[e])&&!!t[e]}function Sn(){return Gn}var Bn=N({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=ln(Bn),Wn=ln(N({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vn=ln(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=ln(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=N({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=ln(wn),Jn=[9,13,27,32],Hn=s&&"CompositionEvent"in window,xn=null;s&&"documentMode"in document&&(xn=document.documentMode);var Yn=s&&"TextEvent"in window&&!xn,Nn=s&&(!Hn||xn&&8<xn&&11>=xn),En=String.fromCharCode(32),Fn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Tn(e,t,n,o){Be(o),0<(t=Oo(t,"onChange")).length&&(n=new sn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var jn=null,On=null;function Un(e){Fo(e,0)}function Qn(e){if(O(yl(e)))return e}function $n(e,t){if("change"===e)return t}var Pn=!1;if(s){var qn;if(s){var _n="oninput"in document;if(!_n){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),_n="function"===typeof eo.oninput}qn=_n}else qn=!1;Pn=qn&&(!document.documentMode||9<document.documentMode)}function to(){jn&&(jn.detachEvent("onpropertychange",no),On=jn=null)}function no(e){if("value"===e.propertyName&&Qn(On)){var t=[];Tn(t,On,e,ye(e)),we(Un,t)}}function oo(e,t,n){"focusin"===e?(to(),On=n,(jn=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function lo(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(On)}function ro(e,t){if("click"===e)return Qn(t)}function ao(e,t){if("input"===e||"change"===e)return Qn(t)}var io="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function go(e,t){if(io(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!d.call(t,l)||!io(e[l],t[l]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function so(e,t){var n,o=co(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function Io(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Io(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Co(){for(var e=window,t=U();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=U((e=t.contentWindow).document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=Co(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Io(n.ownerDocument.documentElement,n)){if(null!==o&&uo(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var l=n.textContent.length,r=Math.min(o.start,l);o=void 0===o.end?r:Math.min(o.end,l),!e.extend&&r>o&&(l=o,o=r,r=l),l=so(n,r);var a=so(n,o);l&&a&&(1!==e.rangeCount||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(l.node,l.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ao=s&&"documentMode"in document&&11>=document.documentMode,bo=null,po=null,ho=null,fo=!1;function yo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fo||null==bo||bo!==U(o)||("selectionStart"in(o=bo)&&uo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},ho&&go(ho,o)||(ho=o,0<(o=Oo(po,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=bo)))}function vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zo={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},Go={},So={};function Bo(e){if(Go[e])return Go[e];if(!Zo[e])return e;var t,n=Zo[e];for(t in n)if(n.hasOwnProperty(t)&&t in So)return Go[e]=n[t];return e}s&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);var ko=Bo("animationend"),Wo=Bo("animationiteration"),Vo=Bo("animationstart"),Ro=Bo("transitionend"),wo=new Map,Xo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(e,t){wo.set(e,t),g(t,[e])}for(var Ho=0;Ho<Xo.length;Ho++){var xo=Xo[Ho];Jo(xo.toLowerCase(),"on"+(xo[0].toUpperCase()+xo.slice(1)))}Jo(ko,"onAnimationEnd"),Jo(Wo,"onAnimationIteration"),Jo(Vo,"onAnimationStart"),Jo("dblclick","onDoubleClick"),Jo("focusin","onFocus"),Jo("focusout","onBlur"),Jo(Ro,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),No=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Eo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,l,a,i,g,c){if(Me.apply(this,arguments),Ye){if(!Ye)throw Error(r(198));var s=Ne;Ye=!1,Ne=null,Ee||(Ee=!0,Fe=s)}}(o,t,void 0,e),e.currentTarget=null}function Fo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var a=o.length-1;0<=a;a--){var i=o[a],g=i.instance,c=i.currentTarget;if(i=i.listener,g!==r&&l.isPropagationStopped())break e;Eo(l,i,c),r=g}else for(a=0;a<o.length;a++){if(g=(i=o[a]).instance,c=i.currentTarget,i=i.listener,g!==r&&l.isPropagationStopped())break e;Eo(l,i,c),r=g}}}if(Ee)throw e=Fe,Ee=!1,Fe=null,e}function Ko(e,t){var n=t[Al];void 0===n&&(n=t[Al]=new Set);var o=e+"__bubble";n.has(o)||(Do(t,e,2,!1),n.add(o))}function Mo(e,t,n){var o=0;t&&(o|=4),Do(n,e,o,t)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[zo]){e[zo]=!0,a.forEach(function(t){"selectionchange"!==t&&(No.has(t)||Mo(t,!1,e),Mo(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zo]||(t[zo]=!0,Mo("selectionchange",!1,t))}}function Do(e,t,n,o){switch($t(t)){case 1:var l=Tt;break;case 4:l=jt;break;default:l=Ot}n=l.bind(null,t,n,e),l=void 0,!Je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),o?void 0!==l?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):void 0!==l?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function To(e,t,n,o,l){var r=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var i=o.stateNode.containerInfo;if(i===l||8===i.nodeType&&i.parentNode===l)break;if(4===a)for(a=o.return;null!==a;){var g=a.tag;if((3===g||4===g)&&((g=a.stateNode.containerInfo)===l||8===g.nodeType&&g.parentNode===l))return;a=a.return}for(;null!==i;){if(null===(a=hl(i)))return;if(5===(g=a.tag)||6===g){o=r=a;continue e}i=i.parentNode}}o=o.return}we(function(){var o=r,l=ye(n),a=[];e:{var i=wo.get(e);if(void 0!==i){var g=sn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":g=kn;break;case"focusin":c="focus",g=An;break;case"focusout":c="blur",g=An;break;case"beforeblur":case"afterblur":g=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Vn;break;case ko:case Wo:case Vo:g=bn;break;case Ro:g=Rn;break;case"scroll":g=In;break;case"wheel":g=Xn;break;case"copy":case"cut":case"paste":g=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wn}var s=0!==(4&t),d=!s&&"scroll"===e,I=s?null!==i?i+"Capture":null:i;s=[];for(var C,u=o;null!==u;){var m=(C=u).stateNode;if(5===C.tag&&null!==m&&(C=m,null!==I&&(null!=(m=Xe(u,I))&&s.push(jo(u,m,C)))),d)break;u=u.return}0<s.length&&(i=new g(i,c,null,n,l),a.push({event:i,listeners:s}))}}if(0===(7&t)){if(g="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===fe||!(c=n.relatedTarget||n.fromElement)||!hl(c)&&!c[ml])&&(g||i)&&(i=l.window===l?l:(i=l.ownerDocument)?i.defaultView||i.parentWindow:window,g?(g=o,null!==(c=(c=n.relatedTarget||n.toElement)?hl(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(g=null,c=o),g!==c)){if(s=un,m="onMouseLeave",I="onMouseEnter",u="mouse","pointerout"!==e&&"pointerover"!==e||(s=Wn,m="onPointerLeave",I="onPointerEnter",u="pointer"),d=null==g?i:yl(g),C=null==c?i:yl(c),(i=new s(m,u+"leave",g,n,l)).target=d,i.relatedTarget=C,m=null,hl(l)===o&&((s=new s(I,u+"enter",c,n,l)).target=C,s.relatedTarget=d,m=s),d=m,g&&c)e:{for(I=c,u=0,C=s=g;C;C=Uo(C))u++;for(C=0,m=I;m;m=Uo(m))C++;for(;0<u-C;)s=Uo(s),u--;for(;0<C-u;)I=Uo(I),C--;for(;u--;){if(s===I||null!==I&&s===I.alternate)break e;s=Uo(s),I=Uo(I)}s=null}else s=null;null!==g&&Qo(a,i,g,s,!1),null!==c&&null!==d&&Qo(a,d,c,s,!0)}if("select"===(g=(i=o?yl(o):window).nodeName&&i.nodeName.toLowerCase())||"input"===g&&"file"===i.type)var A=$n;else if(Dn(i))if(Pn)A=ao;else{A=lo;var b=oo}else(g=i.nodeName)&&"input"===g.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(A=ro);switch(A&&(A=A(e,o))?Tn(a,A,n,l):(b&&b(e,i,o),"focusout"===e&&(b=i._wrapperState)&&b.controlled&&"number"===i.type&&ee(i,"number",i.value)),b=o?yl(o):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(bo=b,po=o,ho=null);break;case"focusout":ho=po=bo=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,yo(a,n,l);break;case"selectionchange":if(Ao)break;case"keydown":case"keyup":yo(a,n,l)}var p;if(Hn)e:{switch(e){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else zn?Kn(e,n)&&(h="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(h="onCompositionStart");h&&(Nn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==h?"onCompositionEnd"===h&&zn&&(p=en()):(qt="value"in(Pt=l)?Pt.value:Pt.textContent,zn=!0)),0<(b=Oo(o,h)).length&&(h=new fn(h,e,null,n,l),a.push({event:h,listeners:b}),p?h.data=p:null!==(p=Mn(n))&&(h.data=p))),(p=Yn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Fn=!0,En);case"textInput":return(e=t.data)===En&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Hn&&Kn(e,t)?(e=en(),_t=qt=Pt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Oo(o,"onBeforeInput")).length&&(l=new fn("onBeforeInput","beforeinput",null,n,l),a.push({event:l,listeners:o}),l.data=p))}Fo(a,t)})}function jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oo(e,t){for(var n=t+"Capture",o=[];null!==e;){var l=e,r=l.stateNode;5===l.tag&&null!==r&&(l=r,null!=(r=Xe(e,n))&&o.unshift(jo(e,r,l)),null!=(r=Xe(e,t))&&o.push(jo(e,r,l))),e=e.return}return o}function Uo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qo(e,t,n,o,l){for(var r=t._reactName,a=[];null!==n&&n!==o;){var i=n,g=i.alternate,c=i.stateNode;if(null!==g&&g===o)break;5===i.tag&&null!==c&&(i=c,l?null!=(g=Xe(n,r))&&a.unshift(jo(n,g,i)):l||null!=(g=Xe(n,r))&&a.push(jo(n,g,i))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $o=/\r\n?/g,Po=/\u0000|\uFFFD/g;function qo(e){return("string"===typeof e?e:""+e).replace($o,"\n").replace(Po,"")}function _o(e,t,n){if(t=qo(t),qo(e)!==t&&n)throw Error(r(425))}function el(){}var tl=null,nl=null;function ol(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ll="function"===typeof setTimeout?setTimeout:void 0,rl="function"===typeof clearTimeout?clearTimeout:void 0,al="function"===typeof Promise?Promise:void 0,il="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof al?function(e){return al.resolve(null).then(e).catch(gl)}:ll;function gl(e){setTimeout(function(){throw e})}function cl(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0===o)return e.removeChild(l),void zt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=l}while(n);zt(t)}function sl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dl(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Il=Math.random().toString(36).slice(2),Cl="__reactFiber$"+Il,ul="__reactProps$"+Il,ml="__reactContainer$"+Il,Al="__reactEvents$"+Il,bl="__reactListeners$"+Il,pl="__reactHandles$"+Il;function hl(e){var t=e[Cl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ml]||n[Cl]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dl(e);null!==e;){if(n=e[Cl])return n;e=dl(e)}return t}n=(e=n).parentNode}return null}function fl(e){return!(e=e[Cl]||e[ml])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yl(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function vl(e){return e[ul]||null}var Zl=[],Gl=-1;function Sl(e){return{current:e}}function Bl(e){0>Gl||(e.current=Zl[Gl],Zl[Gl]=null,Gl--)}function kl(e,t){Gl++,Zl[Gl]=e.current,e.current=t}var Wl={},Vl=Sl(Wl),Rl=Sl(!1),wl=Wl;function Xl(e,t){var n=e.type.contextTypes;if(!n)return Wl;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l,r={};for(l in n)r[l]=t[l];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Jl(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Hl(){Bl(Rl),Bl(Vl)}function xl(e,t,n){if(Vl.current!==Wl)throw Error(r(168));kl(Vl,t),kl(Rl,n)}function Yl(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var l in o=o.getChildContext())if(!(l in t))throw Error(r(108,L(e)||"Unknown",l));return N({},n,o)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wl,wl=Vl.current,kl(Vl,e),kl(Rl,Rl.current),!0}function El(e,t,n){var o=e.stateNode;if(!o)throw Error(r(169));n?(e=Yl(e,t,wl),o.__reactInternalMemoizedMergedChildContext=e,Bl(Rl),Bl(Vl),kl(Vl,e)):Bl(Rl),kl(Rl,n)}var Fl=null,Kl=!1,Ml=!1;function zl(e){null===Fl?Fl=[e]:Fl.push(e)}function Ll(){if(!Ml&&null!==Fl){Ml=!0;var e=0,t=ht;try{var n=Fl;for(ht=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Fl=null,Kl=!1}catch(l){throw null!==Fl&&(Fl=Fl.slice(e+1)),Oe(_e,Ll),l}finally{ht=t,Ml=!1}}return null}var Dl=[],Tl=0,jl=null,Ol=0,Ul=[],Ql=0,$l=null,Pl=1,ql="";function _l(e,t){Dl[Tl++]=Ol,Dl[Tl++]=jl,jl=e,Ol=t}function er(e,t,n){Ul[Ql++]=Pl,Ul[Ql++]=ql,Ul[Ql++]=$l,$l=e;var o=Pl;e=ql;var l=32-at(o)-1;o&=~(1<<l),n+=1;var r=32-at(t)+l;if(30<r){var a=l-l%5;r=(o&(1<<a)-1).toString(32),o>>=a,l-=a,Pl=1<<32-at(t)+l|n<<l|o,ql=r+e}else Pl=1<<r|n<<l|o,ql=e}function tr(e){null!==e.return&&(_l(e,1),er(e,1,0))}function nr(e){for(;e===jl;)jl=Dl[--Tl],Dl[Tl]=null,Ol=Dl[--Tl],Dl[Tl]=null;for(;e===$l;)$l=Ul[--Ql],Ul[Ql]=null,ql=Ul[--Ql],Ul[Ql]=null,Pl=Ul[--Ql],Ul[Ql]=null}var or=null,lr=null,rr=!1,ar=null;function ir(e,t){var n=Xc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,or=e,lr=sl(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,or=e,lr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$l?{id:Pl,overflow:ql}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,or=e,lr=null,!0);default:return!1}}function cr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sr(e){if(rr){var t=lr;if(t){var n=t;if(!gr(e,t)){if(cr(e))throw Error(r(418));t=sl(n.nextSibling);var o=or;t&&gr(e,t)?ir(o,n):(e.flags=-4097&e.flags|2,rr=!1,or=e)}}else{if(cr(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,or=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;or=e}function Ir(e){if(e!==or)return!1;if(!rr)return dr(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ol(e.type,e.memoizedProps)),t&&(t=lr)){if(cr(e))throw Cr(),Error(r(418));for(;t;)ir(e,t),t=sl(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){lr=sl(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}lr=null}}else lr=or?sl(e.stateNode.nextSibling):null;return!0}function Cr(){for(var e=lr;e;)e=sl(e.nextSibling)}function ur(){lr=or=null,rr=!1}function mr(e){null===ar?ar=[e]:ar.push(e)}var Ar=f.ReactCurrentBatchConfig;function br(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var pr=Sl(null),hr=null,fr=null,yr=null;function vr(){yr=fr=hr=null}function Zr(e){var t=pr.current;Bl(pr),e._currentValue=t}function Gr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){hr=e,yr=fr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(fi=!0),e.firstContext=null)}function Br(e){var t=e._currentValue;if(yr!==e)if(e={context:e,memoizedValue:t,next:null},null===fr){if(null===hr)throw Error(r(308));fr=e,hr.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var kr=null;function Wr(e){null===kr?kr=[e]:kr.push(e)}function Vr(e,t,n,o){var l=t.interleaved;return null===l?(n.next=n,Wr(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rr(e,o)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var wr=!1;function Xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Vg)){var l=o.pending;return null===l?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Rr(e,n)}return null===(l=o.interleaved)?(t.next=t,Wr(o)):(t.next=l.next,l.next=t),o.interleaved=t,Rr(e,n)}function Yr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,pt(e,n)}}function Nr(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var l=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?l=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?l=r=t:r=r.next=t}else l=r=t;return n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Er(e,t,n,o){var l=e.updateQueue;wr=!1;var r=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(null!==i){l.shared.pending=null;var g=i,c=g.next;g.next=null,null===a?r=c:a.next=c,a=g;var s=e.alternate;null!==s&&((i=(s=s.updateQueue).lastBaseUpdate)!==a&&(null===i?s.firstBaseUpdate=c:i.next=c,s.lastBaseUpdate=g))}if(null!==r){var d=l.baseState;for(a=0,s=c=g=null,i=r;;){var I=i.lane,C=i.eventTime;if((o&I)===I){null!==s&&(s=s.next={eventTime:C,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var u=e,m=i;switch(I=t,C=n,m.tag){case 1:if("function"===typeof(u=m.payload)){d=u.call(C,d,I);break e}d=u;break e;case 3:u.flags=-65537&u.flags|128;case 0:if(null===(I="function"===typeof(u=m.payload)?u.call(C,d,I):u)||void 0===I)break e;d=N({},d,I);break e;case 2:wr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(I=l.effects)?l.effects=[i]:I.push(i))}else C={eventTime:C,lane:I,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===s?(c=s=C,g=d):s=s.next=C,a|=I;if(null===(i=i.next)){if(null===(i=l.shared.pending))break;i=(I=i).next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}if(null===s&&(g=d),l.baseState=g,l.firstBaseUpdate=c,l.lastBaseUpdate=s,null!==(t=l.shared.interleaved)){l=t;do{a|=l.lane,l=l.next}while(l!==t)}else null===r&&(l.shared.lanes=0);Ng|=a,e.lanes=a,e.memoizedState=d}}function Fr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(null!==l){if(o.callback=null,o=n,"function"!==typeof l)throw Error(r(191,l));l.call(o)}}}var Kr=(new o.Component).refs;function Mr(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zr={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=tc(),l=nc(e),r=Hr(o,l);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=xr(e,r,l))&&(oc(t,e,l,o),Yr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=tc(),l=nc(e),r=Hr(o,l);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=xr(e,r,l))&&(oc(t,e,l,o),Yr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),o=nc(e),l=Hr(n,o);l.tag=2,void 0!==t&&null!==t&&(l.callback=t),null!==(t=xr(e,l,o))&&(oc(t,e,o,n),Yr(t,e,o))}};function Lr(e,t,n,o,l,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!go(n,o)||!go(l,r))}function Dr(e,t,n){var o=!1,l=Wl,r=t.contextType;return"object"===typeof r&&null!==r?r=Br(r):(l=Jl(t)?wl:Vl.current,r=(o=null!==(o=t.contextTypes)&&void 0!==o)?Xl(e,l):Wl),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zr,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=r),t}function Tr(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&zr.enqueueReplaceState(t,t.state,null)}function jr(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=Kr,Xr(e);var r=t.contextType;"object"===typeof r&&null!==r?l.context=Br(r):(r=Jl(t)?wl:Vl.current,l.context=Xl(e,r)),l.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(Mr(e,t,r,n),l.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(t=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&zr.enqueueReplaceState(l,l.state,null),Er(e,n,l,o),l.state=e.memoizedState),"function"===typeof l.componentDidMount&&(e.flags|=4194308)}function Or(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var o=n.stateNode}if(!o)throw Error(r(147,e));var l=o,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=l.refs;t===Kr&&(t=l.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ur(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qr(e){return(0,e._init)(e._payload)}function $r(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function l(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function a(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function g(e,t,n,o){return null===t||6!==t.tag?((t=Ec(n,e.mode,o)).return=e,t):((t=l(t,n)).return=e,t)}function c(e,t,n,o){var r=n.type;return r===Z?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===X&&Qr(r)===t.type)?((o=l(t,n.props)).ref=Or(e,t,n),o.return=e,o):((o=xc(n.type,n.key,n.props,null,e.mode,o)).ref=Or(e,t,n),o.return=e,o)}function s(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,o)).return=e,t):((t=l(t,n.children||[])).return=e,t)}function d(e,t,n,o,r){return null===t||7!==t.tag?((t=Yc(n,e.mode,o,r)).return=e,t):((t=l(t,n)).return=e,t)}function I(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Or(e,null,t),n.return=e,n;case v:return(t=Fc(t,e.mode,n)).return=e,t;case X:return I(e,(0,t._init)(t._payload),n)}if(te(t)||x(t))return(t=Yc(t,e.mode,n,null)).return=e,t;Ur(e,t)}return null}function C(e,t,n,o){var l=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==l?null:g(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===l?c(e,t,n,o):null;case v:return n.key===l?s(e,t,n,o):null;case X:return C(e,t,(l=n._init)(n._payload),o)}if(te(n)||x(n))return null!==l?null:d(e,t,n,o,null);Ur(e,n)}return null}function u(e,t,n,o,l){if("string"===typeof o&&""!==o||"number"===typeof o)return g(t,e=e.get(n)||null,""+o,l);if("object"===typeof o&&null!==o){switch(o.$$typeof){case y:return c(t,e=e.get(null===o.key?n:o.key)||null,o,l);case v:return s(t,e=e.get(null===o.key?n:o.key)||null,o,l);case X:return u(e,t,n,(0,o._init)(o._payload),l)}if(te(o)||x(o))return d(t,e=e.get(n)||null,o,l,null);Ur(t,o)}return null}function m(l,r,i,g){for(var c=null,s=null,d=r,m=r=0,A=null;null!==d&&m<i.length;m++){d.index>m?(A=d,d=null):A=d.sibling;var b=C(l,d,i[m],g);if(null===b){null===d&&(d=A);break}e&&d&&null===b.alternate&&t(l,d),r=a(b,r,m),null===s?c=b:s.sibling=b,s=b,d=A}if(m===i.length)return n(l,d),rr&&_l(l,m),c;if(null===d){for(;m<i.length;m++)null!==(d=I(l,i[m],g))&&(r=a(d,r,m),null===s?c=d:s.sibling=d,s=d);return rr&&_l(l,m),c}for(d=o(l,d);m<i.length;m++)null!==(A=u(d,l,m,i[m],g))&&(e&&null!==A.alternate&&d.delete(null===A.key?m:A.key),r=a(A,r,m),null===s?c=A:s.sibling=A,s=A);return e&&d.forEach(function(e){return t(l,e)}),rr&&_l(l,m),c}function A(l,i,g,c){var s=x(g);if("function"!==typeof s)throw Error(r(150));if(null==(g=s.call(g)))throw Error(r(151));for(var d=s=null,m=i,A=i=0,b=null,p=g.next();null!==m&&!p.done;A++,p=g.next()){m.index>A?(b=m,m=null):b=m.sibling;var h=C(l,m,p.value,c);if(null===h){null===m&&(m=b);break}e&&m&&null===h.alternate&&t(l,m),i=a(h,i,A),null===d?s=h:d.sibling=h,d=h,m=b}if(p.done)return n(l,m),rr&&_l(l,A),s;if(null===m){for(;!p.done;A++,p=g.next())null!==(p=I(l,p.value,c))&&(i=a(p,i,A),null===d?s=p:d.sibling=p,d=p);return rr&&_l(l,A),s}for(m=o(l,m);!p.done;A++,p=g.next())null!==(p=u(m,l,A,p.value,c))&&(e&&null!==p.alternate&&m.delete(null===p.key?A:p.key),i=a(p,i,A),null===d?s=p:d.sibling=p,d=p);return e&&m.forEach(function(e){return t(l,e)}),rr&&_l(l,A),s}return function e(o,r,a,g){if("object"===typeof a&&null!==a&&a.type===Z&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var c=a.key,s=r;null!==s;){if(s.key===c){if((c=a.type)===Z){if(7===s.tag){n(o,s.sibling),(r=l(s,a.props.children)).return=o,o=r;break e}}else if(s.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===X&&Qr(c)===s.type){n(o,s.sibling),(r=l(s,a.props)).ref=Or(o,s,a),r.return=o,o=r;break e}n(o,s);break}t(o,s),s=s.sibling}a.type===Z?((r=Yc(a.props.children,o.mode,g,a.key)).return=o,o=r):((g=xc(a.type,a.key,a.props,null,o.mode,g)).ref=Or(o,r,a),g.return=o,o=g)}return i(o);case v:e:{for(s=a.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(o,r.sibling),(r=l(r,a.children||[])).return=o,o=r;break e}n(o,r);break}t(o,r),r=r.sibling}(r=Fc(a,o.mode,g)).return=o,o=r}return i(o);case X:return e(o,r,(s=a._init)(a._payload),g)}if(te(a))return m(o,r,a,g);if(x(a))return A(o,r,a,g);Ur(o,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(o,r.sibling),(r=l(r,a)).return=o,o=r):(n(o,r),(r=Ec(a,o.mode,g)).return=o,o=r),i(o)):n(o,r)}}var Pr=$r(!0),qr=$r(!1),_r={},ea=Sl(_r),ta=Sl(_r),na=Sl(_r);function oa(e){if(e===_r)throw Error(r(174));return e}function la(e,t){switch(kl(na,t),kl(ta,e),kl(ea,_r),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:t=ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Bl(ea),kl(ea,t)}function ra(){Bl(ea),Bl(ta),Bl(na)}function aa(e){oa(na.current);var t=oa(ea.current),n=ge(t,e.type);t!==n&&(kl(ta,e),kl(ea,n))}function ia(e){ta.current===e&&(Bl(ea),Bl(ta))}var ga=Sl(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function da(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var Ia=f.ReactCurrentDispatcher,Ca=f.ReactCurrentBatchConfig,ua=0,ma=null,Aa=null,ba=null,pa=!1,ha=!1,fa=0,ya=0;function va(){throw Error(r(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!io(e[n],t[n]))return!1;return!0}function Ga(e,t,n,o,l,a){if(ua=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ia.current=null===e||null===e.memoizedState?ii:gi,e=n(o,l),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(r(301));a+=1,ba=Aa=null,t.updateQueue=null,Ia.current=ci,e=n(o,l)}while(ha)}if(Ia.current=ai,t=null!==Aa&&null!==Aa.next,ua=0,ba=Aa=ma=null,pa=!1,t)throw Error(r(300));return e}function Sa(){var e=0!==fa;return fa=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ma.memoizedState=ba=e:ba=ba.next=e,ba}function ka(){if(null===Aa){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=Aa.next;var t=null===ba?ma.memoizedState:ba.next;if(null!==t)ba=t,Aa=e;else{if(null===e)throw Error(r(310));e={memoizedState:(Aa=e).memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},null===ba?ma.memoizedState=ba=e:ba=ba.next=e}return ba}function Wa(e,t){return"function"===typeof t?t(e):t}function Va(e){var t=ka(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=Aa,l=o.baseQueue,a=n.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}o.baseQueue=l=a,n.pending=null}if(null!==l){a=l.next,o=o.baseState;var g=i=null,c=null,s=a;do{var d=s.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),o=s.hasEagerState?s.eagerState:e(o,s.action);else{var I={lane:d,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(g=c=I,i=o):c=c.next=I,ma.lanes|=d,Ng|=d}s=s.next}while(null!==s&&s!==a);null===c?i=o:c.next=g,io(o,t.memoizedState)||(fi=!0),t.memoizedState=o,t.baseState=i,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){l=e;do{a=l.lane,ma.lanes|=a,Ng|=a,l=l.next}while(l!==e)}else null===l&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=ka(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,a=t.memoizedState;if(null!==l){n.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);io(a,t.memoizedState)||(fi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,o]}function wa(){}function Xa(e,t){var n=ma,o=ka(),l=t(),a=!io(o.memoizedState,l);if(a&&(o.memoizedState=l,fi=!0),o=o.queue,Da(xa.bind(null,n,o,e),[e]),o.getSnapshot!==t||a||null!==ba&&1&ba.memoizedState.tag){if(n.flags|=2048,Fa(9,Ha.bind(null,n,o,l,t),void 0,null),null===Rg)throw Error(r(349));0!==(30&ua)||Ja(n,t,l)}return l}function Ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ha(e,t,n,o){t.value=n,t.getSnapshot=o,Ya(t)&&Na(e)}function xa(e,t,n){return n(function(){Ya(t)&&Na(e)})}function Ya(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!io(e,n)}catch(o){return!0}}function Na(e){var t=Rr(e,1);null!==t&&oc(t,e,1,-1)}function Ea(e){var t=Ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,ma,e),[t.memoizedState,e]}function Fa(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Ka(){return ka().memoizedState}function Ma(e,t,n,o){var l=Ba();ma.flags|=e,l.memoizedState=Fa(1|t,n,void 0,void 0===o?null:o)}function za(e,t,n,o){var l=ka();o=void 0===o?null:o;var r=void 0;if(null!==Aa){var a=Aa.memoizedState;if(r=a.destroy,null!==o&&Za(o,a.deps))return void(l.memoizedState=Fa(t,n,r,o))}ma.flags|=e,l.memoizedState=Fa(1|t,n,r,o)}function La(e,t){return Ma(8390656,8,e,t)}function Da(e,t){return za(2048,8,e,t)}function Ta(e,t){return za(4,2,e,t)}function ja(e,t){return za(4,4,e,t)}function Oa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Oa.bind(null,t,e),n)}function Qa(){}function $a(e,t){var n=ka();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Za(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=ka();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Za(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,fi=!0),e.memoizedState=n):(io(n,t)||(n=mt(),ma.lanes|=n,Ng|=n,e.baseState=!0),t)}function _a(e,t){var n=ht;ht=0!==n&&4>n?n:4,e(!0);var o=Ca.transition;Ca.transition={};try{e(!1),t()}finally{ht=n,Ca.transition=o}}function ei(){return ka().memoizedState}function ti(e,t,n){var o=nc(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},oi(e))li(t,n);else if(null!==(n=Vr(e,t,n,o))){oc(n,e,o,tc()),ri(n,t,o)}}function ni(e,t,n){var o=nc(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(oi(e))li(t,l);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,i=r(a,n);if(l.hasEagerState=!0,l.eagerState=i,io(i,a)){var g=t.interleaved;return null===g?(l.next=l,Wr(t)):(l.next=g.next,g.next=l),void(t.interleaved=l)}}catch(c){}null!==(n=Vr(e,t,l,o))&&(oc(n,e,o,l=tc()),ri(n,t,o))}}function oi(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function li(e,t){ha=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ri(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,pt(e,n)}}var ai={readContext:Br,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},ii={readContext:Br,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:Br,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Oa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=Ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Ba();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ti.bind(null,ma,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:Ea,useDebugValue:Qa,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=_a.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ma,l=Ba();if(rr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Rg)throw Error(r(349));0!==(30&ua)||Ja(o,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,La(xa.bind(null,o,a,e),[e]),o.flags|=2048,Fa(9,Ha.bind(null,o,a,n,t),void 0,null),n},useId:function(){var e=Ba(),t=Rg.identifierPrefix;if(rr){var n=ql;t=":"+t+"R"+(n=(Pl&~(1<<32-at(Pl)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gi={readContext:Br,useCallback:$a,useContext:Br,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Ta,useLayoutEffect:ja,useMemo:Pa,useReducer:Va,useRef:Ka,useState:function(){return Va(Wa)},useDebugValue:Qa,useDeferredValue:function(e){return qa(ka(),Aa.memoizedState,e)},useTransition:function(){return[Va(Wa)[0],ka().memoizedState]},useMutableSource:wa,useSyncExternalStore:Xa,useId:ei,unstable_isNewReconciler:!1},ci={readContext:Br,useCallback:$a,useContext:Br,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Ta,useLayoutEffect:ja,useMemo:Pa,useReducer:Ra,useRef:Ka,useState:function(){return Ra(Wa)},useDebugValue:Qa,useDeferredValue:function(e){var t=ka();return null===Aa?t.memoizedState=e:qa(t,Aa.memoizedState,e)},useTransition:function(){return[Ra(Wa)[0],ka().memoizedState]},useMutableSource:wa,useSyncExternalStore:Xa,useId:ei,unstable_isNewReconciler:!1};function si(e,t){try{var n="",o=t;do{n+=M(o),o=o.return}while(o);var l=n}catch(r){l="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:l,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ii(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ci="function"===typeof WeakMap?WeakMap:Map;function ui(e,t,n){(n=Hr(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Tg||(Tg=!0,jg=o),Ii(0,t)},n}function mi(e,t,n){(n=Hr(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){Ii(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){Ii(0,t),"function"!==typeof o&&(null===Og?Og=new Set([this]):Og.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ai(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new Ci;var l=new Set;o.set(t,l)}else void 0===(l=o.get(t))&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=Bc.bind(null,e,t,n),t.then(e,e))}function bi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pi(e,t,n,o,l){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Hr(-1,1)).tag=2,xr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var hi=f.ReactCurrentOwner,fi=!1;function yi(e,t,n,o){t.child=null===e?qr(t,null,n,o):Pr(t,e.child,n,o)}function vi(e,t,n,o,l){n=n.render;var r=t.ref;return Sr(t,l),o=Ga(e,t,n,o,r,l),n=Sa(),null===e||fi?(rr&&n&&tr(t),t.flags|=1,yi(e,t,o,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ti(e,t,l))}function Zi(e,t,n,o,l){if(null===e){var r=n.type;return"function"!==typeof r||Jc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,o,t,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Gi(e,t,r,o,l))}if(r=e.child,0===(e.lanes&l)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:go)(a,o)&&e.ref===t.ref)return Ti(e,t,l)}return t.flags|=1,(e=Hc(r,o)).ref=t.ref,e.return=t,t.child=e}function Gi(e,t,n,o,l){if(null!==e){var r=e.memoizedProps;if(go(r,o)&&e.ref===t.ref){if(fi=!1,t.pendingProps=o=r,0===(e.lanes&l))return t.lanes=e.lanes,Ti(e,t,l);0!==(131072&e.flags)&&(fi=!0)}}return ki(e,t,n,o,l)}function Si(e,t,n){var o=t.pendingProps,l=o.children,r=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kl(Hg,Jg),Jg|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kl(Hg,Jg),Jg|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==r?r.baseLanes:n,kl(Hg,Jg),Jg|=o}else null!==r?(o=r.baseLanes|n,t.memoizedState=null):o=n,kl(Hg,Jg),Jg|=o;return yi(e,t,l,n),t.child}function Bi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,o,l){var r=Jl(n)?wl:Vl.current;return r=Xl(t,r),Sr(t,l),n=Ga(e,t,n,o,r,l),o=Sa(),null===e||fi?(rr&&o&&tr(t),t.flags|=1,yi(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ti(e,t,l))}function Wi(e,t,n,o,l){if(Jl(n)){var r=!0;Nl(t)}else r=!1;if(Sr(t,l),null===t.stateNode)Di(e,t),Dr(t,n,o),jr(t,n,o,l),o=!0;else if(null===e){var a=t.stateNode,i=t.memoizedProps;a.props=i;var g=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Br(c):c=Xl(t,c=Jl(n)?wl:Vl.current);var s=n.getDerivedStateFromProps,d="function"===typeof s||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==o||g!==c)&&Tr(t,a,o,c),wr=!1;var I=t.memoizedState;a.state=I,Er(t,o,a,l),g=t.memoizedState,i!==o||I!==g||Rl.current||wr?("function"===typeof s&&(Mr(t,n,s,o),g=t.memoizedState),(i=wr||Lr(t,n,i,o,I,g,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=g),a.props=o,a.state=g,a.context=c,o=i):("function"===typeof a.componentDidMount&&(t.flags|=4194308),o=!1)}else{a=t.stateNode,Jr(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:br(t.type,i),a.props=c,d=t.pendingProps,I=a.context,"object"===typeof(g=n.contextType)&&null!==g?g=Br(g):g=Xl(t,g=Jl(n)?wl:Vl.current);var C=n.getDerivedStateFromProps;(s="function"===typeof C||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||I!==g)&&Tr(t,a,o,g),wr=!1,I=t.memoizedState,a.state=I,Er(t,o,a,l);var u=t.memoizedState;i!==d||I!==u||Rl.current||wr?("function"===typeof C&&(Mr(t,n,C,o),u=t.memoizedState),(c=wr||Lr(t,n,c,o,I,u,g)||!1)?(s||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(o,u,g),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,u,g)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=u),a.props=o,a.state=u,a.context=g,o=c):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),o=!1)}return Vi(e,t,n,o,r,l)}function Vi(e,t,n,o,l,r){Bi(e,t);var a=0!==(128&t.flags);if(!o&&!a)return l&&El(t,n,!1),Ti(e,t,r);o=t.stateNode,hi.current=t;var i=a&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&a?(t.child=Pr(t,e.child,null,r),t.child=Pr(t,null,i,r)):yi(e,t,i,r),t.memoizedState=o.state,l&&El(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?xl(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xl(0,t.context,!1),la(e,t.containerInfo)}function wi(e,t,n,o,l){return ur(),mr(l),t.flags|=256,yi(e,t,n,o),t.child}var Xi,Ji,Hi,xi,Yi={dehydrated:null,treeContext:null,retryLane:0};function Ni(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ei(e,t,n){var o,l=t.pendingProps,a=ga.current,i=!1,g=0!==(128&t.flags);if((o=g)||(o=(null===e||null!==e.memoizedState)&&0!==(2&a)),o?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),kl(ga,1&a),null===e)return sr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(g=l.children,e=l.fallback,i?(l=t.mode,i=t.child,g={mode:"hidden",children:g},0===(1&l)&&null!==i?(i.childLanes=0,i.pendingProps=g):i=Nc(g,l,0,null),e=Yc(e,l,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ni(n),t.memoizedState=Yi,e):Fi(t,g));if(null!==(a=e.memoizedState)&&null!==(o=a.dehydrated))return function(e,t,n,o,l,a,i){if(n)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,o=di(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=o.fallback,l=t.mode,o=Nc({mode:"visible",children:o.children},l,0,null),(a=Yc(a,l,i,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,0!==(1&t.mode)&&Pr(t,e.child,null,i),t.child.memoizedState=Ni(i),t.memoizedState=Yi,a);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===l.data){if(o=l.nextSibling&&l.nextSibling.dataset)var g=o.dgst;return o=g,Ki(e,t,i,o=di(a=Error(r(419)),o,void 0))}if(g=0!==(i&e.childLanes),fi||g){if(null!==(o=Rg)){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}0!==(l=0!==(l&(o.suspendedLanes|i))?0:l)&&l!==a.retryLane&&(a.retryLane=l,Rr(e,l),oc(o,e,l,-1))}return Ac(),Ki(e,t,i,o=di(Error(r(421))))}return"$?"===l.data?(t.flags|=128,t.child=e.child,t=Wc.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,lr=sl(l.nextSibling),or=t,rr=!0,ar=null,null!==e&&(Ul[Ql++]=Pl,Ul[Ql++]=ql,Ul[Ql++]=$l,Pl=e.id,ql=e.overflow,$l=t),t=Fi(t,o.children),t.flags|=4096,t)}(e,t,g,l,o,a,n);if(i){i=l.fallback,g=t.mode,o=(a=e.child).sibling;var c={mode:"hidden",children:l.children};return 0===(1&g)&&t.child!==a?((l=t.child).childLanes=0,l.pendingProps=c,t.deletions=null):(l=Hc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==o?i=Hc(o,i):(i=Yc(i,g,n,null)).flags|=2,i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,g=null===(g=e.child.memoizedState)?Ni(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},i.memoizedState=g,i.childLanes=e.childLanes&~n,t.memoizedState=Yi,l}return e=(i=e.child).sibling,l=Hc(i,{mode:"visible",children:l.children}),0===(1&t.mode)&&(l.lanes=n),l.return=t,l.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Fi(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,o){return null!==o&&mr(o),Pr(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mi(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Gr(e.return,t,n)}function zi(e,t,n,o,l){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=l)}function Li(e,t,n){var o=t.pendingProps,l=o.revealOrder,r=o.tail;if(yi(e,t,o.children,n),0!==(2&(o=ga.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mi(e,n,t);else if(19===e.tag)Mi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(kl(ga,o),0===(1&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),zi(t,!1,l,n,r);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===ca(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}zi(t,!0,n,null,r);break;case"together":zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ti(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ng|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ji(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;null!==l;)n|=l.lanes|l.childLanes,o|=14680064&l.subtreeFlags,o|=14680064&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Ui(e,t,n){var o=t.pendingProps;switch(nr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return Jl(t.type)&&Hl(),Oi(t),null;case 3:return o=t.stateNode,ra(),Bl(Rl),Bl(Vl),da(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(Ir(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ar&&(ic(ar),ar=null))),Ji(e,t),Oi(t),null;case 5:ia(t);var l=oa(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Hi(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(r(166));return Oi(t),null}if(e=oa(ea.current),Ir(t)){o=t.stateNode,n=t.type;var a=t.memoizedProps;switch(o[Cl]=t,o[ul]=a,e=0!==(1&t.mode),n){case"dialog":Ko("cancel",o),Ko("close",o);break;case"iframe":case"object":case"embed":Ko("load",o);break;case"video":case"audio":for(l=0;l<Yo.length;l++)Ko(Yo[l],o);break;case"source":Ko("error",o);break;case"img":case"image":case"link":Ko("error",o),Ko("load",o);break;case"details":Ko("toggle",o);break;case"input":$(o,a),Ko("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},Ko("invalid",o);break;case"textarea":le(o,a),Ko("invalid",o)}for(var g in pe(n,a),l=null,a)if(a.hasOwnProperty(g)){var c=a[g];"children"===g?"string"===typeof c?o.textContent!==c&&(!0!==a.suppressHydrationWarning&&_o(o.textContent,c,e),l=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&_o(o.textContent,c,e),l=["children",""+c]):i.hasOwnProperty(g)&&null!=c&&"onScroll"===g&&Ko("scroll",o)}switch(n){case"input":j(o),_(o,a,!0);break;case"textarea":j(o),ae(o);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(o.onclick=el)}o=l,t.updateQueue=o,null!==o&&(t.flags|=4)}else{g=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=g.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=g.createElement(n,{is:o.is}):(e=g.createElement(n),"select"===n&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,n),e[Cl]=t,e[ul]=o,Xi(e,t,!1,!1),t.stateNode=e;e:{switch(g=he(n,o),n){case"dialog":Ko("cancel",e),Ko("close",e),l=o;break;case"iframe":case"object":case"embed":Ko("load",e),l=o;break;case"video":case"audio":for(l=0;l<Yo.length;l++)Ko(Yo[l],e);l=o;break;case"source":Ko("error",e),l=o;break;case"img":case"image":case"link":Ko("error",e),Ko("load",e),l=o;break;case"details":Ko("toggle",e),l=o;break;case"input":$(e,o),l=Q(e,o),Ko("invalid",e);break;case"option":default:l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=N({},o,{value:void 0}),Ko("invalid",e);break;case"textarea":le(e,o),l=oe(e,o),Ko("invalid",e)}for(a in pe(n,l),c=l)if(c.hasOwnProperty(a)){var s=c[a];"style"===a?Ae(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&de(e,s):"children"===a?"string"===typeof s?("textarea"!==n||""!==s)&&Ie(e,s):"number"===typeof s&&Ie(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(i.hasOwnProperty(a)?null!=s&&"onScroll"===a&&Ko("scroll",e):null!=s&&h(e,a,s,g))}switch(n){case"input":j(e),_(e,o,!1);break;case"textarea":j(e),ae(e);break;case"option":null!=o.value&&e.setAttribute("value",""+D(o.value));break;case"select":e.multiple=!!o.multiple,null!=(a=o.value)?ne(e,!!o.multiple,a,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)xi(e,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(r(166));if(n=oa(na.current),oa(ea.current),Ir(t)){if(o=t.stateNode,n=t.memoizedProps,o[Cl]=t,(a=o.nodeValue!==n)&&null!==(e=or))switch(e.tag){case 3:_o(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&_o(o.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[Cl]=t,t.stateNode=o}return Oi(t),null;case 13:if(Bl(ga),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==lr&&0!==(1&t.mode)&&0===(128&t.flags))Cr(),ur(),t.flags|=98560,a=!1;else if(a=Ir(t),null!==o&&null!==o.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Cl]=t}else ur(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Oi(t),a=!1}else null!==ar&&(ic(ar),ar=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ga.current)?0===xg&&(xg=3):Ac())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return ra(),Ji(e,t),null===e&&Lo(t.stateNode.containerInfo),Oi(t),null;case 10:return Zr(t.type._context),Oi(t),null;case 19:if(Bl(ga),null===(a=t.memoizedState))return Oi(t),null;if(o=0!==(128&t.flags),null===(g=a.rendering))if(o)ji(a,!1);else{if(0!==xg||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(g=ca(e))){for(t.flags|=128,ji(a,!1),null!==(o=g.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(a=n).flags&=14680066,null===(g=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,e=g.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kl(ga,1&ga.current|2),t.child}e=e.sibling}null!==a.tail&&Pe()>Lg&&(t.flags|=128,o=!0,ji(a,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ca(g))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ji(a,!0),null===a.tail&&"hidden"===a.tailMode&&!g.alternate&&!rr)return Oi(t),null}else 2*Pe()-a.renderingStartTime>Lg&&1073741824!==n&&(t.flags|=128,o=!0,ji(a,!1),t.lanes=4194304);a.isBackwards?(g.sibling=t.child,t.child=g):(null!==(n=a.last)?n.sibling=g:t.child=g,a.last=g)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pe(),t.sibling=null,n=ga.current,kl(ga,o?1&n|2:1&n),t):(Oi(t),null);case 22:case 23:return Ic(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Jg)&&(Oi(t),6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Qi(e,t){switch(nr(t),t.tag){case 1:return Jl(t.type)&&Hl(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),Bl(Rl),Bl(Vl),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(Bl(ga),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ur()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Bl(ga),null;case 4:return ra(),null;case 10:return Zr(t.type._context),null;case 22:case 23:return Ic(),null;default:return null}}Xi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(){},Hi=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,oa(ea.current);var r,a=null;switch(n){case"input":l=Q(e,l),o=Q(e,o),a=[];break;case"select":l=N({},l,{value:void 0}),o=N({},o,{value:void 0}),a=[];break;case"textarea":l=oe(e,l),o=oe(e,o),a=[];break;default:"function"!==typeof l.onClick&&"function"===typeof o.onClick&&(e.onclick=el)}for(s in pe(n,o),n=null,l)if(!o.hasOwnProperty(s)&&l.hasOwnProperty(s)&&null!=l[s])if("style"===s){var g=l[s];for(r in g)g.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?a||(a=[]):(a=a||[]).push(s,null));for(s in o){var c=o[s];if(g=null!=l?l[s]:void 0,o.hasOwnProperty(s)&&c!==g&&(null!=c||null!=g))if("style"===s)if(g){for(r in g)!g.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&g[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,g=g?g.__html:void 0,null!=c&&g!==c&&(a=a||[]).push(s,c)):"children"===s?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(i.hasOwnProperty(s)?(null!=c&&"onScroll"===s&&Ko("scroll",e),a||g===c||(a=[])):(a=a||[]).push(s,c))}n&&(a=a||[]).push("style",n);var s=a;(t.updateQueue=s)&&(t.flags|=4)}},xi=function(e,t,n,o){n!==o&&(t.flags|=4)};var $i=!1,Pi=!1,qi="function"===typeof WeakSet?WeakSet:Set,_i=null;function eg(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){Sc(e,t,o)}else n.current=null}function tg(e,t,n){try{n()}catch(o){Sc(e,t,o)}}var ng=!1;function og(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var l=o=o.next;do{if((l.tag&e)===e){var r=l.destroy;l.destroy=void 0,void 0!==r&&tg(t,n,r)}l=l.next}while(l!==o)}}function lg(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function rg(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ag(e){var t=e.alternate;null!==t&&(e.alternate=null,ag(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Cl],delete t[ul],delete t[Al],delete t[bl],delete t[pl])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ig(e){return 5===e.tag||3===e.tag||4===e.tag}function gg(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cg(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=el));else if(4!==o&&null!==(e=e.child))for(cg(e,t,n),e=e.sibling;null!==e;)cg(e,t,n),e=e.sibling}function sg(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(sg(e,t,n),e=e.sibling;null!==e;)sg(e,t,n),e=e.sibling}var dg=null,Ig=!1;function Cg(e,t,n){for(n=n.child;null!==n;)ug(e,t,n),n=n.sibling}function ug(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(lt,n)}catch(i){}switch(n.tag){case 5:Pi||eg(n,t);case 6:var o=dg,l=Ig;dg=null,Cg(e,t,n),Ig=l,null!==(dg=o)&&(Ig?(e=dg,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dg.removeChild(n.stateNode));break;case 18:null!==dg&&(Ig?(e=dg,n=n.stateNode,8===e.nodeType?cl(e.parentNode,n):1===e.nodeType&&cl(e,n),zt(e)):cl(dg,n.stateNode));break;case 4:o=dg,l=Ig,dg=n.stateNode.containerInfo,Ig=!0,Cg(e,t,n),dg=o,Ig=l;break;case 0:case 11:case 14:case 15:if(!Pi&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){l=o=o.next;do{var r=l,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&tg(n,t,a),l=l.next}while(l!==o)}Cg(e,t,n);break;case 1:if(!Pi&&(eg(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(i){Sc(n,t,i)}Cg(e,t,n);break;case 21:Cg(e,t,n);break;case 22:1&n.mode?(Pi=(o=Pi)||null!==n.memoizedState,Cg(e,t,n),Pi=o):Cg(e,t,n);break;default:Cg(e,t,n)}}function mg(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qi),t.forEach(function(t){var o=Vc.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function Ag(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var l=n[o];try{var a=e,i=t,g=i;e:for(;null!==g;){switch(g.tag){case 5:dg=g.stateNode,Ig=!1;break e;case 3:case 4:dg=g.stateNode.containerInfo,Ig=!0;break e}g=g.return}if(null===dg)throw Error(r(160));ug(a,i,l),dg=null,Ig=!1;var c=l.alternate;null!==c&&(c.return=null),l.return=null}catch(s){Sc(l,t,s)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bg(t,e),t=t.sibling}function bg(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ag(t,e),pg(e),4&o){try{og(3,e,e.return),lg(3,e)}catch(A){Sc(e,e.return,A)}try{og(5,e,e.return)}catch(A){Sc(e,e.return,A)}}break;case 1:Ag(t,e),pg(e),512&o&&null!==n&&eg(n,n.return);break;case 5:if(Ag(t,e),pg(e),512&o&&null!==n&&eg(n,n.return),32&e.flags){var l=e.stateNode;try{Ie(l,"")}catch(A){Sc(e,e.return,A)}}if(4&o&&null!=(l=e.stateNode)){var a=e.memoizedProps,i=null!==n?n.memoizedProps:a,g=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===g&&"radio"===a.type&&null!=a.name&&P(l,a),he(g,i);var s=he(g,a);for(i=0;i<c.length;i+=2){var d=c[i],I=c[i+1];"style"===d?Ae(l,I):"dangerouslySetInnerHTML"===d?de(l,I):"children"===d?Ie(l,I):h(l,d,I,s)}switch(g){case"input":q(l,a);break;case"textarea":re(l,a);break;case"select":var C=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var u=a.value;null!=u?ne(l,!!a.multiple,u,!1):C!==!!a.multiple&&(null!=a.defaultValue?ne(l,!!a.multiple,a.defaultValue,!0):ne(l,!!a.multiple,a.multiple?[]:"",!1))}l[ul]=a}catch(A){Sc(e,e.return,A)}}break;case 6:if(Ag(t,e),pg(e),4&o){if(null===e.stateNode)throw Error(r(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(A){Sc(e,e.return,A)}}break;case 3:if(Ag(t,e),pg(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(A){Sc(e,e.return,A)}break;case 4:default:Ag(t,e),pg(e);break;case 13:Ag(t,e),pg(e),8192&(l=e.child).flags&&(a=null!==l.memoizedState,l.stateNode.isHidden=a,!a||null!==l.alternate&&null!==l.alternate.memoizedState||(zg=Pe())),4&o&&mg(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Pi=(s=Pi)||d,Ag(t,e),Pi=s):Ag(t,e),pg(e),8192&o){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!d&&0!==(1&e.mode))for(_i=e,d=e.child;null!==d;){for(I=_i=d;null!==_i;){switch(u=(C=_i).child,C.tag){case 0:case 11:case 14:case 15:og(4,C,C.return);break;case 1:eg(C,C.return);var m=C.stateNode;if("function"===typeof m.componentWillUnmount){o=C,n=C.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(A){Sc(o,n,A)}}break;case 5:eg(C,C.return);break;case 22:if(null!==C.memoizedState){vg(I);continue}}null!==u?(u.return=C,_i=u):vg(I)}d=d.sibling}e:for(d=null,I=e;;){if(5===I.tag){if(null===d){d=I;try{l=I.stateNode,s?"function"===typeof(a=l.style).setProperty?a.setProperty("display","none","important"):a.display="none":(g=I.stateNode,i=void 0!==(c=I.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,g.style.display=me("display",i))}catch(A){Sc(e,e.return,A)}}}else if(6===I.tag){if(null===d)try{I.stateNode.nodeValue=s?"":I.memoizedProps}catch(A){Sc(e,e.return,A)}}else if((22!==I.tag&&23!==I.tag||null===I.memoizedState||I===e)&&null!==I.child){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;null===I.sibling;){if(null===I.return||I.return===e)break e;d===I&&(d=null),I=I.return}d===I&&(d=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Ag(t,e),pg(e),4&o&&mg(e);case 21:}}function pg(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ig(n)){var o=n;break e}n=n.return}throw Error(r(160))}switch(o.tag){case 5:var l=o.stateNode;32&o.flags&&(Ie(l,""),o.flags&=-33),sg(e,gg(e),l);break;case 3:case 4:var a=o.stateNode.containerInfo;cg(e,gg(e),a);break;default:throw Error(r(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function hg(e,t,n){_i=e,fg(e,t,n)}function fg(e,t,n){for(var o=0!==(1&e.mode);null!==_i;){var l=_i,r=l.child;if(22===l.tag&&o){var a=null!==l.memoizedState||$i;if(!a){var i=l.alternate,g=null!==i&&null!==i.memoizedState||Pi;i=$i;var c=Pi;if($i=a,(Pi=g)&&!c)for(_i=l;null!==_i;)g=(a=_i).child,22===a.tag&&null!==a.memoizedState?Zg(l):null!==g?(g.return=a,_i=g):Zg(l);for(;null!==r;)_i=r,fg(r,t,n),r=r.sibling;_i=l,$i=i,Pi=c}yg(e)}else 0!==(8772&l.subtreeFlags)&&null!==r?(r.return=l,_i=r):yg(e)}}function yg(e){for(;null!==_i;){var t=_i;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Pi||lg(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Pi)if(null===n)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:br(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fr(t,a,o);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fr(t,i,n)}break;case 5:var g=t.stateNode;if(null===n&&4&t.flags){n=g;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var d=s.memoizedState;if(null!==d){var I=d.dehydrated;null!==I&&zt(I)}}}break;default:throw Error(r(163))}Pi||512&t.flags&&rg(t)}catch(C){Sc(t,t.return,C)}}if(t===e){_i=null;break}if(null!==(n=t.sibling)){n.return=t.return,_i=n;break}_i=t.return}}function vg(e){for(;null!==_i;){var t=_i;if(t===e){_i=null;break}var n=t.sibling;if(null!==n){n.return=t.return,_i=n;break}_i=t.return}}function Zg(e){for(;null!==_i;){var t=_i;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lg(4,t)}catch(g){Sc(t,n,g)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var l=t.return;try{o.componentDidMount()}catch(g){Sc(t,l,g)}}var r=t.return;try{rg(t)}catch(g){Sc(t,r,g)}break;case 5:var a=t.return;try{rg(t)}catch(g){Sc(t,a,g)}}}catch(g){Sc(t,t.return,g)}if(t===e){_i=null;break}var i=t.sibling;if(null!==i){i.return=t.return,_i=i;break}_i=t.return}}var Gg,Sg=Math.ceil,Bg=f.ReactCurrentDispatcher,kg=f.ReactCurrentOwner,Wg=f.ReactCurrentBatchConfig,Vg=0,Rg=null,wg=null,Xg=0,Jg=0,Hg=Sl(0),xg=0,Yg=null,Ng=0,Eg=0,Fg=0,Kg=null,Mg=null,zg=0,Lg=1/0,Dg=null,Tg=!1,jg=null,Og=null,Ug=!1,Qg=null,$g=0,Pg=0,qg=null,_g=-1,ec=0;function tc(){return 0!==(6&Vg)?Pe():-1!==_g?_g:_g=Pe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Vg)&&0!==Xg?Xg&-Xg:null!==Ar.transition?(0===ec&&(ec=mt()),ec):0!==(e=ht)?e:e=void 0===(e=window.event)?16:$t(e.type)}function oc(e,t,n,o){if(50<Pg)throw Pg=0,qg=null,Error(r(185));bt(e,n,o),0!==(2&Vg)&&e===Rg||(e===Rg&&(0===(2&Vg)&&(Eg|=n),4===xg&&gc(e,Xg)),lc(e,o),1===n&&0===Vg&&0===(1&t.mode)&&(Lg=Pe()+500,Kl&&Ll()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),i=1<<a,g=l[a];-1===g?0!==(i&n)&&0===(i&o)||(l[a]=Ct(i,t)):g<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var o=It(e,e===Rg?Xg:0);if(0===o)null!==n&&Ue(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ue(n),1===t)0===e.tag?function(e){Kl=!0,zl(e)}(cc.bind(null,e)):zl(cc.bind(null,e)),il(function(){0===(6&Vg)&&Ll()}),n=null;else{switch(ft(o)){case 1:n=_e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=Rc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(_g=-1,ec=0,0!==(6&Vg))throw Error(r(327));var n=e.callbackNode;if(Zc()&&e.callbackNode!==n)return null;var o=It(e,e===Rg?Xg:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=bc(e,o);else{t=o;var l=Vg;Vg|=2;var a=mc();for(Rg===e&&Xg===t||(Dg=null,Lg=Pe()+500,Cc(e,t));;)try{hc();break}catch(g){uc(e,g)}vr(),Bg.current=a,Vg=l,null!==wg?t=0:(Rg=null,Xg=0,t=xg)}if(0!==t){if(2===t&&(0!==(l=ut(e))&&(o=l,t=ac(e,l))),1===t)throw n=Yg,Cc(e,0),gc(e,o),lc(e,Pe()),n;if(6===t)gc(e,o);else{if(l=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var l=n[o],r=l.getSnapshot;l=l.value;try{if(!io(r(),l))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(l)&&(2===(t=bc(e,o))&&(0!==(a=ut(e))&&(o=a,t=ac(e,a))),1===t))throw n=Yg,Cc(e,0),gc(e,o),lc(e,Pe()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:case 5:vc(e,Mg,Dg);break;case 3:if(gc(e,o),(130023424&o)===o&&10<(t=zg+500-Pe())){if(0!==It(e,0))break;if(((l=e.suspendedLanes)&o)!==o){tc(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ll(vc.bind(null,e,Mg,Dg),t);break}vc(e,Mg,Dg);break;case 4:if(gc(e,o),(4194240&o)===o)break;for(t=e.eventTimes,l=-1;0<o;){var i=31-at(o);a=1<<i,(i=t[i])>l&&(l=i),o&=~a}if(o=l,10<(o=(120>(o=Pe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sg(o/1960))-o)){e.timeoutHandle=ll(vc.bind(null,e,Mg,Dg),o);break}vc(e,Mg,Dg);break;default:throw Error(r(329))}}}return lc(e,Pe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Kg;return e.current.memoizedState.isDehydrated&&(Cc(e,t).flags|=256),2!==(e=bc(e,t))&&(t=Mg,Mg=n,null!==t&&ic(t)),e}function ic(e){null===Mg?Mg=e:Mg.push.apply(Mg,e)}function gc(e,t){for(t&=~Fg,t&=~Eg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),o=1<<n;e[n]=-1,t&=~o}}function cc(e){if(0!==(6&Vg))throw Error(r(327));Zc();var t=It(e,0);if(0===(1&t))return lc(e,Pe()),null;var n=bc(e,t);if(0!==e.tag&&2===n){var o=ut(e);0!==o&&(t=o,n=ac(e,o))}if(1===n)throw n=Yg,Cc(e,0),gc(e,t),lc(e,Pe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Mg,Dg),lc(e,Pe()),null}function sc(e,t){var n=Vg;Vg|=1;try{return e(t)}finally{0===(Vg=n)&&(Lg=Pe()+500,Kl&&Ll())}}function dc(e){null!==Qg&&0===Qg.tag&&0===(6&Vg)&&Zc();var t=Vg;Vg|=1;var n=Wg.transition,o=ht;try{if(Wg.transition=null,ht=1,e)return e()}finally{ht=o,Wg.transition=n,0===(6&(Vg=t))&&Ll()}}function Ic(){Jg=Hg.current,Bl(Hg)}function Cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rl(n)),null!==wg)for(n=wg.return;null!==n;){var o=n;switch(nr(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Hl();break;case 3:ra(),Bl(Rl),Bl(Vl),da();break;case 5:ia(o);break;case 4:ra();break;case 13:case 19:Bl(ga);break;case 10:Zr(o.type._context);break;case 22:case 23:Ic()}n=n.return}if(Rg=e,wg=e=Hc(e.current,null),Xg=Jg=t,xg=0,Yg=null,Fg=Eg=Ng=0,Mg=Kg=null,null!==kr){for(t=0;t<kr.length;t++)if(null!==(o=(n=kr[t]).interleaved)){n.interleaved=null;var l=o.next,r=n.pending;if(null!==r){var a=r.next;r.next=l,o.next=a}n.pending=o}kr=null}return e}function uc(e,t){for(;;){var n=wg;try{if(vr(),Ia.current=ai,pa){for(var o=ma.memoizedState;null!==o;){var l=o.queue;null!==l&&(l.pending=null),o=o.next}pa=!1}if(ua=0,ba=Aa=ma=null,ha=!1,fa=0,kg.current=null,null===n||null===n.return){xg=1,Yg=t,wg=null;break}e:{var a=e,i=n.return,g=n,c=t;if(t=Xg,g.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var s=c,d=g,I=d.tag;if(0===(1&d.mode)&&(0===I||11===I||15===I)){var C=d.alternate;C?(d.updateQueue=C.updateQueue,d.memoizedState=C.memoizedState,d.lanes=C.lanes):(d.updateQueue=null,d.memoizedState=null)}var u=bi(i);if(null!==u){u.flags&=-257,pi(u,i,g,0,t),1&u.mode&&Ai(a,s,t),c=s;var m=(t=u).updateQueue;if(null===m){var A=new Set;A.add(c),t.updateQueue=A}else m.add(c);break e}if(0===(1&t)){Ai(a,s,t),Ac();break e}c=Error(r(426))}else if(rr&&1&g.mode){var b=bi(i);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),pi(b,i,g,0,t),mr(si(c,g));break e}}a=c=si(c,g),4!==xg&&(xg=2),null===Kg?Kg=[a]:Kg.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Nr(a,ui(0,c,t));break e;case 1:g=c;var p=a.type,h=a.stateNode;if(0===(128&a.flags)&&("function"===typeof p.getDerivedStateFromError||null!==h&&"function"===typeof h.componentDidCatch&&(null===Og||!Og.has(h)))){a.flags|=65536,t&=-t,a.lanes|=t,Nr(a,mi(a,g,t));break e}}a=a.return}while(null!==a)}yc(n)}catch(f){t=f,wg===n&&null!==n&&(wg=n=n.return);continue}break}}function mc(){var e=Bg.current;return Bg.current=ai,null===e?ai:e}function Ac(){0!==xg&&3!==xg&&2!==xg||(xg=4),null===Rg||0===(268435455&Ng)&&0===(268435455&Eg)||gc(Rg,Xg)}function bc(e,t){var n=Vg;Vg|=2;var o=mc();for(Rg===e&&Xg===t||(Dg=null,Cc(e,t));;)try{pc();break}catch(l){uc(e,l)}if(vr(),Vg=n,Bg.current=o,null!==wg)throw Error(r(261));return Rg=null,Xg=0,xg}function pc(){for(;null!==wg;)fc(wg)}function hc(){for(;null!==wg&&!Qe();)fc(wg)}function fc(e){var t=Gg(e.alternate,e,Jg);e.memoizedProps=e.pendingProps,null===t?yc(e):wg=t,kg.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ui(n,t,Jg)))return void(wg=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(wg=n);if(null===e)return xg=6,void(wg=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wg=t);wg=t=e}while(null!==t);0===xg&&(xg=5)}function vc(e,t,n){var o=ht,l=Wg.transition;try{Wg.transition=null,ht=1,function(e,t,n,o){do{Zc()}while(null!==Qg);if(0!==(6&Vg))throw Error(r(327));n=e.finishedWork;var l=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-at(n),r=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~r}}(e,a),e===Rg&&(wg=Rg=null,Xg=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ug||(Ug=!0,Rc(tt,function(){return Zc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Wg.transition,Wg.transition=null;var i=ht;ht=1;var g=Vg;Vg|=4,kg.current=null,function(e,t){if(tl=Dt,uo(e=Co())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var l=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{n.nodeType,a.nodeType}catch(y){n=null;break e}var i=0,g=-1,c=-1,s=0,d=0,I=e,C=null;t:for(;;){for(var u;I!==n||0!==l&&3!==I.nodeType||(g=i+l),I!==a||0!==o&&3!==I.nodeType||(c=i+o),3===I.nodeType&&(i+=I.nodeValue.length),null!==(u=I.firstChild);)C=I,I=u;for(;;){if(I===e)break t;if(C===n&&++s===l&&(g=i),C===a&&++d===o&&(c=i),null!==(u=I.nextSibling))break;C=(I=C).parentNode}I=u}n=-1===g||-1===c?null:{start:g,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nl={focusedElem:e,selectionRange:n},Dt=!1,_i=t;null!==_i;)if(e=(t=_i).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,_i=e;else for(;null!==_i;){t=_i;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var A=m.memoizedProps,b=m.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?A:br(t.type,A),b);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=t.stateNode.containerInfo;1===f.nodeType?f.textContent="":9===f.nodeType&&f.documentElement&&f.removeChild(f.documentElement);break;default:throw Error(r(163))}}catch(y){Sc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,_i=e;break}_i=t.return}m=ng,ng=!1}(e,n),bg(n,e),mo(nl),Dt=!!tl,nl=tl=null,e.current=n,hg(n,e,l),$e(),Vg=g,ht=i,Wg.transition=a}else e.current=n;if(Ug&&(Ug=!1,Qg=e,$g=l),a=e.pendingLanes,0===a&&(Og=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(lt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Pe()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(Tg)throw Tg=!1,e=jg,jg=null,e;0!==(1&$g)&&0!==e.tag&&Zc(),a=e.pendingLanes,0!==(1&a)?e===qg?Pg++:(Pg=0,qg=e):Pg=0,Ll()}(e,t,n,o)}finally{Wg.transition=l,ht=o}return null}function Zc(){if(null!==Qg){var e=ft($g),t=Wg.transition,n=ht;try{if(Wg.transition=null,ht=16>e?16:e,null===Qg)var o=!1;else{if(e=Qg,Qg=null,$g=0,0!==(6&Vg))throw Error(r(331));var l=Vg;for(Vg|=4,_i=e.current;null!==_i;){var a=_i,i=a.child;if(0!==(16&_i.flags)){var g=a.deletions;if(null!==g){for(var c=0;c<g.length;c++){var s=g[c];for(_i=s;null!==_i;){var d=_i;switch(d.tag){case 0:case 11:case 15:og(8,d,a)}var I=d.child;if(null!==I)I.return=d,_i=I;else for(;null!==_i;){var C=(d=_i).sibling,u=d.return;if(ag(d),d===s){_i=null;break}if(null!==C){C.return=u,_i=C;break}_i=u}}}var m=a.alternate;if(null!==m){var A=m.child;if(null!==A){m.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(null!==A)}}_i=a}}if(0!==(2064&a.subtreeFlags)&&null!==i)i.return=a,_i=i;else e:for(;null!==_i;){if(0!==(2048&(a=_i).flags))switch(a.tag){case 0:case 11:case 15:og(9,a,a.return)}var p=a.sibling;if(null!==p){p.return=a.return,_i=p;break e}_i=a.return}}var h=e.current;for(_i=h;null!==_i;){var f=(i=_i).child;if(0!==(2064&i.subtreeFlags)&&null!==f)f.return=i,_i=f;else e:for(i=h;null!==_i;){if(0!==(2048&(g=_i).flags))try{switch(g.tag){case 0:case 11:case 15:lg(9,g)}}catch(v){Sc(g,g.return,v)}if(g===i){_i=null;break e}var y=g.sibling;if(null!==y){y.return=g.return,_i=y;break e}_i=g.return}}if(Vg=l,Ll(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(lt,e)}catch(v){}o=!0}return o}finally{ht=n,Wg.transition=t}}return!1}function Gc(e,t,n){e=xr(e,t=ui(0,t=si(n,t),1),1),t=tc(),null!==e&&(bt(e,1,t),lc(e,t))}function Sc(e,t,n){if(3===e.tag)Gc(e,e,n);else for(;null!==t;){if(3===t.tag){Gc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Og||!Og.has(o))){t=xr(t,e=mi(t,e=si(n,e),1),1),e=tc(),null!==t&&(bt(t,1,e),lc(t,e));break}}t=t.return}}function Bc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rg===e&&(Xg&n)===n&&(4===xg||3===xg&&(130023424&Xg)===Xg&&500>Pe()-zg?Cc(e,0):Fg|=n),lc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=tc();null!==(e=Rr(e,t))&&(bt(e,t,n),lc(e,n))}function Wc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Vc(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;null!==l&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}null!==o&&o.delete(t),kc(e,n)}function Rc(e,t){return Oe(e,t)}function wc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xc(e,t,n,o){return new wc(e,t,n,o)}function Jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=Xc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,o,l,a){var i=2;if(o=e,"function"===typeof e)Jc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case Z:return Yc(n.children,l,a,t);case G:i=8,l|=8;break;case S:return(e=Xc(12,n,t,2|l)).elementType=S,e.lanes=a,e;case V:return(e=Xc(13,n,t,l)).elementType=V,e.lanes=a,e;case R:return(e=Xc(19,n,t,l)).elementType=R,e.lanes=a,e;case J:return Nc(n,l,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case B:i=10;break e;case k:i=9;break e;case W:i=11;break e;case w:i=14;break e;case X:i=16,o=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Xc(i,n,t,l)).elementType=e,t.type=o,t.lanes=a,t}function Yc(e,t,n,o){return(e=Xc(7,e,o,t)).lanes=n,e}function Nc(e,t,n,o){return(e=Xc(22,e,o,t)).elementType=J,e.lanes=n,e.stateNode={isHidden:!1},e}function Ec(e,t,n){return(e=Xc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Xc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,o,l,r,a,i,g){return e=new Kc(e,t,n,i,g),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Xc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xr(r),e}function zc(e){if(!e)return Wl;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Jl(n))return Yl(e,n,t)}return t}function Lc(e,t,n,o,l,r,a,i,g){return(e=Mc(n,o,!0,e,0,r,0,i,g)).context=zc(null),n=e.current,(r=Hr(o=tc(),l=nc(n))).callback=void 0!==t&&null!==t?t:null,xr(n,r,l),e.current.lanes=l,bt(e,l,o),lc(e,o),e}function Dc(e,t,n,o){var l=t.current,r=tc(),a=nc(l);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Hr(r,a)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=xr(l,t,a))&&(oc(e,l,a,r),Yr(e,l,a)),a}function Tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Oc(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}Gg=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rl.current)fi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return fi=!1,function(e,t,n){switch(t.tag){case 3:Ri(t),ur();break;case 5:aa(t);break;case 1:Jl(t.type)&&Nl(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;kl(pr,o._currentValue),o._currentValue=l;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(kl(ga,1&ga.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ei(e,t,n):(kl(ga,1&ga.current),null!==(e=Ti(e,t,n))?e.sibling:null);kl(ga,1&ga.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Li(e,t,n);t.flags|=128}if(null!==(l=t.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),kl(ga,ga.current),o)break;return null;case 22:case 23:return t.lanes=0,Si(e,t,n)}return Ti(e,t,n)}(e,t,n);fi=0!==(131072&e.flags)}else fi=!1,rr&&0!==(1048576&t.flags)&&er(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Di(e,t),e=t.pendingProps;var l=Xl(t,Vl.current);Sr(t,n),l=Ga(null,t,o,e,l,n);var a=Sa();return t.flags|=1,"object"===typeof l&&null!==l&&"function"===typeof l.render&&void 0===l.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jl(o)?(a=!0,Nl(t)):a=!1,t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,Xr(t),l.updater=zr,t.stateNode=l,l._reactInternals=t,jr(t,o,e,n),t=Vi(null,t,o,!0,a,n)):(t.tag=0,rr&&a&&tr(t),yi(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,o=(l=o._init)(o._payload),t.type=o,l=t.tag=function(e){if("function"===typeof e)return Jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===W)return 11;if(e===w)return 14}return 2}(o),e=br(o,e),l){case 0:t=ki(null,t,o,e,n);break e;case 1:t=Wi(null,t,o,e,n);break e;case 11:t=vi(null,t,o,e,n);break e;case 14:t=Zi(null,t,o,br(o.type,e),n);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,ki(e,t,o,l=t.elementType===o?l:br(o,l),n);case 1:return o=t.type,l=t.pendingProps,Wi(e,t,o,l=t.elementType===o?l:br(o,l),n);case 3:e:{if(Ri(t),null===e)throw Error(r(387));o=t.pendingProps,l=(a=t.memoizedState).element,Jr(e,t),Er(t,o,null,n);var i=t.memoizedState;if(o=i.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=wi(e,t,o,n,l=si(Error(r(423)),t));break e}if(o!==l){t=wi(e,t,o,n,l=si(Error(r(424)),t));break e}for(lr=sl(t.stateNode.containerInfo.firstChild),or=t,rr=!0,ar=null,n=qr(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ur(),o===l){t=Ti(e,t,n);break e}yi(e,t,o,n)}t=t.child}return t;case 5:return aa(t),null===e&&sr(t),o=t.type,l=t.pendingProps,a=null!==e?e.memoizedProps:null,i=l.children,ol(o,l)?i=null:null!==a&&ol(o,a)&&(t.flags|=32),Bi(e,t),yi(e,t,i,n),t.child;case 6:return null===e&&sr(t),null;case 13:return Ei(e,t,n);case 4:return la(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Pr(t,null,o,n):yi(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,vi(e,t,o,l=t.elementType===o?l:br(o,l),n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,kl(pr,o._currentValue),o._currentValue=i,null!==a)if(io(a.value,i)){if(a.children===l.children&&!Rl.current){t=Ti(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var g=a.dependencies;if(null!==g){i=a.child;for(var c=g.firstContext;null!==c;){if(c.context===o){if(1===a.tag){(c=Hr(-1,n&-n)).tag=2;var s=a.updateQueue;if(null!==s){var d=(s=s.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),s.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Gr(a.return,n,t),g.lanes|=n;break}c=c.next}}else if(10===a.tag)i=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=n,null!==(g=i.alternate)&&(g.lanes|=n),Gr(i,n,t),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===t){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}yi(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,Sr(t,n),o=o(l=Br(l)),t.flags|=1,yi(e,t,o,n),t.child;case 14:return l=br(o=t.type,t.pendingProps),Zi(e,t,o,l=br(o.type,l),n);case 15:return Gi(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:br(o,l),Di(e,t),t.tag=1,Jl(o)?(e=!0,Nl(t)):e=!1,Sr(t,n),Dr(t,o,l),jr(t,o,l,n),Vi(null,t,o,!0,e,n);case 19:return Li(e,t,n);case 22:return Si(e,t,n)}throw Error(r(156,t.tag))};var Uc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function _c(){}function es(e,t,n,o,l){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof l){var i=l;l=function(){var e=Tc(a);i.call(e)}}Dc(t,a,e,l)}else a=function(e,t,n,o,l){if(l){if("function"===typeof o){var r=o;o=function(){var e=Tc(a);r.call(e)}}var a=Lc(t,o,e,0,null,!1,0,"",_c);return e._reactRootContainer=a,e[ml]=a.current,Lo(8===e.nodeType?e.parentNode:e),dc(),a}for(;l=e.lastChild;)e.removeChild(l);if("function"===typeof o){var i=o;o=function(){var e=Tc(g);i.call(e)}}var g=Mc(e,0,!1,null,0,!1,0,"",_c);return e._reactRootContainer=g,e[ml]=g.current,Lo(8===e.nodeType?e.parentNode:e),dc(function(){Dc(t,g,n,o)}),g}(n,t,e,l,o);return Tc(a)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Dc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Dc(null,e,null,null)}),t[ml]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&0!==t&&t<Jt[n].priority;n++);Jt.splice(n,0,e),0===n&&Nt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(pt(t,1|n),lc(t,Pe()),0===(6&Vg)&&(Lg=Pe()+500,Ll()))}break;case 13:dc(function(){var t=Rr(e,1);if(null!==t){var n=tc();oc(t,e,1,n)}}),Oc(e,1)}},vt=function(e){if(13===e.tag){var t=Rr(e,134217728);if(null!==t)oc(t,e,134217728,tc());Oc(e,134217728)}},Zt=function(e){if(13===e.tag){var t=nc(e),n=Rr(e,t);if(null!==n)oc(n,e,t,tc());Oc(e,t)}},Gt=function(){return ht},St=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}},ve=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=vl(o);if(!l)throw Error(r(90));O(o),q(o,l)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},We=sc,Ve=dc;var ts={usingClientEntryPoint:!1,Events:[fl,yl,vl,Be,ke,sc]},ns={findFiberByHostInstance:hl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},os={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Te(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ls.isDisabled&&ls.supportsFiber)try{lt=ls.inject(os),rt=ls}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(r(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:v,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Pc(e))throw Error(r(299));var n=!1,o="",l=Uc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,o,l),e[ml]=t.current,Lo(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Te(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!qc(t))throw Error(r(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(r(405));var o=null!=n&&n.hydratedSources||null,l=!1,a="",i=Uc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(l=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Lc(t,null,e,1,null!=n?n:null,l,0,a,i),e[ml]=t.current,Lo(e),o)for(e=0;e<o.length;e++)l=(l=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new $c(t)},t.render=function(e,t,n){if(!qc(t))throw Error(r(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[ml]=null})}),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!qc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return es(e,t,n,!1,o)},t.version="18.2.0-next-9e3b772b8-20220608"},853:(e,t,n)=>{"use strict";e.exports=n(234)},865:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,o,l){var r=o.prototype;r.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var o=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=l(this).startOf(t).add(1,t).date(o),a=l(this).endOf(e);if(r.isBefore(a))return 1}var i=l(this).startOf(t).date(o).startOf(e).subtract(1,"millisecond"),g=this.diff(i,e,!0);return g<0?l(this).startOf("week").week():Math.ceil(g)},r.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},988:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,o=/\d\d/,l=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,a={},i=function(e){return(e=+e)+(e>68?1900:2e3)},g=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],s=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,o=a.meridiem;if(o){for(var l=1;l<=24;l+=1)if(e.indexOf(o(l,0,t))>-1){n=l>12;break}}else n=e===(t?"pm":"PM");return n},I={A:[r,function(e){this.afternoon=d(e,!1)}],a:[r,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[o,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[l,g("seconds")],ss:[l,g("seconds")],m:[l,g("minutes")],mm:[l,g("minutes")],H:[l,g("hours")],h:[l,g("hours")],HH:[l,g("hours")],hh:[l,g("hours")],D:[l,g("day")],DD:[o,g("day")],Do:[r,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],w:[l,g("week")],ww:[o,g("week")],M:[l,g("month")],MM:[o,g("month")],MMM:[r,function(e){var t=s("months"),n=(s("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(e){var t=s("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,g("year")],YY:[o,function(e){this.year=i(e)}],YYYY:[/\d{4}/,g("year")],Z:c,ZZ:c};function C(n){var o,l;o=n,l=a&&a.formats;for(var r=(n=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,o){var r=o&&o.toUpperCase();return n||l[o]||e[o]||l[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(t),i=r.length,g=0;g<i;g+=1){var c=r[g],s=I[c],d=s&&s[0],C=s&&s[1];r[g]=C?{regex:d,parser:C}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,o=0;n<i;n+=1){var l=r[n];if("string"==typeof l)o+=l.length;else{var a=l.regex,g=l.parser,c=e.slice(o),s=a.exec(c)[0];g.call(t,s),e=e.replace(s,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var o=t.prototype,l=o.parse;o.parse=function(e){var t=e.date,o=e.utc,r=e.args;this.$u=o;var i=r[1];if("string"==typeof i){var g=!0===r[2],c=!0===r[3],s=g||c,d=r[2];c&&(d=r[2]),a=this.$locale(),!g&&d&&(a=n.Ls[d]),this.$d=function(e,t,n,o){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var l=C(t)(e),r=l.year,a=l.month,i=l.day,g=l.hours,c=l.minutes,s=l.seconds,d=l.milliseconds,I=l.zone,u=l.week,m=new Date,A=i||(r||a?1:m.getDate()),b=r||m.getFullYear(),p=0;r&&!a||(p=a>0?a-1:m.getMonth());var h,f=g||0,y=c||0,v=s||0,Z=d||0;return I?new Date(Date.UTC(b,p,A,f,y,v,Z+60*I.offset*1e3)):n?new Date(Date.UTC(b,p,A,f,y,v,Z)):(h=new Date(b,p,A,f,y,v,Z),u&&(h=o(h).week(u).toDate()),h)}catch(e){return new Date("")}}(t,i,o,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),s&&t!=this.format(i)&&(this.$d=new Date("")),a={}}else if(i instanceof Array)for(var I=i.length,u=1;u<=I;u+=1){r[1]=i[u-1];var m=n.apply(this,r);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}u===I&&(this.$d=new Date(""))}else l.call(this,e)}}}()}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,l){if(1&l&&(o=this(o)),8&l)return o;if("object"===typeof o&&o){if(4&l&&o.__esModule)return o;if(16&l&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&l&&o;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>a[e]=()=>o[e]);return a.default=()=>o,n.d(r,a),r}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,o)=>(n.f[o](e,t),t),[])),n.u=e=>"static/js/"+e+".a3c1d153.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(o,l,r,a)=>{if(e[o])e[o].push(l);else{var i,g;if(void 0!==r)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var d=c[s];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(g=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=o),e[o]=[l];var I=(t,n)=>{i.onerror=i.onload=null,clearTimeout(C);var l=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach(e=>e(n)),t)return t(n)},C=setTimeout(I.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=I.bind(null,i.onerror),i.onload=I.bind(null,i.onload),g&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,o)=>{var l=n.o(e,t)?e[t]:void 0;if(0!==l)if(l)o.push(l[2]);else{var r=new Promise((n,o)=>l=e[t]=[n,o]);o.push(l[2]=r);var a=n.p+n.u(t),i=new Error;n.l(a,o=>{if(n.o(e,t)&&(0!==(l=e[t])&&(e[t]=void 0),l)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,l[1](i)}},"chunk-"+t,t)}};var t=(t,o)=>{var l,r,a=o[0],i=o[1],g=o[2],c=0;if(a.some(t=>0!==e[t])){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(g)g(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=self.webpackChunkclient=self.webpackChunkclient||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";var e,t=n(43),o=n.t(t,2),l=n(391),r=n(446),a=n.n(r),i=n(988),g=n.n(i),c=n(950),s=n.t(c,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const I="popstate";function C(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(PV){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,o){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function b(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function h(t,n,o,l){void 0===l&&(l={});let{window:r=document.defaultView,v5Compat:a=!1}=l,i=r.history,g=e.Pop,c=null,s=u();function u(){return(i.state||{idx:null}).idx}function p(){g=e.Pop;let t=u(),n=null==t?null:t-s;s=t,c&&c({action:g,location:f.location,delta:n})}function h(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:b(e);return n=n.replace(/ $/,"%20"),C(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==s&&(s=0,i.replaceState(d({},i.state,{idx:s}),""));let f={get action(){return g},get location(){return t(r,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(I,p),c=e,()=>{r.removeEventListener(I,p),c=null}},createHref:e=>n(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){g=e.Push;let l=A(f.location,t,n);o&&o(l,t),s=u()+1;let d=m(l,s),I=f.createHref(l);try{i.pushState(d,"",I)}catch(C){if(C instanceof DOMException&&"DataCloneError"===C.name)throw C;r.location.assign(I)}a&&c&&c({action:g,location:f.location,delta:1})},replace:function(t,n){g=e.Replace;let l=A(f.location,t,n);o&&o(l,t),s=u();let r=m(l,s),d=f.createHref(l);i.replaceState(r,"",d),a&&c&&c({action:g,location:f.location,delta:0})},go:e=>i.go(e)};return f}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,o){let l=Y(("string"===typeof t?p(t):t).pathname||"/",n);if(null==l)return null;let r=Z(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let a=null;for(let i=0;null==a&&i<r.length;++i){let e=x(l);a=J(r[i],e,o)}return a}function Z(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o="");let l=(e,l,r)=>{let a={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};a.relativePath.startsWith("/")&&(C(a.relativePath.startsWith(o),'Absolute route path "'+a.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(o.length));let i=M([o,a.relativePath]),g=n.concat(a);e.children&&e.children.length>0&&(C(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),Z(e.children,t,g,i)),(null!=e.path||e.index)&&t.push({path:i,score:X(i,e.index),routesMeta:g})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let o of G(e.path))l(e,t,o);else l(e,t)}),t}function G(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,l=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===o.length)return l?[r,""]:[r];let a=G(o.join("/")),i=[];return i.push(...a.map(e=>""===e?r:[r,e].join("/"))),l&&i.push(...a),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,B=3,k=2,W=1,V=10,R=-2,w=e=>"*"===e;function X(e,t){let n=e.split("/"),o=n.length;return n.some(w)&&(o+=R),t&&(o+=k),n.filter(e=>!w(e)).reduce((e,t)=>e+(S.test(t)?B:""===t?W:V),o)}function J(e,t,n){void 0===n&&(n=!1);let{routesMeta:o}=e,l={},r="/",a=[];for(let i=0;i<o.length;++i){let e=o[i],g=i===o.length-1,c="/"===r?t:t.slice(r.length)||"/",s=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:g},c),d=e.route;if(!s&&g&&n&&!o[o.length-1].route.index&&(s=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!s)return null;Object.assign(l,s.params),a.push({params:l,pathname:M([r,s.pathname]),pathnameBase:z(M([r,s.pathnameBase])),route:d}),"/"!==s.pathnameBase&&(r=M([r,s.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(o.push({paramName:"*"}),l+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":""!==e&&"/"!==e&&(l+="(?:(?=\\/|$))");let r=new RegExp(l,t?void 0:"i");return[r,o]}(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let r=l[0],a=r.replace(/(.)\/+$/,"$1"),i=l.slice(1),g=o.reduce((e,t,n)=>{let{paramName:o,isOptional:l}=t;if("*"===o){let e=i[n]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const g=i[n];return e[o]=l&&!g?void 0:(g||"").replace(/%2F/g,"/"),e},{});return{params:g,pathname:r,pathnameBase:a,pattern:e}}function x(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function N(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function E(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=E(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function K(e,t,n,o){let l;void 0===o&&(o=!1),"string"===typeof e?l=p(e):(l=d({},e),C(!l.pathname||!l.pathname.includes("?"),N("?","pathname","search",l)),C(!l.pathname||!l.pathname.includes("#"),N("#","pathname","hash",l)),C(!l.search||!l.search.includes("#"),N("#","search","hash",l)));let r,a=""===e||""===l.pathname,i=a?"/":l.pathname;if(null==i)r=n;else{let e=t.length-1;if(!o&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;l.pathname=t.join("/")}r=e>=0?t[e]:"/"}let g=function(e,t){void 0===t&&(t="/");let{pathname:n,search:o="",hash:l=""}="string"===typeof e?p(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:L(o),hash:D(l)}}(l,r),c=i&&"/"!==i&&i.endsWith("/"),s=(a||"."===i)&&n.endsWith("/");return g.pathname.endsWith("/")||!c&&!s||(g.pathname+="/"),g}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function T(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const j=["post","put","patch","delete"],O=(new Set(j),["get",...j]);new Set(O),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}const Q=t.createContext(null);const $=t.createContext(null);const P=t.createContext(null);const q=t.createContext(null);const _=t.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=t.createContext(null);function te(){return null!=t.useContext(q)}function ne(){return te()||C(!1),t.useContext(q).location}function oe(e){t.useContext(P).static||t.useLayoutEffect(e)}function le(){let{isDataRoute:e}=t.useContext(_);return e?function(){let{router:e}=Ce(de.UseNavigateStable),n=me(Ie.UseNavigateStable),o=t.useRef(!1);return oe(()=>{o.current=!0}),t.useCallback(function(t,l){void 0===l&&(l={}),o.current&&("number"===typeof t?e.navigate(t):e.navigate(t,U({fromRouteId:n},l)))},[e,n])}():function(){te()||C(!1);let e=t.useContext(Q),{basename:n,future:o,navigator:l}=t.useContext(P),{matches:r}=t.useContext(_),{pathname:a}=ne(),i=JSON.stringify(F(r,o.v7_relativeSplatPath)),g=t.useRef(!1);oe(()=>{g.current=!0});let c=t.useCallback(function(t,o){if(void 0===o&&(o={}),!g.current)return;if("number"===typeof t)return void l.go(t);let r=K(t,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==n&&(r.pathname="/"===r.pathname?n:M([n,r.pathname])),(o.replace?l.replace:l.push)(r,o.state,o)},[n,l,i,a,e]);return c}()}function re(n,o,l,r){te()||C(!1);let{navigator:a}=t.useContext(P),{matches:i}=t.useContext(_),g=i[i.length-1],c=g?g.params:{},s=(g&&g.pathname,g?g.pathnameBase:"/");g&&g.route;let d,I=ne();if(o){var u;let e="string"===typeof o?p(o):o;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||C(!1),d=e}else d=I;let m=d.pathname||"/",A=m;if("/"!==s){let e=s.replace(/^\//,"").split("/");A="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(n,{pathname:A});let h=se(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([s,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:M([s,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,l,r);return o&&h?t.createElement(q.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},h):h}function ae(){let e=function(){var e;let n=t.useContext(ee),o=ue(Ie.UseRouteError),l=me(Ie.UseRouteError);if(void 0!==n)return n;return null==(e=o.errors)?void 0:e[l]}(),n=T(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:l};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),o?t.createElement("pre",{style:r},o):null,null)}const ie=t.createElement(ae,null);class ge extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(_.Provider,{value:this.props.routeContext},t.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:n,match:o,children:l}=e,r=t.useContext(Q);return r&&r.static&&r.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=o.route.id),t.createElement(_.Provider,{value:n},l)}function se(e,n,o,l){var r;if(void 0===n&&(n=[]),void 0===o&&(o=null),void 0===l&&(l=null),null==e){var a;if(!o)return null;if(o.errors)e=o.matches;else{if(!(null!=(a=l)&&a.v7_partialHydration&&0===n.length&&!o.initialized&&o.matches.length>0))return null;e=o.matches}}let i=e,g=null==(r=o)?void 0:r.errors;if(null!=g){let e=i.findIndex(e=>e.route.id&&void 0!==(null==g?void 0:g[e.route.id]));e>=0||C(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,s=-1;if(o&&l&&l.v7_partialHydration)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=t),e.route.id){let{loaderData:t,errors:n}=o,l=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||l){c=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight((e,l,r)=>{let a,d=!1,I=null,C=null;var u;o&&(a=g&&l.route.id?g[l.route.id]:void 0,I=l.route.errorElement||ie,c&&(s<0&&0===r?(u="route-fallback",!1||Ae[u]||(Ae[u]=!0),d=!0,C=null):s===r&&(d=!0,C=l.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,r+1)),A=()=>{let n;return n=a?I:d?C:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ce,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=o},children:n})};return o&&(l.route.ErrorBoundary||l.route.errorElement||0===r)?t.createElement(ge,{location:o.location,revalidation:o.revalidation,component:I,error:a,children:A(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):A()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),Ie=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ie||{});function Ce(e){let n=t.useContext(Q);return n||C(!1),n}function ue(e){let n=t.useContext($);return n||C(!1),n}function me(e){let n=function(){let e=t.useContext(_);return e||C(!1),e}(),o=n.matches[n.matches.length-1];return o.route.id||C(!1),o.route.id}const Ae={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function pe(e){let{to:n,replace:o,state:l,relative:r}=e;te()||C(!1);let{future:a,static:i}=t.useContext(P),{matches:g}=t.useContext(_),{pathname:c}=ne(),s=le(),d=K(n,F(g,a.v7_relativeSplatPath),c,"path"===r),I=JSON.stringify(d);return t.useEffect(()=>s(JSON.parse(I),{replace:o,state:l,relative:r}),[s,I,r,o,l]),null}function he(e){C(!1)}function fe(n){let{basename:o="/",children:l=null,location:r,navigationType:a=e.Pop,navigator:i,static:g=!1,future:c}=n;te()&&C(!1);let s=o.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:s,navigator:i,static:g,future:U({v7_relativeSplatPath:!1},c)}),[s,c,i,g]);"string"===typeof r&&(r=p(r));let{pathname:I="/",search:u="",hash:m="",state:A=null,key:b="default"}=r,h=t.useMemo(()=>{let e=Y(I,s);return null==e?null:{location:{pathname:e,search:u,hash:m,state:A,key:b},navigationType:a}},[s,I,u,m,A,b,a]);return null==h?null:t.createElement(P.Provider,{value:d},t.createElement(q.Provider,{children:l,value:h}))}function ye(e){let{children:t,location:n}=e;return re(ve(t),n)}new Promise(()=>{});t.Component;function ve(e,n){void 0===n&&(n=[]);let o=[];return t.Children.forEach(e,(e,l)=>{if(!t.isValidElement(e))return;let r=[...n,l];if(e.type===t.Fragment)return void o.push.apply(o,ve(e.props.children,r));e.type!==he&&C(!1),e.props.index&&e.props.children&&C(!1);let a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,r)),o.push(a)}),o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(PV){}new Map;const Ze=o.startTransition;s.flushSync,o.useId;function Ge(e){let{basename:n,children:o,future:l,window:r}=e,a=t.useRef();var i;null==a.current&&(a.current=(void 0===(i={window:r,v5Compat:!0})&&(i={}),h(function(e,t){let{pathname:n,search:o,hash:l}=e.location;return A("",{pathname:n,search:o,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:b(t)},null,i)));let g=a.current,[c,s]=t.useState({action:g.action,location:g.location}),{v7_startTransition:d}=l||{},I=t.useCallback(e=>{d&&Ze?Ze(()=>s(e)):s(e)},[s,d]);return t.useLayoutEffect(()=>g.listen(I),[g,I]),t.useEffect(()=>be(l),[l]),t.createElement(fe,{basename:n,children:o,location:c.location,navigationType:c.action,navigator:g,future:l})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Se,Be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Se||(Se={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function We(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ke(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}function Ve(e,t,n){return(t=We(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){if(Array.isArray(e))return e}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Xe(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function He(e,t){return Re(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,l,r,a,i=[],g=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;g=!1}else for(;!(g=(o=r.call(n)).done)&&(i.push(o.value),i.length!==t);g=!0);}catch(e){c=!0,l=e}finally{try{if(!g&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw l}}return i}}(e,t)||Xe(e,t)||Je()}function xe(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ye(e){return function(e){if(Array.isArray(e))return we(e)}(e)||xe(e)||Xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(t){Ve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Fe=function(e){for(var t,n=0,o=0,l=e.length;l>=4;++o,l-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(l){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Ke(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function Me(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var ze="data-rc-order",Le="data-rc-priority",De=new Map;function Te(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function je(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Oe(e){return Array.from((De.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ke())return null;var n=t.csp,o=t.prepend,l=t.priority,r=void 0===l?0:l,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(o),i="prependQueue"===a,g=document.createElement("style");g.setAttribute(ze,a),i&&r&&g.setAttribute(Le,"".concat(r)),null!==n&&void 0!==n&&n.nonce&&(g.nonce=null===n||void 0===n?void 0:n.nonce),g.innerHTML=e;var c=je(t),s=c.firstChild;if(o){if(i){var d=(t.styles||Oe(c)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(ze)))return!1;var t=Number(e.getAttribute(Le)||0);return r>=t});if(d.length)return c.insertBefore(g,d[d.length-1].nextSibling),g}c.insertBefore(g,s)}else c.appendChild(g);return g}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=je(t);return(t.styles||Oe(n)).find(function(n){return n.getAttribute(Te(t))===e})}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Qe(e,t);n&&je(t).removeChild(n)}function Pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=je(n),l=Oe(o),r=Ee(Ee({},n),{},{styles:l});!function(e,t){var n=De.get(e);if(!n||!Me(document,n)){var o=Ue("",t),l=o.parentNode;De.set(e,l),e.removeChild(o)}}(o,r);var a=Qe(t,r);if(a){var i,g,c;if(null!==(i=r.csp)&&void 0!==i&&i.nonce&&a.nonce!==(null===(g=r.csp)||void 0===g?void 0:g.nonce))a.nonce=null===(c=r.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var s=Ue(e,r);return s.setAttribute(Te(r),t),s}function qe(e,n,o){var l=t.useRef({});return"value"in l.current&&!o(l.current.condition,n)||(l.current.value=e(),l.current.condition=n),l.current.value}var _e={},et=[];function tt(e,t){}function nt(e,t){}function ot(e,t,n){t||_e[n]||(e(!1,n),_e[n]=!0)}function lt(e,t){ot(tt,e,t)}lt.preMessage=function(e){et.push(e)},lt.resetWarned=function(){_e={}},lt.noteOnce=function(e,t){ot(nt,e,t)};const rt=lt;const at=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Set;return function e(t,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=o.has(t);if(rt(!a,"Warning: There may be circular references"),a)return!1;if(t===l)return!0;if(n&&r>1)return!1;o.add(t);var i=r+1;if(Array.isArray(t)){if(!Array.isArray(l)||t.length!==l.length)return!1;for(var g=0;g<t.length;g++)if(!e(t[g],l[g],i))return!1;return!0}if(t&&l&&"object"===ke(t)&&"object"===ke(l)){var c=Object.keys(t);return c.length===Object.keys(l).length&&c.every(function(n){return e(t[n],l[n],i)})}return!1}(e,t)};function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,We(o.key),o)}}function ct(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){return e.join("%")}var dt=function(){function e(t){it(this,e),Ve(this,"instanceId",void 0),Ve(this,"cache",new Map),this.instanceId=t}return ct(e,[{key:"get",value:function(e){return this.opGet(st(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(st(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const It=dt;var Ct="data-token-hash",ut="data-css-hash",mt="__cssinjs_instance__";function At(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(ut,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(t){t[mt]=t[mt]||e,t[mt]===e&&document.head.insertBefore(t,n)});var o={};Array.from(document.querySelectorAll("style[".concat(ut,"]"))).forEach(function(t){var n,l=t.getAttribute(ut);o[l]?t[mt]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):o[l]=!0})}return new It(e)}var bt=t.createContext({hashPriority:"low",cache:At(),defaultCache:!0});const pt=bt;var ht="CALC_UNIT";new RegExp(ht,"g");var ft=function(){function e(){it(this,e),Ve(this,"cache",void 0),Ve(this,"keys",void 0),Ve(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ct(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l={map:this.cache};return e.forEach(function(e){var t;l?l=null===(t=l)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):l=void 0}),null!==(t=l)&&void 0!==t&&t.value&&o&&(l.value[1]=this.cacheCallTimes++),null===(n=l)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var o=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var l=this.keys.reduce(function(e,t){var n=He(e,2)[1];return o.internalGet(t)[1]<n?[t,o.internalGet(t)[1]]:e},[this.keys[0],this.cacheCallTimes]),r=He(l,1)[0];this.delete(r)}this.keys.push(t)}var a=this.cache;t.forEach(function(e,l){if(l===t.length-1)a.set(e,{value:[n,o.cacheCallTimes++]});else{var r=a.get(e);r?r.map||(r.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}})}},{key:"deleteByPath",value:function(e,t){var n,o=e.get(t[0]);if(1===t.length)return o.map?e.set(t[0],{map:o.map}):e.delete(t[0]),null===(n=o.value)||void 0===n?void 0:n[0];var l=this.deleteByPath(o.map,t.slice(1));return o.map&&0!==o.map.size||o.value||e.delete(t[0]),l}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)}),this.deleteByPath(this.cache,e)}}]),e}();Ve(ft,"MAX_CACHE_SIZE",20),Ve(ft,"MAX_CACHE_OFFSET",5);var yt=0,vt=function(){function e(t){it(this,e),Ve(this,"derivatives",void 0),Ve(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=yt,0===t.length&&t.length,yt+=1}return ct(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),e}(),Zt=new ft;function Gt(e){var t=Array.isArray(e)?e:[e];return Zt.has(t)||Zt.set(t,new vt(t)),Zt.get(t)}var St=new WeakMap,Bt={};var kt=new WeakMap;function Wt(e){var t=kt.get(e)||"";return t||(Object.keys(e).forEach(function(n){var o=e[n];t+=n,o instanceof vt?t+=o.id:o&&"object"===ke(o)?t+=Wt(o):t+=o}),t=Fe(t),kt.set(e,t)),t}function Vt(e,t){return Fe("".concat(t,"_").concat(Wt(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var Rt=Ke();function wt(e){return"number"===typeof e?"".concat(e,"px"):e}function Xt(e,t,n){var o;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var l=Ee(Ee({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(Ve(o={},Ct,t),Ve(o,ut,n),o)),r=Object.keys(l).map(function(e){var t=l[e];return t?"".concat(e,'="').concat(t,'"'):null}).filter(function(e){return e}).join(" ");return"<style ".concat(r,">").concat(e,"</style>")}var Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Ht=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(e){var t=He(e,2),n=t[0],o=t[1];return"".concat(n,":").concat(o,";")}).join(""),"}"):""},xt=function(e,t,n){var o={},l={};return Object.entries(e).forEach(function(e){var t,r,a=He(e,2),i=a[0],g=a[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[i])l[i]=g;else if(("string"===typeof g||"number"===typeof g)&&(null===n||void 0===n||null===(r=n.ignore)||void 0===r||!r[i])){var c,s=Jt(i,null===n||void 0===n?void 0:n.prefix);o[s]="number"!==typeof g||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[i]?String(g):"".concat(g,"px"),l[i]="var(".concat(s,")")}}),[l,Ht(o,t,{scope:null===n||void 0===n?void 0:n.scope})]},Yt=Ke()?t.useLayoutEffect:t.useEffect,Nt=function(e,n){var o=t.useRef(!0);Yt(function(){return e(o.current)},n),Yt(function(){return o.current=!1,function(){o.current=!0}},[])},Et=function(e,t){Nt(function(t){if(!t)return e()},t)};const Ft=Nt;var Kt=Ee({},o).useInsertionEffect;const Mt=Kt?function(e,t,n){return Kt(function(){return e(),t()},n)}:function(e,n,o){t.useMemo(e,o),Ft(function(){return n(!0)},o)};const zt="undefined"!==typeof Ee({},o).useInsertionEffect?function(e){var n=[],o=!1;return t.useEffect(function(){return o=!1,function(){o=!0,n.length&&n.forEach(function(e){return e()})}},e),function(e){o||n.push(e)}}:function(){return function(e){e()}};const Lt=function(){return!1};function Dt(e,n,o,l,r){var a=t.useContext(pt).cache,i=st([e].concat(Ye(n))),g=zt([i]),c=(Lt(),function(e){a.opUpdate(i,function(t){var n=He(t||[void 0,void 0],2),l=n[0];var r=[void 0===l?0:l,n[1]||o()];return e?e(r):r})});t.useMemo(function(){c()},[i]);var s=a.opGet(i)[1];return Mt(function(){null===r||void 0===r||r(s)},function(e){return c(function(t){var n=He(t,2),o=n[0],l=n[1];return e&&0===o&&(null===r||void 0===r||r(s)),[o+1,l]}),function(){a.opUpdate(i,function(t){var n=He(t||[],2),o=n[0],r=void 0===o?0:o,c=n[1];return 0===r-1?(g(function(){!e&&a.opGet(i)||null===l||void 0===l||l(c,!1)}),null):[r-1,c]})}},[i]),s}var Tt={},jt=new Map;function Ot(e,t){jt.set(e,(jt.get(e)||0)-1);var n=Array.from(jt.keys()),o=n.filter(function(e){return(jt.get(e)||0)<=0});n.length-o.length>0&&o.forEach(function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Ct,'="').concat(e,'"]')).forEach(function(e){var n;e[mt]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))})}(e,t),jt.delete(e)})}var Ut="token";function Qt(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(0,t.useContext)(pt),r=l.cache.instanceId,a=l.container,i=o.salt,g=void 0===i?"":i,c=o.override,s=void 0===c?Tt:c,d=o.formatToken,I=o.getComputedToken,C=o.cssVar,u=function(e,t){for(var n=St,o=0;o<t.length;o+=1){var l=t[o];n.has(l)||n.set(l,new WeakMap),n=n.get(l)}return n.has(Bt)||n.set(Bt,e()),n.get(Bt)}(function(){return Object.assign.apply(Object,[{}].concat(Ye(n)))},n),m=Wt(u),A=Wt(s),b=C?Wt(C):"",p=Dt(Ut,[g,e.id,m,A,b],function(){var t,n=I?I(u,s,e):function(e,t,n,o){var l=Ee(Ee({},n.getDerivativeToken(e)),t);return o&&(l=o(l)),l}(u,s,e,d),o=Ee({},n),l="";if(C){var r=He(xt(n,C.key,{prefix:C.prefix,ignore:C.ignore,unitless:C.unitless,preserve:C.preserve}),2);n=r[0],l=r[1]}var a=Vt(n,g);n._tokenKey=a,o._tokenKey=Vt(o,g);var i=null!==(t=null===C||void 0===C?void 0:C.key)&&void 0!==t?t:a;n._themeKey=i,function(e){jt.set(e,(jt.get(e)||0)+1)}(i);var c="".concat("css","-").concat(Fe(a));return n._hashId=c,[n,c,o,l,(null===C||void 0===C?void 0:C.key)||""]},function(e){Ot(e[0]._themeKey,r)},function(e){var t=He(e,4),n=t[0],o=t[3];if(C&&o){var l=Pe(o,Fe("css-variables-".concat(n._themeKey)),{mark:ut,prepend:"queue",attachTo:a,priority:-999});l[mt]=r,l.setAttribute(Ct,n._themeKey)}});return p}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$t.apply(null,arguments)}const Pt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var qt="comm",_t="rule",en="decl",tn=Math.abs,nn=String.fromCharCode;Object.assign;function on(e){return e.trim()}function ln(e,t,n){return e.replace(t,n)}function rn(e,t,n){return e.indexOf(t,n)}function an(e,t){return 0|e.charCodeAt(t)}function gn(e,t,n){return e.slice(t,n)}function cn(e){return e.length}function sn(e,t){return t.push(e),e}function dn(e,t){for(var n="",o=0;o<e.length;o++)n+=t(e[o],o,e,t)||"";return n}function In(e,t,n,o){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case en:return e.return=e.return||e.value;case qt:return"";case"@keyframes":return e.return=e.value+"{"+dn(e.children,o)+"}";case _t:if(!cn(e.value=e.props.join(",")))return""}return cn(n=dn(e.children,o))?e.return=e.value+"{"+n+"}":""}var Cn=1,un=1,mn=0,An=0,bn=0,pn="";function hn(e,t,n,o,l,r,a,i){return{value:e,root:t,parent:n,type:o,props:l,children:r,line:Cn,column:un,length:a,return:"",siblings:i}}function fn(){return bn=An>0?an(pn,--An):0,un--,10===bn&&(un=1,Cn--),bn}function yn(){return bn=An<mn?an(pn,An++):0,un++,10===bn&&(un=1,Cn++),bn}function vn(){return an(pn,An)}function Zn(){return An}function Gn(e,t){return gn(pn,e,t)}function Sn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bn(e){return Cn=un=1,mn=cn(pn=e),An=0,[]}function kn(e){return pn="",e}function Wn(e){return on(Gn(An-1,wn(91===e?e+2:40===e?e+1:e)))}function Vn(e){for(;(bn=vn())&&bn<33;)yn();return Sn(e)>2||Sn(bn)>3?"":" "}function Rn(e,t){for(;--t&&yn()&&!(bn<48||bn>102||bn>57&&bn<65||bn>70&&bn<97););return Gn(e,Zn()+(t<6&&32==vn()&&32==yn()))}function wn(e){for(;yn();)switch(bn){case e:return An;case 34:case 39:34!==e&&39!==e&&wn(bn);break;case 40:41===e&&wn(e);break;case 92:yn()}return An}function Xn(e,t){for(;yn()&&e+bn!==57&&(e+bn!==84||47!==vn()););return"/*"+Gn(t,An-1)+"*"+nn(47===e?e:yn())}function Jn(e){for(;!Sn(vn());)yn();return Gn(e,An)}function Hn(e){return kn(xn("",null,null,null,[""],e=Bn(e),0,[0],e))}function xn(e,t,n,o,l,r,a,i,g){for(var c=0,s=0,d=a,I=0,C=0,u=0,m=1,A=1,b=1,p=0,h="",f=l,y=r,v=o,Z=h;A;)switch(u=p,p=yn()){case 40:if(108!=u&&58==an(Z,d-1)){-1!=rn(Z+=ln(Wn(p),"&","&\f"),"&\f",tn(c?i[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:Z+=Wn(p);break;case 9:case 10:case 13:case 32:Z+=Vn(u);break;case 92:Z+=Rn(Zn()-1,7);continue;case 47:switch(vn()){case 42:case 47:sn(Nn(Xn(yn(),Zn()),t,n,g),g),5!=Sn(u||1)&&5!=Sn(vn()||1)||!cn(Z)||" "===gn(Z,-1,void 0)||(Z+=" ");break;default:Z+="/"}break;case 123*m:i[c++]=cn(Z)*b;case 125*m:case 59:case 0:switch(p){case 0:case 125:A=0;case 59+s:-1==b&&(Z=ln(Z,/\f/g,"")),C>0&&(cn(Z)-d||0===m&&47===u)&&sn(C>32?En(Z+";",o,n,d-1,g):En(ln(Z," ","")+";",o,n,d-2,g),g);break;case 59:Z+=";";default:if(sn(v=Yn(Z,t,n,c,s,l,i,h,f=[],y=[],d,r),r),123===p)if(0===s)xn(Z,t,v,v,f,r,d,i,y);else{switch(I){case 99:if(110===an(Z,3))break;case 108:if(97===an(Z,2))break;default:s=0;case 100:case 109:case 115:}s?xn(e,v,v,o&&sn(Yn(e,v,v,0,0,l,i,h,l,f=[],d,y),y),l,y,d,i,o?f:y):xn(Z,v,v,v,[""],y,0,i,y)}}c=s=C=0,m=b=1,h=Z="",d=a;break;case 58:d=1+cn(Z),C=u;default:if(m<1)if(123==p)--m;else if(125==p&&0==m++&&125==fn())continue;switch(Z+=nn(p),p*m){case 38:b=s>0?1:(Z+="\f",-1);break;case 44:i[c++]=(cn(Z)-1)*b,b=1;break;case 64:45===vn()&&(Z+=Wn(yn())),I=vn(),s=d=cn(h=Z+=Jn(Zn())),p++;break;case 45:45===u&&2==cn(Z)&&(m=0)}}return r}function Yn(e,t,n,o,l,r,a,i,g,c,s,d){for(var I=l-1,C=0===l?r:[""],u=function(e){return e.length}(C),m=0,A=0,b=0;m<o;++m)for(var p=0,h=gn(e,I+1,I=tn(A=a[m])),f=e;p<u;++p)(f=on(A>0?C[p]+" "+h:ln(h,/&\f/g,C[p])))&&(g[b++]=f);return hn(e,t,n,0===l?_t:i,g,c,s,d)}function Nn(e,t,n,o){return hn(e,t,n,qt,nn(bn),gn(e,2,-2),0,o)}function En(e,t,n,o,l){return hn(e,t,n,en,gn(e,0,o),gn(e,o+1,-1),o,l)}var Fn,Kn="data-ant-cssinjs-cache-path",Mn="_FILE_STYLE__";var zn=!0;function Ln(e){return function(){if(!Fn&&(Fn={},Ke())){var e=document.createElement("div");e.className=Kn,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach(function(e){var t=He(e.split(":"),2),n=t[0],o=t[1];Fn[n]=o});var n,o=document.querySelector("style[".concat(Kn,"]"));o&&(zn=!1,null===(n=o.parentNode)||void 0===n||n.removeChild(o)),document.body.removeChild(e)}}(),!!Fn[e]}var Dn="_multi_value_";function Tn(e){return dn(Hn(e),In).replace(/\{%%%\:[^;];}/g,";")}function jn(e,t,n){if(!t)return e;var o=".".concat(t),l="low"===n?":where(".concat(o,")"):o;return e.split(",").map(function(e){var t,n=e.trim().split(/\s+/),o=n[0]||"",r=(null===(t=o.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[o="".concat(r).concat(l).concat(o.slice(r.length))].concat(Ye(n.slice(1))).join(" ")}).join(",")}var On=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},l=o.root,r=o.injectHash,a=o.parentSelectors,i=n.hashId,g=n.layer,c=(n.path,n.hashPriority),s=n.transformers,d=void 0===s?[]:s,I=(n.linters,""),C={};function u(t){var o=t.getName(i);if(!C[o]){var l=He(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];C[o]="@keyframes ".concat(t.getName(i)).concat(l)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(function(t){Array.isArray(t)?e(t,n):t&&n.push(t)}),n}(Array.isArray(t)?t:[t]);return m.forEach(function(t){var o="string"!==typeof t||l?t:{};if("string"===typeof o)I+="".concat(o,"\n");else if(o._keyframe)u(o);else{var g=d.reduce(function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e},o);Object.keys(g).forEach(function(t){var o=g[t];if("object"!==ke(o)||!o||"animationName"===t&&o._keyframe||function(e){return"object"===ke(e)&&e&&("_skip_check_"in e||Dn in e)}(o)){var s;function y(e,t){var n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),o=t;Pt[e]||"number"!==typeof o||0===o||(o="".concat(o,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(u(t),o=t.getName(i)),I+="".concat(n,":").concat(o,";")}var d=null!==(s=null===o||void 0===o?void 0:o.value)&&void 0!==s?s:o;"object"===ke(o)&&null!==o&&void 0!==o&&o[Dn]&&Array.isArray(d)?d.forEach(function(e){y(t,e)}):y(t,d)}else{var m=!1,A=t.trim(),b=!1;(l||r)&&i?A.startsWith("@")?m=!0:A=jn("&"===A?"":t,i,c):!l||i||"&"!==A&&""!==A||(A="",b=!0);var p=He(e(o,n,{root:b,injectHash:m,parentSelectors:[].concat(Ye(a),[A])}),2),h=p[0],f=p[1];C=Ee(Ee({},C),f),I+="".concat(A).concat(h)}})}}),l?g&&(I&&(I="@layer ".concat(g.name," {").concat(I,"}")),g.dependencies&&(C["@layer ".concat(g.name)]=g.dependencies.map(function(e){return"@layer ".concat(e,", ").concat(g.name,";")}).join("\n"))):I="{".concat(I,"}"),[I,C]};function Un(e,t){return Fe("".concat(e.join("%")).concat(t))}function Qn(){return null}var $n="style";function Pn(e,n){var o=e.token,l=e.path,r=e.hashId,a=e.layer,i=e.nonce,g=e.clientOnly,c=e.order,s=void 0===c?0:c,d=t.useContext(pt),I=d.autoClear,C=(d.mock,d.defaultCache),u=d.hashPriority,m=d.container,A=d.ssrInline,b=d.transformers,p=d.linters,h=d.cache,f=d.layer,y=o._tokenKey,v=[y];f&&v.push("layer"),v.push.apply(v,Ye(l));var Z=Rt;var G=Dt($n,v,function(){var e=v.join("|");if(Ln(e)){var t=function(e){var t=Fn[e],n=null;if(t&&Ke())if(zn)n=Mn;else{var o=document.querySelector("style[".concat(ut,'="').concat(Fn[e],'"]'));o?n=o.innerHTML:delete Fn[e]}return[n,t]}(e),o=He(t,2),i=o[0],c=o[1];if(i)return[i,y,c,{},g,s]}var d=n(),I=He(On(d,{hashId:r,hashPriority:u,layer:f?a:void 0,path:l.join("-"),transformers:b,linters:p}),2),C=I[0],m=I[1],A=Tn(C),h=Un(v,A);return[A,y,h,m,g,s]},function(e,t){var n=He(e,3)[2];(t||I)&&Rt&&$e(n,{mark:ut})},function(e){var t=He(e,4),n=t[0],o=(t[1],t[2]),l=t[3];if(Z&&n!==Mn){var r={mark:ut,prepend:!f&&"queue",attachTo:m,priority:s},a="function"===typeof i?i():i;a&&(r.csp={nonce:a});var g=[],c=[];Object.keys(l).forEach(function(e){e.startsWith("@layer")?g.push(e):c.push(e)}),g.forEach(function(e){Pe(Tn(l[e]),"_layer-".concat(e),Ee(Ee({},r),{},{prepend:!0}))});var d=Pe(n,o,r);d[mt]=h.instanceId,d.setAttribute(Ct,y),c.forEach(function(e){Pe(Tn(l[e]),"_effect-".concat(e),r)})}}),S=He(G,3),B=S[0],k=S[1],W=S[2];return function(e){var n,o;A&&!Z&&C?n=t.createElement("style",$t({},(Ve(o={},Ct,k),Ve(o,ut,W),o),{dangerouslySetInnerHTML:{__html:B}})):n=t.createElement(Qn,null);return t.createElement(t.Fragment,null,n,e)}}var qn="cssVar";const _n=function(e,n){var o=e.key,l=e.prefix,r=e.unitless,a=e.ignore,i=e.token,g=e.scope,c=void 0===g?"":g,s=(0,t.useContext)(pt),d=s.cache.instanceId,I=s.container,C=i._tokenKey,u=[].concat(Ye(e.path),[o,c,C]),m=Dt(qn,u,function(){var e=n(),t=He(xt(e,o,{prefix:l,unitless:r,ignore:a,scope:c}),2),i=t[0],g=t[1];return[i,g,Un(u,g),o]},function(e){var t=He(e,3)[2];Rt&&$e(t,{mark:ut})},function(e){var t=He(e,3),n=t[1],l=t[2];if(n){var r=Pe(n,l,{mark:ut,prepend:"queue",attachTo:I,priority:-999});r[mt]=d,r.setAttribute(Ct,o)}});return m};var eo;Ve(eo={},$n,function(e,t,n){var o=He(e,6),l=o[0],r=o[1],a=o[2],i=o[3],g=o[4],c=o[5],s=(n||{}).plain;if(g)return null;var d=l,I={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=Xt(l,r,a,I,s),i&&Object.keys(i).forEach(function(e){if(!t[e]){t[e]=!0;var n=Xt(Tn(i[e]),r,"_effect-".concat(e),I,s);e.startsWith("@layer")?d=n+d:d+=n}}),[c,a,d]}),Ve(eo,Ut,function(e,t,n){var o=He(e,5),l=o[2],r=o[3],a=o[4],i=(n||{}).plain;if(!r)return null;var g=l._tokenKey;return[-999,g,Xt(r,a,g,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},i)]}),Ve(eo,qn,function(e,t,n){var o=He(e,4),l=o[1],r=o[2],a=o[3],i=(n||{}).plain;if(!l)return null;return[-999,r,Xt(l,a,r,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},i)]});var to=function(){function e(t,n){it(this,e),Ve(this,"name",void 0),Ve(this,"style",void 0),Ve(this,"_keyframe",!0),this.name=t,this.style=n}return ct(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const no=to;function oo(e){return e.notSplit=!0,e}oo(["borderTop","borderBottom"]),oo(["borderTop"]),oo(["borderBottom"]),oo(["borderLeft","borderRight"]),oo(["borderLeft"]),oo(["borderRight"]);const lo=(0,t.createContext)({});function ro(e){return Re(e)||xe(e)||Xe(e)||Je()}function ao(e,t){for(var n=e,o=0;o<t.length;o+=1){if(null===n||void 0===n)return;n=n[t[o]]}return n}function io(e,t,n,o){if(!t.length)return n;var l,r=ro(t),a=r[0],i=r.slice(1);return l=e||"number"!==typeof a?Array.isArray(e)?Ye(e):Ee({},e):[],o&&void 0===n&&1===i.length?delete l[a][i[0]]:l[a]=io(l[a],i,n,o),l}function go(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&o&&void 0===n&&!ao(e,t.slice(0,-1))?e:io(e,t,n,o)}function co(e){return Array.isArray(e)?[]:{}}var so="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function Io(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=co(t[0]);return t.forEach(function(e){!function t(n,l){var r,a=new Set(l),i=ao(e,n),g=Array.isArray(i);if(g||"object"===ke(r=i)&&null!==r&&Object.getPrototypeOf(r)===Object.prototype){if(!a.has(i)){a.add(i);var c=ao(o,n);g?o=go(o,n,[]):c&&"object"===ke(c)||(o=go(o,n,co(i))),so(i).forEach(function(e){t([].concat(Ye(n),[e]),a)})}}else o=go(o,n,i)}([])}),o}function Co(){}const uo=t.createContext({}),mo=()=>{const e=()=>{};return e.deprecated=Co,e},Ao=(0,t.createContext)(void 0);const bo={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const po=Ee(Ee({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),ho={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},fo={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},po),timePickerLocale:Object.assign({},ho)},yo="${label} is not a valid ${type}",vo={locale:"en",Pagination:bo,DatePicker:fo,TimePicker:ho,Calendar:fo,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:yo,method:yo,array:yo,object:yo,number:yo,date:yo,boolean:yo,integer:yo,float:yo,regexp:yo,email:yo,url:yo,hex:yo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let Zo=Object.assign({},vo.Modal),Go=[];const So=()=>Go.reduce((e,t)=>Object.assign(Object.assign({},e),t),vo.Modal);function Bo(){return Zo}const ko=(0,t.createContext)(void 0);const Wo=e=>{const{locale:n={},children:o,_ANT_MARK__:l}=e;t.useEffect(()=>{const e=function(e){if(e){const t=Object.assign({},e);return Go.push(t),Zo=So(),()=>{Go=Go.filter(e=>e!==t),Zo=So()}}Zo=Object.assign({},vo.Modal)}(null===n||void 0===n?void 0:n.Modal);return e},[n]);const r=t.useMemo(()=>Object.assign(Object.assign({},n),{exist:!0}),[n]);return t.createElement(ko.Provider,{value:r},o)},Vo=Math.round;function Ro(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],o=n.map(e=>parseFloat(e));for(let l=0;l<3;l+=1)o[l]=t(o[l]||0,n[l]||"",l);return n[3]?o[3]=n[3].includes("%")?o[3]/100:o[3]:o[3]=1,o}const wo=(e,t,n)=>0===n?e:e/100;function Xo(e,t){const n=t||255;return e>n?n:e<0?0:e}class Jo{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(Ve(this,"isValid",!0),Ve(this,"r",0),Ve(this,"g",0),Ve(this,"b",0),Ve(this,"a",1),Ve(this,"_h",void 0),Ve(this,"_s",void 0),Ve(this,"_l",void 0),Ve(this,"_v",void 0),Ve(this,"_max",void 0),Ve(this,"_min",void 0),Ve(this,"_brightness",void 0),e)if("string"===typeof e){const n=e.trim();function o(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):o("rgb")?this.fromRgbString(n):o("hsl")?this.fromHslString(n):(o("hsv")||o("hsb"))&&this.fromHsvString(n)}else if(e instanceof Jo)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Xo(e.r),this.g=Xo(e.g),this.b=Xo(e.b),this.a="number"===typeof e.a?Xo(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Vo(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:t,s:n,l:o,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:t,s:n,l:o,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),o=t/100,l=e=>(n[e]-this[e])*o+this[e],r={r:Vo(l("r")),g:Vo(l("g")),b:Vo(l("b")),a:Vo(100*l("a"))/100};return this._c(r)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),o=e=>Vo((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:o("r"),g:o("g"),b:o("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const o=(this.b||0).toString(16);if(e+=2===o.length?o:"0"+o,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=Vo(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Vo(100*this.getSaturation()),n=Vo(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const o=this.clone();return o[e]=Xo(t,n),o}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:o,a:l}=e;if(this._h=t%360,this._s=n,this._l=o,this.a="number"===typeof l?l:1,n<=0){const e=Vo(255*o);this.r=e,this.g=e,this.b=e}let r=0,a=0,i=0;const g=t/60,c=(1-Math.abs(2*o-1))*n,s=c*(1-Math.abs(g%2-1));g>=0&&g<1?(r=c,a=s):g>=1&&g<2?(r=s,a=c):g>=2&&g<3?(a=c,i=s):g>=3&&g<4?(a=s,i=c):g>=4&&g<5?(r=s,i=c):g>=5&&g<6&&(r=c,i=s);const d=o-c/2;this.r=Vo(255*(r+d)),this.g=Vo(255*(a+d)),this.b=Vo(255*(i+d))}fromHsv(e){let{h:t,s:n,v:o,a:l}=e;this._h=t%360,this._s=n,this._v=o,this.a="number"===typeof l?l:1;const r=Vo(255*o);if(this.r=r,this.g=r,this.b=r,n<=0)return;const a=t/60,i=Math.floor(a),g=a-i,c=Vo(o*(1-n)*255),s=Vo(o*(1-n*g)*255),d=Vo(o*(1-n*(1-g))*255);switch(i){case 0:this.g=d,this.b=c;break;case 1:this.r=s,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=s;break;case 4:this.r=d,this.g=c;break;default:this.g=c,this.b=s}}fromHsvString(e){const t=Ro(e,wo);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Ro(e,wo);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Ro(e,(e,t)=>t.includes("%")?Vo(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Ho=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function xo(e,t,n){var o;return(o=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?o+=360:o>=360&&(o-=360),o}function Yo(e,t,n){return 0===e.h&&0===e.s?e.s:((o=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(o=1),n&&5===t&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(100*o)/100);var o}function No(e,t,n){var o;return o=n?e.v+.05*t:e.v-.15*t,o=Math.max(0,Math.min(1,o)),Math.round(100*o)/100}function Eo(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=new Jo(e),l=o.toHsv(),r=5;r>0;r-=1){var a=new Jo({h:xo(l,r,!0),s:Yo(l,r,!0),v:No(l,r,!0)});n.push(a)}n.push(o);for(var i=1;i<=4;i+=1){var g=new Jo({h:xo(l,i),s:Yo(l,i),v:No(l,i)});n.push(g)}return"dark"===t.theme?Ho.map(function(e){var o=e.index,l=e.amount;return new Jo(t.backgroundColor||"#141414").mix(n[o],l).toHexString()}):n.map(function(e){return e.toHexString()})}var Fo={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ko=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Ko.primary=Ko[5];var Mo=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Mo.primary=Mo[5];var zo=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];zo.primary=zo[5];var Lo=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Lo.primary=Lo[5];var Do=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Do.primary=Do[5];var To=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];To.primary=To[5];var jo=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];jo.primary=jo[5];var Oo=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Oo.primary=Oo[5];var Uo=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Uo.primary=Uo[5];var Qo=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Qo.primary=Qo[5];var $o=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];$o.primary=$o[5];var Po=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Po.primary=Po[5];var qo=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];qo.primary=qo[5];var _o={red:Ko,volcano:Mo,orange:zo,gold:Lo,yellow:Do,lime:To,green:jo,cyan:Oo,blue:Uo,geekblue:Qo,purple:$o,magenta:Po,grey:qo},el=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];el.primary=el[5];var tl=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];tl.primary=tl[5];var nl=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];nl.primary=nl[5];var ol=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];ol.primary=ol[5];var ll=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];ll.primary=ll[5];var rl=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];rl.primary=rl[5];var al=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];al.primary=al[5];var il=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];il.primary=il[5];var gl=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];gl.primary=gl[5];var cl=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];cl.primary=cl[5];var sl=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];sl.primary=sl[5];var dl=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];dl.primary=dl[5];var Il=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Il.primary=Il[5];const Cl={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ul=Object.assign(Object.assign({},Cl),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});const ml=e=>{let t=e,n=e,o=e,l=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?o=1:e>=6&&(o=2),e>4&&e<8?l=4:e>=8&&(l=6),{borderRadius:e,borderRadiusXS:o,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:l}};const Al=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function bl(e){return(e+8)/e}const pl=e=>{const t=function(e){const t=Array.from({length:10}).map((t,n)=>{const o=n-1,l=e*Math.pow(Math.E,o/5),r=n>1?Math.floor(l):Math.ceil(l);return 2*Math.floor(r/2)});return t[1]=e,t.map(e=>({size:e,lineHeight:bl(e)}))}(e),n=t.map(e=>e.size),o=t.map(e=>e.lineHeight),l=n[1],r=n[0],a=n[2],i=o[1],g=o[0],c=o[2];return{fontSizeSM:r,fontSize:l,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:i,lineHeightLG:c,lineHeightSM:g,fontHeight:Math.round(i*l),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(g*r),lineHeightHeading1:o[6],lineHeightHeading2:o[5],lineHeightHeading3:o[4],lineHeightHeading4:o[3],lineHeightHeading5:o[2]}};const hl=(e,t)=>new Jo(e).setA(t).toRgbString(),fl=(e,t)=>new Jo(e).darken(t).toHexString(),yl=e=>{const t=Eo(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},vl=(e,t)=>{const n=e||"#fff",o=t||"#000";return{colorBgBase:n,colorTextBase:o,colorText:hl(o,.88),colorTextSecondary:hl(o,.65),colorTextTertiary:hl(o,.45),colorTextQuaternary:hl(o,.25),colorFill:hl(o,.15),colorFillSecondary:hl(o,.06),colorFillTertiary:hl(o,.04),colorFillQuaternary:hl(o,.02),colorBgSolid:hl(o,1),colorBgSolidHover:hl(o,.75),colorBgSolidActive:hl(o,.95),colorBgLayout:fl(n,4),colorBgContainer:fl(n,0),colorBgElevated:fl(n,0),colorBgSpotlight:hl(o,.85),colorBgBlur:"transparent",colorBorder:fl(n,15),colorBorderSecondary:fl(n,6)}};const Zl=Gt(function(e){Fo.pink=Fo.magenta,_o.pink=_o.magenta;const t=Object.keys(Cl).map(t=>{const n=e[t]===Fo[t]?_o[t]:Eo(e[t]);return Array.from({length:10},()=>1).reduce((e,o,l)=>(e[`${t}-${l+1}`]=n[l],e[`${t}${l+1}`]=n[l],e),{})}).reduce((e,t)=>e=Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:o}=t;const{colorSuccess:l,colorWarning:r,colorError:a,colorInfo:i,colorPrimary:g,colorBgBase:c,colorTextBase:s}=e,d=n(g),I=n(l),C=n(r),u=n(a),m=n(i),A=o(c,s),b=n(e.colorLink||e.colorInfo),p=new Jo(u[1]).mix(new Jo(u[3]),50).toHexString();return Object.assign(Object.assign({},A),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:I[1],colorSuccessBgHover:I[2],colorSuccessBorder:I[3],colorSuccessBorderHover:I[4],colorSuccessHover:I[4],colorSuccess:I[6],colorSuccessActive:I[7],colorSuccessTextHover:I[8],colorSuccessText:I[9],colorSuccessTextActive:I[10],colorErrorBg:u[1],colorErrorBgHover:u[2],colorErrorBgFilledHover:p,colorErrorBgActive:u[3],colorErrorBorder:u[3],colorErrorBorderHover:u[4],colorErrorHover:u[5],colorError:u[6],colorErrorActive:u[7],colorErrorTextHover:u[8],colorErrorText:u[9],colorErrorTextActive:u[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:b[4],colorLink:b[6],colorLinkActive:b[7],colorBgMask:new Jo("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:yl,generateNeutralColorPalettes:vl})),pl(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Al(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:o,lineWidth:l}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:l+1},ml(o))}(e))}),Gl=Zl,Sl={token:ul,override:{override:ul},hashed:!0},Bl=t.createContext(Sl),kl="ant",Wl="anticon",Vl=["outlined","borderless","filled","underlined"],Rl=t.createContext({getPrefixCls:(e,t)=>t||(e?`${kl}-${e}`:kl),iconPrefixCls:Wl}),{Consumer:wl}=Rl,Xl={};function Jl(e){const n=t.useContext(Rl),{getPrefixCls:o,direction:l,getPopupContainer:r}=n,a=n[e];return Object.assign(Object.assign({classNames:Xl,styles:Xl},a),{getPrefixCls:o,direction:l,getPopupContainer:r})}const Hl=`-ant-${Date.now()}-${Math.random()}`;function xl(e,t){const n=function(e,t){const n={},o=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},l=(e,t)=>{const l=new Jo(e),r=Eo(l.toRgbString());n[`${t}-color`]=o(l),n[`${t}-color-disabled`]=r[1],n[`${t}-color-hover`]=r[4],n[`${t}-color-active`]=r[6],n[`${t}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=r[0],n[`${t}-color-deprecated-border`]=r[2]};if(t.primaryColor){l(t.primaryColor,"primary");const e=new Jo(t.primaryColor),r=Eo(e.toRgbString());r.forEach((e,t)=>{n[`primary-${t+1}`]=e}),n["primary-color-deprecated-l-35"]=o(e,e=>e.lighten(35)),n["primary-color-deprecated-l-20"]=o(e,e=>e.lighten(20)),n["primary-color-deprecated-t-20"]=o(e,e=>e.tint(20)),n["primary-color-deprecated-t-50"]=o(e,e=>e.tint(50)),n["primary-color-deprecated-f-12"]=o(e,e=>e.setA(.12*e.a));const a=new Jo(r[0]);n["primary-color-active-deprecated-f-30"]=o(a,e=>e.setA(.3*e.a)),n["primary-color-active-deprecated-d-02"]=o(a,e=>e.darken(2))}return t.successColor&&l(t.successColor,"success"),t.warningColor&&l(t.warningColor,"warning"),t.errorColor&&l(t.errorColor,"error"),t.infoColor&&l(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map(t=>`--${e}-${t}: ${n[t]};`).join("\n")}\n  }\n  `.trim()}(e,t);Ke()&&Pe(n,`${Hl}-dynamic-theme`)}const Yl=t.createContext(!1),Nl=e=>{let{children:n,disabled:o}=e;const l=t.useContext(Yl);return t.createElement(Yl.Provider,{value:null!==o&&void 0!==o?o:l},n)},El=Yl,Fl=t.createContext(void 0),Kl=e=>{let{children:n,size:o}=e;const l=t.useContext(Fl);return t.createElement(Fl.Provider,{value:o||l},n)},Ml=Fl;const zl=function(){return{componentDisabled:(0,t.useContext)(El),componentSize:(0,t.useContext)(Ml)}},Ll=Object.assign({},o),{useId:Dl}=Ll,Tl="undefined"===typeof Dl?()=>"":Dl;var jl=n(139),Ol=n.n(jl);function Ul(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ql(e){return e&&"object"===ke(e)&&Ul(e.nativeElement)?e.nativeElement:Ul(e)?e:null}function $l(e){var n,o=Ql(e);return o||(e instanceof t.Component?null===(n=c.findDOMNode)||void 0===n?void 0:n.call(c,e):null)}var Pl=n(86),ql=Symbol.for("react.element"),_l=Symbol.for("react.transitional.element"),er=Symbol.for("react.fragment");function tr(e){return e&&"object"===ke(e)&&(e.$$typeof===ql||e.$$typeof===_l)&&e.type===er}var nr=Number(t.version.split(".")[0]),or=function(e,t){"function"===typeof e?e(t):"object"===ke(e)&&e&&"current"in e&&(e.current=t)},lr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.filter(Boolean);return o.length<=1?o[0]:function(e){t.forEach(function(t){or(t,e)})}},rr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qe(function(){return lr.apply(void 0,t)},t,function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})})},ar=function(e){var t,n;if(!e)return!1;if(ir(e)&&nr>=19)return!0;var o=(0,Pl.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof o||null!==(t=o.prototype)&&void 0!==t&&t.render||o.$$typeof===Pl.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Pl.ForwardRef)};function ir(e){return(0,t.isValidElement)(e)&&!tr(e)}var gr=function(e){if(e&&ir(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function cr(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var sr=["children"],dr=t.createContext({});function Ir(e){var n=e.children,o=cr(e,sr);return t.createElement(dr.Provider,{value:o},n)}function Cr(e,t){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cr(e,t)}function ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cr(e,t)}function mr(e){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mr(e)}function Ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ar=function(){return!!e})()}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(e,t){if(t&&("object"==ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function hr(e){var t=Ar();return function(){var n,o=mr(e);if(t){var l=mr(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return pr(this,n)}}const fr=function(e){ur(n,e);var t=hr(n);function n(){return it(this,n),t.apply(this,arguments)}return ct(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function yr(e){var n=t.useRef();n.current=e;var o=t.useCallback(function(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(o))},[]);return o}function vr(e){var n=t.useRef(!1),o=He(t.useState(e),2),l=o[0],r=o[1];return t.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]),[l,function(e,t){t&&n.current||r(e)}]}function Zr(e){return void 0!==e}function Gr(e,t){var n=t||{},o=n.defaultValue,l=n.value,r=n.onChange,a=n.postState,i=He(vr(function(){return Zr(l)?l:Zr(o)?"function"===typeof o?o():o:"function"===typeof e?e():e}),2),g=i[0],c=i[1],s=void 0!==l?l:g,d=a?a(s):s,I=yr(r),C=He(vr([s]),2),u=C[0],m=C[1];return Et(function(){var e=u[0];g!==e&&I(g,e)},[u]),Et(function(){Zr(l)||c(l)},[l]),[d,yr(function(e,t){c(e,t),m([s],t)})]}var Sr="none",Br="appear",kr="enter",Wr="leave",Vr="none",Rr="prepare",wr="start",Xr="active",Jr="end",Hr="prepared";function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Yr=function(e,t){var n={animationend:xr("Animation","AnimationEnd"),transitionend:xr("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Ke(),"undefined"!==typeof window?window:{}),Nr={};if(Ke()){var Er=document.createElement("div");Nr=Er.style}var Fr={};function Kr(e){if(Fr[e])return Fr[e];var t=Yr[e];if(t)for(var n=Object.keys(t),o=n.length,l=0;l<o;l+=1){var r=n[l];if(Object.prototype.hasOwnProperty.call(t,r)&&r in Nr)return Fr[e]=t[r],Fr[e]}return""}var Mr=Kr("animationend"),zr=Kr("transitionend"),Lr=!(!Mr||!zr),Dr=Mr||"animationend",Tr=zr||"transitionend";function jr(e,t){if(!e)return null;if("object"===ke(e)){var n=t.replace(/-\w/g,function(e){return e[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const Or=Ke()?t.useLayoutEffect:t.useEffect;var Ur=function(e){return+setTimeout(e,16)},Qr=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Ur=function(e){return window.requestAnimationFrame(e)},Qr=function(e){return window.cancelAnimationFrame(e)});var $r=0,Pr=new Map;function qr(e){Pr.delete(e)}var _r=function(e){var t=$r+=1;return function n(o){if(0===o)qr(t),e();else{var l=Ur(function(){n(o-1)});Pr.set(t,l)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};_r.cancel=function(e){var t=Pr.get(e);return qr(e),Qr(t)};const ea=_r;var ta=[Rr,wr,Xr,Jr],na=[Rr,Hr],oa=!1;function la(e){return e===Xr||e===Jr}const ra=function(e,n,o){var l=He(vr(Vr),2),r=l[0],a=l[1],i=function(){var e=t.useRef(null);function n(){ea.cancel(e.current)}return t.useEffect(function(){return function(){n()}},[]),[function t(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var r=ea(function(){l<=1?o({isCanceled:function(){return r!==e.current}}):t(o,l-1)});e.current=r},n]}(),g=He(i,2),c=g[0],s=g[1];var d=n?na:ta;return Or(function(){if(r!==Vr&&r!==Jr){var e=d.indexOf(r),t=d[e+1],n=o(r);n===oa?a(t,!0):t&&c(function(e){function o(){e.isCanceled()||a(t,!0)}!0===n?o():Promise.resolve(n).then(o)})}},[e,r]),t.useEffect(function(){return function(){s()}},[]),[function(){a(Rr,!0)},r]};function aa(e,n,o,l){var r=l.motionEnter,a=void 0===r||r,i=l.motionAppear,g=void 0===i||i,c=l.motionLeave,s=void 0===c||c,d=l.motionDeadline,I=l.motionLeaveImmediately,C=l.onAppearPrepare,u=l.onEnterPrepare,m=l.onLeavePrepare,A=l.onAppearStart,b=l.onEnterStart,p=l.onLeaveStart,h=l.onAppearActive,f=l.onEnterActive,y=l.onLeaveActive,v=l.onAppearEnd,Z=l.onEnterEnd,G=l.onLeaveEnd,S=l.onVisibleChanged,B=He(vr(),2),k=B[0],W=B[1],V=function(e){var n=He(t.useReducer(function(e){return e+1},0),2)[1],o=t.useRef(e);return[yr(function(){return o.current}),yr(function(e){o.current="function"===typeof e?e(o.current):e,n()})]}(Sr),R=He(V,2),w=R[0],X=R[1],J=He(vr(null),2),H=J[0],x=J[1],Y=w(),N=(0,t.useRef)(!1),E=(0,t.useRef)(null);function F(){return o()}var K=(0,t.useRef)(!1);function M(){X(Sr),x(null,!0)}var z=yr(function(e){var t=w();if(t!==Sr){var n=F();if(!e||e.deadline||e.target===n){var o,l=K.current;t===Br&&l?o=null===v||void 0===v?void 0:v(n,e):t===kr&&l?o=null===Z||void 0===Z?void 0:Z(n,e):t===Wr&&l&&(o=null===G||void 0===G?void 0:G(n,e)),l&&!1!==o&&M()}}}),L=function(e){var n=(0,t.useRef)();function o(t){t&&(t.removeEventListener(Tr,e),t.removeEventListener(Dr,e))}return t.useEffect(function(){return function(){o(n.current)}},[]),[function(t){n.current&&n.current!==t&&o(n.current),t&&t!==n.current&&(t.addEventListener(Tr,e),t.addEventListener(Dr,e),n.current=t)},o]}(z),D=He(L,1)[0],T=function(e){switch(e){case Br:return Ve(Ve(Ve({},Rr,C),wr,A),Xr,h);case kr:return Ve(Ve(Ve({},Rr,u),wr,b),Xr,f);case Wr:return Ve(Ve(Ve({},Rr,m),wr,p),Xr,y);default:return{}}},j=t.useMemo(function(){return T(Y)},[Y]),O=He(ra(Y,!e,function(e){if(e===Rr){var t=j[Rr];return t?t(F()):oa}var n;Q in j&&x((null===(n=j[Q])||void 0===n?void 0:n.call(j,F(),null))||null);return Q===Xr&&Y!==Sr&&(D(F()),d>0&&(clearTimeout(E.current),E.current=setTimeout(function(){z({deadline:!0})},d))),Q===Hr&&M(),true}),2),U=O[0],Q=O[1],$=la(Q);K.current=$;var P=(0,t.useRef)(null);Or(function(){if(!N.current||P.current!==n){W(n);var t,o=N.current;N.current=!0,!o&&n&&g&&(t=Br),o&&n&&a&&(t=kr),(o&&!n&&s||!o&&I&&!n&&s)&&(t=Wr);var l=T(t);t&&(e||l[Rr])?(X(t),U()):X(Sr),P.current=n}},[n]),(0,t.useEffect)(function(){(Y===Br&&!g||Y===kr&&!a||Y===Wr&&!s)&&X(Sr)},[g,a,s]),(0,t.useEffect)(function(){return function(){N.current=!1,clearTimeout(E.current)}},[]);var q=t.useRef(!1);(0,t.useEffect)(function(){k&&(q.current=!0),void 0!==k&&Y===Sr&&((q.current||k)&&(null===S||void 0===S||S(k)),q.current=!0)},[k,Y]);var _=H;return j[Rr]&&Q===wr&&(_=Ee({transition:"none"},_)),[Y,Q,_,null!==k&&void 0!==k?k:n]}const ia=function(e){var n=e;"object"===ke(e)&&(n=e.transitionSupport);var o=t.forwardRef(function(e,o){var l=e.visible,r=void 0===l||l,a=e.removeOnLeave,i=void 0===a||a,g=e.forceRender,c=e.children,s=e.motionName,d=e.leavedClassName,I=e.eventProps,C=function(e,t){return!(!e.motionName||!n||!1===t)}(e,t.useContext(dr).motion),u=(0,t.useRef)(),m=(0,t.useRef)();var A=He(aa(C,r,function(){try{return u.current instanceof HTMLElement?u.current:$l(m.current)}catch(PV){return null}},e),4),b=A[0],p=A[1],h=A[2],f=A[3],y=t.useRef(f);f&&(y.current=!0);var v,Z=t.useCallback(function(e){u.current=e,or(o,e)},[o]),G=Ee(Ee({},I),{},{visible:r});if(c)if(b===Sr)v=f?c(Ee({},G),Z):!i&&y.current&&d?c(Ee(Ee({},G),{},{className:d}),Z):g||!i&&!d?c(Ee(Ee({},G),{},{style:{display:"none"}}),Z):null;else{var S;p===Rr?S="prepare":la(p)?S="active":p===wr&&(S="start");var B=jr(s,"".concat(b,"-").concat(S));v=c(Ee(Ee({},G),{},{className:Ol()(jr(s,b),Ve(Ve({},B,B&&S),s,"string"===typeof s)),style:h}),Z)}else v=null;t.isValidElement(v)&&ar(v)&&(gr(v)||(v=t.cloneElement(v,{ref:Z})));return t.createElement(fr,{ref:m},v)});return o.displayName="CSSMotion",o}(Lr);var ga="add",ca="keep",sa="remove",da="removed";function Ia(e){var t;return Ee(Ee({},t=e&&"object"===ke(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Ca(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Ia)}var ua=["component","children","onVisibleChanged","onAllRemoved"],ma=["status"],Aa=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const ba=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ia,n=function(n){ur(l,n);var o=hr(l);function l(){var e;it(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(br(e=o.call.apply(o,[this].concat(n))),"state",{keyEntities:[]}),Ve(br(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:Ee(Ee({},e),{},{status:da})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==da}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return ct(l,[{key:"render",value:function(){var n=this,o=this.state.keyEntities,l=this.props,r=l.component,a=l.children,i=l.onVisibleChanged,g=(l.onAllRemoved,cr(l,ua)),c=r||t.Fragment,s={};return Aa.forEach(function(e){s[e]=g[e],delete g[e]}),delete g.keys,t.createElement(c,g,o.map(function(o,l){var r=o.status,g=cr(o,ma),c=r===ga||r===ca;return t.createElement(e,$t({},s,{key:g.key,visible:c,eventProps:g,onVisibleChanged:function(e){null===i||void 0===i||i(e,{key:g.key}),e||n.removeKey(g.key)}}),function(e,t){return a(Ee(Ee({},e),{},{index:l}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,o=t.keyEntities,l=Ca(n),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o=0,l=t.length,r=Ca(e),a=Ca(t);r.forEach(function(e){for(var t=!1,r=o;r<l;r+=1){var i=a[r];if(i.key===e.key){o<r&&(n=n.concat(a.slice(o,r).map(function(e){return Ee(Ee({},e),{},{status:ga})})),o=r),n.push(Ee(Ee({},i),{},{status:ca})),o+=1,t=!0;break}}t||n.push(Ee(Ee({},e),{},{status:sa}))}),o<l&&(n=n.concat(a.slice(o).map(function(e){return Ee(Ee({},e),{},{status:ga})})));var i={};return n.forEach(function(e){var t=e.key;i[t]=(i[t]||0)+1}),Object.keys(i).filter(function(e){return i[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,o=t.status;return n!==e||o!==sa})).forEach(function(t){t.key===e&&(t.status=ca)})}),n}(o,l);return{keyEntities:r.filter(function(e){var t=o.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==da||e.status!==sa})}}}]),l}(t.Component);return Ve(n,"defaultProps",{component:"div"}),n}(Lr),pa=ia;function ha(e){return e>=0&&e<=255}const fa=function(e,t){const{r:n,g:o,b:l,a:r}=new Jo(e).toRgb();if(r<1)return e;const{r:a,g:i,b:g}=new Jo(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-a*(1-c))/c),t=Math.round((o-i*(1-c))/c),r=Math.round((l-g*(1-c))/c);if(ha(e)&&ha(t)&&ha(r))return new Jo({r:e,g:t,b:r,a:Math.round(100*c)/100}).toRgbString()}return new Jo({r:n,g:o,b:l,a:1}).toRgbString()};var ya=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function va(e){const{override:t}=e,n=ya(e,["override"]),o=Object.assign({},t);Object.keys(ul).forEach(e=>{delete o[e]});const l=Object.assign(Object.assign({},n),o),r=1200,a=1600;if(!1===l.motion){const e="0s";l.motionDurationFast=e,l.motionDurationMid=e,l.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},l),{colorFillContent:l.colorFillSecondary,colorFillContentHover:l.colorFill,colorFillAlter:l.colorFillQuaternary,colorBgContainerDisabled:l.colorFillTertiary,colorBorderBg:l.colorBgContainer,colorSplit:fa(l.colorBorderSecondary,l.colorBgContainer),colorTextPlaceholder:l.colorTextQuaternary,colorTextDisabled:l.colorTextQuaternary,colorTextHeading:l.colorText,colorTextLabel:l.colorTextSecondary,colorTextDescription:l.colorTextTertiary,colorTextLightSolid:l.colorWhite,colorHighlight:l.colorError,colorBgTextHover:l.colorFillSecondary,colorBgTextActive:l.colorFill,colorIcon:l.colorTextTertiary,colorIconHover:l.colorText,colorErrorOutline:fa(l.colorErrorBg,l.colorBgContainer),colorWarningOutline:fa(l.colorWarningBg,l.colorBgContainer),fontSizeIcon:l.fontSizeSM,lineWidthFocus:3*l.lineWidth,lineWidth:l.lineWidth,controlOutlineWidth:2*l.lineWidth,controlInteractiveSize:l.controlHeight/2,controlItemBgHover:l.colorFillTertiary,controlItemBgActive:l.colorPrimaryBg,controlItemBgActiveHover:l.colorPrimaryBgHover,controlItemBgActiveDisabled:l.colorFill,controlTmpOutline:l.colorFillQuaternary,controlOutline:fa(l.colorPrimaryBg,l.colorBgContainer),lineType:l.lineType,borderRadius:l.borderRadius,borderRadiusXS:l.borderRadiusXS,borderRadiusSM:l.borderRadiusSM,borderRadiusLG:l.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:l.sizeXXS,paddingXS:l.sizeXS,paddingSM:l.sizeSM,padding:l.size,paddingMD:l.sizeMD,paddingLG:l.sizeLG,paddingXL:l.sizeXL,paddingContentHorizontalLG:l.sizeLG,paddingContentVerticalLG:l.sizeMS,paddingContentHorizontal:l.sizeMS,paddingContentVertical:l.sizeSM,paddingContentHorizontalSM:l.size,paddingContentVerticalSM:l.sizeXS,marginXXS:l.sizeXXS,marginXS:l.sizeXS,marginSM:l.sizeSM,margin:l.size,marginMD:l.sizeMD,marginLG:l.sizeLG,marginXL:l.sizeXL,marginXXL:l.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:r,screenXLMin:r,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new Jo("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new Jo("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new Jo("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),o)}var Za=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Ga={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Sa={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Ba={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},ka=(e,t,n)=>{const o=n.getDerivativeToken(e),{override:l}=t,r=Za(t,["override"]);let a=Object.assign(Object.assign({},o),{override:l});return a=va(a),r&&Object.entries(r).forEach(e=>{let[t,n]=e;const{theme:o}=n,l=Za(n,["theme"]);let r=l;o&&(r=ka(Object.assign(Object.assign({},a),l),{override:l},o)),a[t]=r}),a};function Wa(){const{token:e,hashed:n,theme:o,override:l,cssVar:r}=t.useContext(Bl),a=`5.26.4-${n||""}`,i=o||Gl,[g,c,s]=Qt(i,[ul,e],{salt:a,override:l,getComputedToken:ka,formatToken:va,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:Ga,ignore:Sa,preserve:Ba}});return[i,s,n?c:"",g,r]}const Va=t.createContext(!0);function Ra(e){const n=t.useContext(Va),{children:o}=e,[,l]=Wa(),{motion:r}=l,a=t.useRef(!1);return a.current||(a.current=n!==r),a.current?t.createElement(Va.Provider,{value:r},t.createElement(Ir,{motion:r},o)):o}const wa=()=>null,Xa={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ja=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},Ha=(e,t)=>({outline:`${wt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:null!==t&&void 0!==t?t:1,transition:"outline-offset 0s, outline 0s"}),xa=(e,t)=>({"&:focus-visible":Object.assign({},Ha(e,t))}),Ya=e=>({[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}),Na=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},xa(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}),Ea=(e,t)=>{const[n,o]=Wa();return Pn({theme:n,token:o,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},()=>[Ya(e)])};var Fa=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Ka=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Ma,za,La,Da;function Ta(){return Ma||kl}function ja(){return za||Wl}const Oa=()=>({getPrefixCls:(e,t)=>t||(e?`${Ta()}-${e}`:Ta()),getIconPrefixCls:ja,getRootPrefixCls:()=>Ma||Ta(),getTheme:()=>La,holderRender:Da}),Ua=e=>{const{children:n,csp:o,autoInsertSpaceInButton:l,alert:r,anchor:a,form:i,locale:g,componentSize:c,direction:s,space:d,splitter:I,virtual:C,dropdownMatchSelectWidth:u,popupMatchSelectWidth:m,popupOverflow:A,legacyLocale:b,parentContext:p,iconPrefixCls:h,theme:f,componentDisabled:y,segmented:v,statistic:Z,spin:G,calendar:S,carousel:B,cascader:k,collapse:W,typography:V,checkbox:R,descriptions:w,divider:X,drawer:J,skeleton:H,steps:x,image:Y,layout:N,list:E,mentions:F,modal:K,progress:M,result:z,slider:L,breadcrumb:D,menu:T,pagination:j,input:O,textArea:U,empty:Q,badge:$,radio:P,rate:q,switch:_,transfer:ee,avatar:te,message:ne,tag:oe,table:le,card:re,tabs:ae,timeline:ie,timePicker:ge,upload:ce,notification:se,tree:de,colorPicker:Ie,datePicker:Ce,rangePicker:ue,flex:me,wave:Ae,dropdown:be,warning:pe,tour:he,tooltip:fe,popover:ye,popconfirm:ve,floatButtonGroup:Ze,variant:Ge,inputNumber:Se,treeSelect:Be}=e,ke=t.useCallback((t,n)=>{const{prefixCls:o}=e;if(n)return n;const l=o||p.getPrefixCls("");return t?`${l}-${t}`:l},[p.getPrefixCls,e.prefixCls]),We=h||p.iconPrefixCls||Wl,Ve=o||p.csp;Ea(We,Ve);const Re=function(e,t,n){var o;mo("ConfigProvider");const l=e||{},r=!1!==l.inherit&&t?t:Object.assign(Object.assign({},Sl),{hashed:null!==(o=null===t||void 0===t?void 0:t.hashed)&&void 0!==o?o:Sl.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),a=Tl();return qe(()=>{var o,i;if(!e)return t;const g=Object.assign({},r.components);Object.keys(e.components||{}).forEach(t=>{g[t]=Object.assign(Object.assign({},g[t]),e.components[t])});const c=`css-var-${a.replace(/:/g,"")}`,s=(null!==(o=l.cssVar)&&void 0!==o?o:r.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===n||void 0===n?void 0:n.prefixCls},"object"===typeof r.cssVar?r.cssVar:{}),"object"===typeof l.cssVar?l.cssVar:{}),{key:"object"===typeof l.cssVar&&(null===(i=l.cssVar)||void 0===i?void 0:i.key)||c});return Object.assign(Object.assign(Object.assign({},r),l),{token:Object.assign(Object.assign({},r.token),l.token),components:g,cssVar:s})},[l,r],(e,t)=>e.some((e,n)=>{const o=t[n];return!at(e,o,!0)}))}(f,p.theme,{prefixCls:ke("")});const we={csp:Ve,autoInsertSpaceInButton:l,alert:r,anchor:a,locale:g||b,direction:s,space:d,splitter:I,virtual:C,popupMatchSelectWidth:null!==m&&void 0!==m?m:u,popupOverflow:A,getPrefixCls:ke,iconPrefixCls:We,theme:Re,segmented:v,statistic:Z,spin:G,calendar:S,carousel:B,cascader:k,collapse:W,typography:V,checkbox:R,descriptions:w,divider:X,drawer:J,skeleton:H,steps:x,image:Y,input:O,textArea:U,layout:N,list:E,mentions:F,modal:K,progress:M,result:z,slider:L,breadcrumb:D,menu:T,pagination:j,empty:Q,badge:$,radio:P,rate:q,switch:_,transfer:ee,avatar:te,message:ne,tag:oe,table:le,card:re,tabs:ae,timeline:ie,timePicker:ge,upload:ce,notification:se,tree:de,colorPicker:Ie,datePicker:Ce,rangePicker:ue,flex:me,wave:Ae,dropdown:be,warning:pe,tour:he,tooltip:fe,popover:ye,popconfirm:ve,floatButtonGroup:Ze,variant:Ge,inputNumber:Se,treeSelect:Be};const Xe=Object.assign({},p);Object.keys(we).forEach(e=>{void 0!==we[e]&&(Xe[e]=we[e])}),Ka.forEach(t=>{const n=e[t];n&&(Xe[t]=n)}),"undefined"!==typeof l&&(Xe.button=Object.assign({autoInsertSpace:l},Xe.button));const Je=qe(()=>Xe,Xe,(e,t)=>{const n=Object.keys(e),o=Object.keys(t);return n.length!==o.length||n.some(n=>e[n]!==t[n])}),{layer:He}=t.useContext(pt),xe=t.useMemo(()=>({prefixCls:We,csp:Ve,layer:He?"antd":void 0}),[We,Ve,He]);let Ye=t.createElement(t.Fragment,null,t.createElement(wa,{dropdownMatchSelectWidth:u}),n);const Ne=t.useMemo(()=>{var e,t,n,o;return Io((null===(e=vo.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Je.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(o=Je.form)||void 0===o?void 0:o.validateMessages)||{},(null===i||void 0===i?void 0:i.validateMessages)||{})},[Je,null===i||void 0===i?void 0:i.validateMessages]);Object.keys(Ne).length>0&&(Ye=t.createElement(Ao.Provider,{value:Ne},Ye)),g&&(Ye=t.createElement(Wo,{locale:g,_ANT_MARK__:"internalMark"},Ye)),(We||Ve)&&(Ye=t.createElement(lo.Provider,{value:xe},Ye)),c&&(Ye=t.createElement(Kl,{size:c},Ye)),Ye=t.createElement(Ra,null,Ye);const Ee=t.useMemo(()=>{const e=Re||{},{algorithm:t,token:n,components:o,cssVar:l}=e,r=Fa(e,["algorithm","token","components","cssVar"]),a=t&&(!Array.isArray(t)||t.length>0)?Gt(t):Gl,i={};Object.entries(o||{}).forEach(e=>{let[t,n]=e;const o=Object.assign({},n);"algorithm"in o&&(!0===o.algorithm?o.theme=a:(Array.isArray(o.algorithm)||"function"===typeof o.algorithm)&&(o.theme=Gt(o.algorithm)),delete o.algorithm),i[t]=o});const g=Object.assign(Object.assign({},ul),n);return Object.assign(Object.assign({},r),{theme:a,token:g,components:i,override:Object.assign({override:g},i),cssVar:l})},[Re]);return f&&(Ye=t.createElement(Bl.Provider,{value:Ee},Ye)),Je.warning&&(Ye=t.createElement(uo.Provider,{value:Je.warning},Ye)),void 0!==y&&(Ye=t.createElement(Nl,{disabled:y},Ye)),t.createElement(Rl.Provider,{value:Je},Ye)},Qa=e=>{const n=t.useContext(Rl),o=t.useContext(ko);return t.createElement(Ua,Object.assign({parentContext:n,legacyLocale:o},e))};Qa.ConfigContext=Rl,Qa.SizeContext=Ml,Qa.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:o,holderRender:l}=e;void 0!==t&&(Ma=t),void 0!==n&&(za=n),"holderRender"in e&&(Da=l),o&&(!function(e){return Object.keys(e).some(e=>e.endsWith("Color"))}(o)?La=o:xl(Ta(),o))},Qa.useConfig=zl,Object.defineProperty(Qa,"SizeContext",{get:()=>Ml});const $a=Qa;function Pa(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}const qa=t.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});function _a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[];return t.Children.forEach(e,function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?o=o.concat(_a(e)):tr(e)&&e.props?o=o.concat(_a(e.props.children,n)):o.push(e))}),o}const ei={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function ti(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function ni(e){return function(e){return ti(e)instanceof ShadowRoot}(e)?ti(e):null}function oi(e){return"object"===ke(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===ke(e.icon)||"function"===typeof e.icon)}function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}(n)]=o;return t},{})}function ri(e,n,o){return o?t.createElement(e.tag,Ee(Ee({key:n},li(e.attrs)),o),(e.children||[]).map(function(t,o){return ri(t,"".concat(n,"-").concat(e.tag,"-").concat(o))})):t.createElement(e.tag,Ee({key:n},li(e.attrs)),(e.children||[]).map(function(t,o){return ri(t,"".concat(n,"-").concat(e.tag,"-").concat(o))}))}function ai(e){return Eo(e)[0]}function ii(e){return e?Array.isArray(e)?e:[e]:[]}var gi=["icon","className","onClick","style","primaryColor","secondaryColor"],ci={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var si=function(e){var n=e.icon,o=e.className,l=e.onClick,r=e.style,a=e.primaryColor,i=e.secondaryColor,g=cr(e,gi),c=t.useRef(),s=ci;if(a&&(s={primaryColor:a,secondaryColor:i||ai(a)}),function(e){var n=(0,t.useContext)(lo),o=n.csp,l=n.prefixCls,r=n.layer,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";l&&(a=a.replace(/anticon/g,l)),r&&(a="@layer ".concat(r," {\n").concat(a,"\n}")),(0,t.useEffect)(function(){var t=ni(e.current);Pe(a,"@ant-design-icons",{prepend:!r,csp:o,attachTo:t})},[])}(c),function(e,t){rt(e,"[@ant-design/icons] ".concat(t))}(oi(n),"icon should be icon definiton, but got ".concat(n)),!oi(n))return null;var d=n;return d&&"function"===typeof d.icon&&(d=Ee(Ee({},d),{},{icon:d.icon(s.primaryColor,s.secondaryColor)})),ri(d.icon,"svg-".concat(d.name),Ee(Ee({className:o,onClick:l,style:r,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},g),{},{ref:c}))};si.displayName="IconReact",si.getTwoToneColors=function(){return Ee({},ci)},si.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ci.primaryColor=t,ci.secondaryColor=n||ai(t),ci.calculated=!!n};const di=si;function Ii(e){var t=He(ii(e),2),n=t[0],o=t[1];return di.setTwoToneColors({primaryColor:n,secondaryColor:o})}var Ci=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ii(Uo.primary);var ui=t.forwardRef(function(e,n){var o=e.className,l=e.icon,r=e.spin,a=e.rotate,i=e.tabIndex,g=e.onClick,c=e.twoToneColor,s=cr(e,Ci),d=t.useContext(lo),I=d.prefixCls,C=void 0===I?"anticon":I,u=d.rootClassName,m=Ol()(u,C,Ve(Ve({},"".concat(C,"-").concat(l.name),!!l.name),"".concat(C,"-spin"),!!r||"loading"===l.name),o),A=i;void 0===A&&g&&(A=-1);var b=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,p=He(ii(c),2),h=p[0],f=p[1];return t.createElement("span",$t({role:"img","aria-label":l.name},s,{ref:n,tabIndex:A,onClick:g,className:m}),t.createElement(di,{icon:l,primaryColor:h,secondaryColor:f,style:b}))});ui.displayName="AntdIcon",ui.getTwoToneColor=function(){var e=di.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},ui.setTwoToneColor=Ii;const mi=ui;var Ai=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:ei}))};const bi=t.forwardRef(Ai);const pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var hi=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:pi}))};const fi=t.forwardRef(hi);const yi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var vi=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:yi}))};const Zi=t.forwardRef(vi),Gi=(e,t)=>{"undefined"!==typeof(null===e||void 0===e?void 0:e.addEventListener)?e.addEventListener("change",t):"undefined"!==typeof(null===e||void 0===e?void 0:e.addListener)&&e.addListener(t)},Si=(e,t)=>{"undefined"!==typeof(null===e||void 0===e?void 0:e.removeEventListener)?e.removeEventListener("change",t):"undefined"!==typeof(null===e||void 0===e?void 0:e.removeListener)&&e.removeListener(t)};const Bi=ct(function e(){it(this,e)});var ki="CALC_UNIT",Wi=new RegExp(ki,"g");function Vi(e){return"number"===typeof e?"".concat(e).concat(ki):e}var Ri=function(e){ur(n,e);var t=hr(n);function n(e,o){var l;it(this,n),Ve(br(l=t.call(this)),"result",""),Ve(br(l),"unitlessCssVar",void 0),Ve(br(l),"lowPriority",void 0);var r=ke(e);return l.unitlessCssVar=o,e instanceof n?l.result="(".concat(e.result,")"):"number"===r?l.result=Vi(e):"string"===r&&(l.result=e),l}return ct(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(Vi(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(Vi(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,o=!0;return"boolean"===typeof n?o=n:Array.from(this.unitlessCssVar).some(function(e){return t.result.includes(e)})&&(o=!1),this.result=this.result.replace(Wi,o?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(Bi);const wi=function(e){ur(n,e);var t=hr(n);function n(e){var o;return it(this,n),Ve(br(o=t.call(this)),"result",0),e instanceof n?o.result=e.result:"number"===typeof e&&(o.result=e),o}return ct(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(Bi);const Xi=function(e,t){var n="css"===e?Ri:wi;return function(e){return new n(e,t)}};const Ji=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};const Hi=function(e,t,n,o){var l=Ee({},t[e]);null!==o&&void 0!==o&&o.deprecatedTokens&&o.deprecatedTokens.forEach(function(e){var t,n=He(e,2),o=n[0],r=n[1];(null!==l&&void 0!==l&&l[o]||null!==l&&void 0!==l&&l[r])&&(null!==(t=l[r])&&void 0!==t||(l[r]=null===l||void 0===l?void 0:l[o]))});var r=Ee(Ee({},n),l);return Object.keys(r).forEach(function(e){r[e]===t[e]&&delete r[e]}),r};var xi="undefined"!==typeof CSSINJS_STATISTIC,Yi=!0;function Ni(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!xi)return Object.assign.apply(Object,[{}].concat(t));Yi=!1;var o={};return t.forEach(function(e){"object"===ke(e)&&Object.keys(e).forEach(function(t){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})})}),Yi=!0,o}var Ei={};function Fi(){}const Ki=function(e){var t,n=e,o=Fi;return xi&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var o;Yi&&(null===(o=t)||void 0===o||o.add(n));return e[n]}}),o=function(e,n){var o;Ei[e]={global:Array.from(t),component:Ee(Ee({},null===(o=Ei[e])||void 0===o?void 0:o.component),n)}}),{token:n,keys:t,flush:o}};const Mi=function(e,t,n){var o;return"function"===typeof n?n(Ni(t,null!==(o=t[e])&&void 0!==o?o:{})):null!==n&&void 0!==n?n:{}};const zi=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map(function(e){return wt(e)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map(function(e){return wt(e)}).join(","),")")}}};var Li=function(){function e(){it(this,e),Ve(this,"map",new Map),Ve(this,"objectIDMap",new WeakMap),Ve(this,"nextID",0),Ve(this,"lastAccessBeat",new Map),Ve(this,"accessBeat",0)}return ct(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map(function(e){return e&&"object"===ke(e)?"obj_".concat(t.getObjectID(e)):"".concat(ke(e),"_").concat(e)}).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(n,o){t-n>6e5&&(e.map.delete(o),e.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),e}(),Di=new Li;const Ti=function(e,n){return t.useMemo(function(){var t=Di.get(n);if(t)return t;var o=e();return Di.set(n,o),o},n)};const ji=function(){return{}};const Oi=function(e){var n=e.useCSP,o=void 0===n?ji:n,l=e.useToken,r=e.usePrefix,a=e.getResetStyles,i=e.getCommonStyle,g=e.getCompUnitless;function c(t,n,g){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Array.isArray(t)?t:[t,t],d=He(s,1)[0],I=s.join("-"),C=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=l(),u=s.theme,m=s.realToken,A=s.hashId,b=s.token,p=s.cssVar,h=r(),f=h.rootPrefixCls,y=h.iconPrefixCls,v=o(),Z=p?"css":"js",G=Ti(function(){var e=new Set;return p&&Object.keys(c.unitless||{}).forEach(function(t){e.add(Jt(t,p.prefix)),e.add(Jt(t,Ji(d,p.prefix)))}),Xi(Z,e)},[Z,d,null===p||void 0===p?void 0:p.prefix]),S=zi(Z),B=S.max,k=S.min,W={theme:u,token:b,hashId:A,nonce:function(){return v.nonce},clientOnly:c.clientOnly,layer:C,order:c.order||-999};return"function"===typeof a&&Pn(Ee(Ee({},W),{},{clientOnly:!1,path:["Shared",f]}),function(){return a(b,{prefix:{rootPrefixCls:f,iconPrefixCls:y},csp:v})}),[Pn(Ee(Ee({},W),{},{path:[I,e,y]}),function(){if(!1===c.injectStyle)return[];var o=Ki(b),l=o.token,r=o.flush,a=Mi(d,m,g),s=".".concat(e),I=Hi(d,m,a,{deprecatedTokens:c.deprecatedTokens});p&&a&&"object"===ke(a)&&Object.keys(a).forEach(function(e){a[e]="var(".concat(Jt(e,Ji(d,p.prefix)),")")});var C=Ni(l,{componentCls:s,prefixCls:e,iconCls:".".concat(y),antCls:".".concat(f),calc:G,max:B,min:k},p?a:I),u=n(C,{hashId:A,prefixCls:e,rootPrefixCls:f,iconPrefixCls:y});r(d,I);var h="function"===typeof i?i(C,e,t,c.resetFont):null;return[!1===c.resetStyle?null:h,u]}),A]}}return{genStyleHooks:function(e,n,o,r){var a=Array.isArray(e)?e[0]:e;function i(e){return"".concat(String(a)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var s=(null===r||void 0===r?void 0:r.unitless)||{},d=Ee(Ee({},"function"===typeof g?g(e):{}),{},Ve({},i("zIndexPopup"),!0));Object.keys(s).forEach(function(e){d[i(e)]=s[e]});var I=Ee(Ee({},r),{},{unitless:d,prefixToken:i}),C=c(e,n,o,I),u=function(e,n,o){var r=o.unitless,a=o.injectStyle,i=void 0===a||a,g=o.prefixToken,c=o.ignore,s=function(t){var a=t.rootCls,i=t.cssVar,s=void 0===i?{}:i,d=l().realToken;return _n({path:[e],prefix:s.prefix,key:s.key,unitless:r,ignore:c,token:d,scope:a},function(){var t=Mi(e,d,n),l=Hi(e,d,t,{deprecatedTokens:null===o||void 0===o?void 0:o.deprecatedTokens});return Object.keys(t).forEach(function(e){l[g(e)]=l[e],delete l[e]}),l}),null},d=function(n){var o=l().cssVar;return[function(l){return i&&o?t.createElement(t.Fragment,null,t.createElement(s,{rootCls:n,cssVar:o,component:e}),l):l},null===o||void 0===o?void 0:o.key]};return d}(a,o,I);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=He(C(e,t),2)[1],o=He(u(t),2);return[o[0],n,o[1]]}},genSubStyleComponent:function(e,t,n){var o=c(e,t,n,Ee({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return o(t,void 0===n?t:n),null}},genComponentStyleHook:c}},{genStyleHooks:Ui,genComponentStyleHook:Qi,genSubStyleComponent:$i}=Oi({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:n}=(0,t.useContext)(Rl);return{rootPrefixCls:e(),iconPrefixCls:n}},useToken:()=>{const[e,t,n,o,l]=Wa();return{theme:e,realToken:t,hashId:n,token:o,cssVar:l}},useCSP:()=>{const{csp:e}=(0,t.useContext)(Rl);return null!==e&&void 0!==e?e:{}},getResetStyles:(e,t)=>{var n;const o=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[o,{"&":o},Ya(null!==(n=null===t||void 0===t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:Wl)]},getCommonStyle:(e,t,n,o)=>{const l=`[class^="${t}"], [class*=" ${t}"]`,r=n?`.${n}`:l,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let i={};return!1!==o&&(i={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[r]:Object.assign(Object.assign(Object.assign({},i),a),{[l]:a})}},getCompUnitless:()=>Ga}),Pi=e=>{const{antCls:t,componentCls:n,colorText:o,footerBg:l,headerHeight:r,headerPadding:a,headerColor:i,footerPadding:g,fontSize:c,bodyBg:s,headerBg:d}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:s,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:r,padding:a,color:i,lineHeight:wt(r),background:d,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:g,color:o,fontSize:c,background:l},[`${n}-content`]:{flex:"auto",color:o,minHeight:0}}},qi=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:o,colorText:l,controlHeightSM:r,marginXXS:a,colorTextLightSolid:i,colorBgContainer:g}=e,c=1.25*o;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:2*n,headerPadding:`0 ${c}px`,headerColor:l,footerPadding:`${r}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:o+2*a,triggerBg:"#002140",triggerColor:i,zeroTriggerWidth:o,zeroTriggerHeight:o,lightSiderBg:g,lightTriggerBg:g,lightTriggerColor:l}},_i=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],eg=Ui("Layout",e=>[Pi(e)],qi,{deprecatedTokens:_i}),tg=e=>{const{componentCls:t,siderBg:n,motionDurationMid:o,motionDurationSlow:l,antCls:r,triggerHeight:a,triggerColor:i,triggerBg:g,headerHeight:c,zeroTriggerWidth:s,zeroTriggerHeight:d,borderRadiusLG:I,lightSiderBg:C,lightTriggerColor:u,lightTriggerBg:m,bodyBg:A}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${o}, background 0s`,"&-has-trigger":{paddingBottom:a},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${r}-menu${r}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:a,color:i,lineHeight:wt(a),textAlign:"center",background:g,cursor:"pointer",transition:`all ${o}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:c,insetInlineEnd:e.calc(s).mul(-1).equal(),zIndex:1,width:s,height:d,color:i,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${wt(I)} ${wt(I)} 0`,cursor:"pointer",transition:`background ${l} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${l}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(s).mul(-1).equal(),borderRadius:`${wt(I)} 0 0 ${wt(I)}`}},"&-light":{background:C,[`${t}-trigger`]:{color:u,background:m},[`${t}-zero-width-trigger`]:{color:u,background:m,border:`1px solid ${A}`,borderInlineStart:0}}}}},ng=Ui(["Layout","Sider"],e=>[tg(e)],qi,{deprecatedTokens:_i});var og=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const lg={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},rg=t.createContext({}),ag=(()=>{let e=0;return function(){return e+=1,`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}${e}`}})(),ig=t.forwardRef((e,n)=>{const{prefixCls:o,className:l,trigger:r,children:a,defaultCollapsed:i=!1,theme:g="dark",style:c={},collapsible:s=!1,reverseArrow:d=!1,width:I=200,collapsedWidth:C=80,zeroWidthTriggerStyle:u,breakpoint:m,onCollapse:A,onBreakpoint:b}=e,p=og(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:h}=(0,t.useContext)(qa),[f,y]=(0,t.useState)("collapsed"in e?e.collapsed:i),[v,Z]=(0,t.useState)(!1);(0,t.useEffect)(()=>{"collapsed"in e&&y(e.collapsed)},[e.collapsed]);const G=(t,n)=>{"collapsed"in e||y(t),null===A||void 0===A||A(t,n)},{getPrefixCls:S,direction:B}=(0,t.useContext)(Rl),k=S("layout-sider",o),[W,V,R]=ng(k),w=(0,t.useRef)(null);w.current=e=>{Z(e.matches),null===b||void 0===b||b(e.matches),f!==e.matches&&G(e.matches,"responsive")},(0,t.useEffect)(()=>{function e(e){var t;return null===(t=w.current)||void 0===t?void 0:t.call(w,e)}let t;return"undefined"!==typeof(null===window||void 0===window?void 0:window.matchMedia)&&m&&m in lg&&(t=window.matchMedia(`screen and (max-width: ${lg[m]})`),Gi(t,e),e(t)),()=>{Si(t,e)}},[m]),(0,t.useEffect)(()=>{const e=ag("ant-sider-");return h.addSider(e),()=>h.removeSider(e)},[]);const X=()=>{G(!f,"clickTrigger")},J=Pa(p,["collapsed"]),H=f?C:I,x=(Y=H,!Number.isNaN(Number.parseFloat(Y))&&isFinite(Y)?`${H}px`:String(H));var Y;const N=0===parseFloat(String(C||0))?t.createElement("span",{onClick:X,className:Ol()(`${k}-zero-width-trigger`,`${k}-zero-width-trigger-${d?"right":"left"}`),style:u},r||t.createElement(bi,null)):null,E="rtl"===B===!d,F={expanded:E?t.createElement(Zi,null):t.createElement(fi,null),collapsed:E?t.createElement(fi,null):t.createElement(Zi,null)}[f?"collapsed":"expanded"],K=null!==r?N||t.createElement("div",{className:`${k}-trigger`,onClick:X,style:{width:x}},r||F):null,M=Object.assign(Object.assign({},c),{flex:`0 0 ${x}`,maxWidth:x,minWidth:x,width:x}),z=Ol()(k,`${k}-${g}`,{[`${k}-collapsed`]:!!f,[`${k}-has-trigger`]:s&&null!==r&&!N,[`${k}-below`]:!!v,[`${k}-zero-width`]:0===parseFloat(x)},l,V,R),L=t.useMemo(()=>({siderCollapsed:f}),[f]);return W(t.createElement(rg.Provider,{value:L},t.createElement("aside",Object.assign({className:z},J,{style:M,ref:n}),t.createElement("div",{className:`${k}-children`},a),s||v&&N?K:null)))});const gg=ig;var cg=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function sg(e){let{suffixCls:n,tagName:o,displayName:l}=e;return e=>t.forwardRef((l,r)=>t.createElement(e,Object.assign({ref:r,suffixCls:n,tagName:o},l)))}const dg=t.forwardRef((e,n)=>{const{prefixCls:o,suffixCls:l,className:r,tagName:a}=e,i=cg(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:g}=t.useContext(Rl),c=g("layout",o),[s,d,I]=eg(c),C=l?`${c}-${l}`:c;return s(t.createElement(a,Object.assign({className:Ol()(o||C,r,d,I),ref:n},i)))}),Ig=t.forwardRef((e,n)=>{const{direction:o}=t.useContext(Rl),[l,r]=t.useState([]),{prefixCls:a,className:i,rootClassName:g,children:c,hasSider:s,tagName:d,style:I}=e,C=Pa(cg(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),["suffixCls"]),{getPrefixCls:u,className:m,style:A}=Jl("layout"),b=u("layout",a),p=function(e,t,n){return"boolean"===typeof n?n:!!e.length||_a(t).some(e=>e.type===gg)}(l,c,s),[h,f,y]=eg(b),v=Ol()(b,{[`${b}-has-sider`]:p,[`${b}-rtl`]:"rtl"===o},m,i,g,f,y),Z=t.useMemo(()=>({siderHook:{addSider:e=>{r(t=>[].concat(Ye(t),[e]))},removeSider:e=>{r(t=>t.filter(t=>t!==e))}}}),[]);return h(t.createElement(qa.Provider,{value:Z},t.createElement(d,Object.assign({ref:n,className:v,style:Object.assign(Object.assign({},A),I)},C),c)))}),Cg=sg({tagName:"div",displayName:"Layout"})(Ig),ug=sg({suffixCls:"header",tagName:"header",displayName:"Header"})(dg),mg=sg({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(dg),Ag=sg({suffixCls:"content",tagName:"main",displayName:"Content"})(dg),bg=Cg;bg.Header=ug,bg.Footer=mg,bg.Content=Ag,bg.Sider=gg,bg._InternalSiderContext=rg;const pg=bg;const hg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var fg=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:hg}))};const yg=t.forwardRef(fg);var vg=t.createContext(null);var Zg=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,o){return e[0]===t&&(n=o,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var l=o[n];e.call(t,l[1],l[0])}},t}()}(),Gg="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Sg="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Bg="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Sg):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var kg=["top","right","bottom","left","width","height","size","weight"],Wg="undefined"!==typeof MutationObserver,Vg=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,l=0;function r(){n&&(n=!1,e()),o&&i()}function a(){Bg(r)}function i(){var e=Date.now();if(n){if(e-l<2)return;o=!0}else n=!0,o=!1,setTimeout(a,t);l=e}return i}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){Gg&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Wg?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Gg&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;kg.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Rg=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var l=o[n];Object.defineProperty(e,l,{value:t[l],enumerable:!1,writable:!1,configurable:!0})}return e},wg=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Sg},Xg=Eg(0,0,0,0);function Jg(e){return parseFloat(e)||0}function Hg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+Jg(e["border-"+n+"-width"])},0)}function xg(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Xg;var o=wg(e).getComputedStyle(e),l=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var l=o[n],r=e["padding-"+l];t[l]=Jg(r)}return t}(o),r=l.left+l.right,a=l.top+l.bottom,i=Jg(o.width),g=Jg(o.height);if("border-box"===o.boxSizing&&(Math.round(i+r)!==t&&(i-=Hg(o,"left","right")+r),Math.round(g+a)!==n&&(g-=Hg(o,"top","bottom")+a)),!function(e){return e===wg(e).document.documentElement}(e)){var c=Math.round(i+r)-t,s=Math.round(g+a)-n;1!==Math.abs(c)&&(i-=c),1!==Math.abs(s)&&(g-=s)}return Eg(l.left,l.top,i,g)}var Yg="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof wg(e).SVGGraphicsElement}:function(e){return e instanceof wg(e).SVGElement&&"function"===typeof e.getBBox};function Ng(e){return Gg?Yg(e)?function(e){var t=e.getBBox();return Eg(0,0,t.width,t.height)}(e):xg(e):Xg}function Eg(e,t,n,o){return{x:e,y:t,width:n,height:o}}var Fg=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Eg(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Ng(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Kg=function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,l=e.height,r="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(r.prototype);return Rg(a,{x:t,y:n,width:o,height:l,top:n,right:t+o,bottom:l+n,left:t}),a}(t);Rg(this,{target:e,contentRect:n})},Mg=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Zg,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof wg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Fg(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof wg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new Kg(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zg="undefined"!==typeof WeakMap?new WeakMap:new Zg,Lg=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Vg.getInstance(),o=new Mg(t,n,this);zg.set(this,o)};["observe","unobserve","disconnect"].forEach(function(e){Lg.prototype[e]=function(){var t;return(t=zg.get(this))[e].apply(t,arguments)}});const Dg="undefined"!==typeof Sg.ResizeObserver?Sg.ResizeObserver:Lg;var Tg=new Map;var jg=new Dg(function(e){e.forEach(function(e){var t,n=e.target;null===(t=Tg.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});var Og=function(e){ur(n,e);var t=hr(n);function n(){return it(this,n),t.apply(this,arguments)}return ct(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function Ug(e,n){var o=e.children,l=e.disabled,r=t.useRef(null),a=t.useRef(null),i=t.useContext(vg),g="function"===typeof o,c=g?o(r):o,s=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!g&&t.isValidElement(c)&&ar(c),I=d?gr(c):null,C=rr(I,r),u=function(){var e;return $l(r.current)||(r.current&&"object"===ke(r.current)?$l(null===(e=r.current)||void 0===e?void 0:e.nativeElement):null)||$l(a.current)};t.useImperativeHandle(n,function(){return u()});var m=t.useRef(e);m.current=e;var A=t.useCallback(function(e){var t=m.current,n=t.onResize,o=t.data,l=e.getBoundingClientRect(),r=l.width,a=l.height,g=e.offsetWidth,c=e.offsetHeight,d=Math.floor(r),I=Math.floor(a);if(s.current.width!==d||s.current.height!==I||s.current.offsetWidth!==g||s.current.offsetHeight!==c){var C={width:d,height:I,offsetWidth:g,offsetHeight:c};s.current=C;var u=g===Math.round(r)?r:g,A=c===Math.round(a)?a:c,b=Ee(Ee({},C),{},{offsetWidth:u,offsetHeight:A});null===i||void 0===i||i(b,e,o),n&&Promise.resolve().then(function(){n(b,e)})}},[]);return t.useEffect(function(){var e,t,n=u();return n&&!l&&(e=n,t=A,Tg.has(e)||(Tg.set(e,new Set),jg.observe(e)),Tg.get(e).add(t)),function(){return function(e,t){Tg.has(e)&&(Tg.get(e).delete(t),Tg.get(e).size||(jg.unobserve(e),Tg.delete(e)))}(n,A)}},[r.current,l]),t.createElement(Og,{ref:a},d?t.cloneElement(c,{ref:C}):c)}const Qg=t.forwardRef(Ug);function $g(e,n){var o=e.children;return("function"===typeof o?[o]:_a(o)).map(function(o,l){var r=(null===o||void 0===o?void 0:o.key)||"".concat("rc-observer-key","-").concat(l);return t.createElement(Qg,$t({},e,{key:r,ref:0===l?n:void 0}),o)})}var Pg=t.forwardRef($g);Pg.Collection=function(e){var n=e.children,o=e.onBatchResize,l=t.useRef(0),r=t.useRef([]),a=t.useContext(vg),i=t.useCallback(function(e,t,n){l.current+=1;var i=l.current;r.current.push({size:e,element:t,data:n}),Promise.resolve().then(function(){i===l.current&&(null===o||void 0===o||o(r.current),r.current=[])}),null===a||void 0===a||a(e,t,n)},[o,a]);return t.createElement(vg.Provider,{value:i},n)};const qg=Pg;var _g=function(e){if(Ke()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1};function ec(e,t){return Array.isArray(e)||void 0===t?_g(e):function(e,t){if(!_g(e))return!1;var n=document.createElement("div"),o=n.style[e];return n.style[e]=t,n.style[e]!==o}(e,t)}const tc=(e,n)=>{const o=t.useContext(ko),l=t.useMemo(()=>{var t;const l=n||vo[e],r=null!==(t=null===o||void 0===o?void 0:o[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof l?l():l),r||{})},[e,n,o]);return[l,t.useMemo(()=>{const e=null===o||void 0===o?void 0:o.locale;return(null===o||void 0===o?void 0:o.exist)&&!e?vo.locale:e},[o])]};function nc(e){var n=e.children,o=e.prefixCls,l=e.id,r=e.overlayInnerStyle,a=e.bodyClassName,i=e.className,g=e.style;return t.createElement("div",{className:Ol()("".concat(o,"-content"),i),style:g},t.createElement("div",{className:Ol()("".concat(o,"-inner"),a),id:l,role:"tooltip",style:r},"function"===typeof n?n():n))}const oc=t.createContext(null);var lc,rc=[];function ac(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var o,l,r=n.style;if(r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll",e){var a=getComputedStyle(e);r.scrollbarColor=a.scrollbarColor,r.scrollbarWidth=a.scrollbarWidth;var i=getComputedStyle(e,"::-webkit-scrollbar"),g=parseInt(i.width,10),c=parseInt(i.height,10);try{var s=g?"width: ".concat(i.width,";"):"",d=c?"height: ".concat(i.height,";"):"";Pe("\n#".concat(t,"::-webkit-scrollbar {\n").concat(s,"\n").concat(d,"\n}"),t)}catch(PV){console.error(PV),o=g,l=c}}document.body.appendChild(n);var I=e&&o&&!isNaN(o)?o:n.offsetWidth-n.clientWidth,C=e&&l&&!isNaN(l)?l:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),$e(t),{width:I,height:C}}function ic(e){return"undefined"===typeof document?0:((e||void 0===lc)&&(lc=ac()),lc.width)}function gc(e){return"undefined"!==typeof document&&e&&e instanceof Element?ac(e):{width:0,height:0}}var cc="rc-util-locker-".concat(Date.now()),sc=0;function dc(e){var n=!!e,o=He(t.useState(function(){return sc+=1,"".concat(cc,"_").concat(sc)}),1)[0];Ft(function(){if(n){var e=gc(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Pe("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else $e(o);return function(){$e(o)}},[n,o])}var Ic=!1;var Cc=function(e){return!1!==e&&(Ke()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},uc=t.forwardRef(function(e,n){var o=e.open,l=e.autoLock,r=e.getContainer,a=(e.debug,e.autoDestroy),i=void 0===a||a,g=e.children,s=He(t.useState(o),2),d=s[0],I=s[1],C=d||o;t.useEffect(function(){(i||o)&&I(o)},[o,i]);var u=He(t.useState(function(){return Cc(r)}),2),m=u[0],A=u[1];t.useEffect(function(){var e=Cc(r);A(null!==e&&void 0!==e?e:null)});var b=function(e){var n=He(t.useState(function(){return Ke()?document.createElement("div"):null}),1)[0],o=t.useRef(!1),l=t.useContext(oc),r=He(t.useState(rc),2),a=r[0],i=r[1],g=l||(o.current?void 0:function(e){i(function(t){return[e].concat(Ye(t))})});function c(){n.parentElement||document.body.appendChild(n),o.current=!0}function s(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),o.current=!1}return Ft(function(){return e?l?l(c):c():s(),s},[e]),Ft(function(){a.length&&(a.forEach(function(e){return e()}),i(rc))},[a]),[n,g]}(C&&!m),p=He(b,2),h=p[0],f=p[1],y=null!==m&&void 0!==m?m:h;dc(l&&o&&Ke()&&(y===h||y===document.body));var v=null;g&&ar(g)&&n&&(v=g.ref);var Z=rr(v,n);if(!C||!Ke()||void 0===m)return null;var G,S=!1===y||("boolean"===typeof G&&(Ic=G),Ic),B=g;return n&&(B=t.cloneElement(g,{ref:Z})),t.createElement(oc.Provider,{value:f},S?B:(0,c.createPortal)(B,y))});const mc=uc;var Ac=0;var bc=Ee({},o).useId;const pc=bc?function(e){var t=bc();return e||t}:function(e){var n=He(t.useState("ssr-id"),2),o=n[0],l=n[1];return t.useEffect(function(){var e=Ac;Ac+=1,l("rc_unique_".concat(e))},[]),e||o},hc=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function fc(e){var n=e.prefixCls,o=e.align,l=e.arrow,r=e.arrowPos,a=l||{},i=a.className,g=a.content,c=r.x,s=void 0===c?0:c,d=r.y,I=void 0===d?0:d,C=t.useRef();if(!o||!o.points)return null;var u={position:"absolute"};if(!1!==o.autoArrow){var m=o.points[0],A=o.points[1],b=m[0],p=m[1],h=A[0],f=A[1];b!==h&&["t","b"].includes(b)?"t"===b?u.top=0:u.bottom=0:u.top=I,p!==f&&["l","r"].includes(p)?"l"===p?u.left=0:u.right=0:u.left=s}return t.createElement("div",{ref:C,className:Ol()("".concat(n,"-arrow"),i),style:u},g)}function yc(e){var n=e.prefixCls,o=e.open,l=e.zIndex,r=e.mask,a=e.motion;return r?t.createElement(pa,$t({},a,{motionAppear:!0,visible:o,removeOnLeave:!0}),function(e){var o=e.className;return t.createElement("div",{style:{zIndex:l},className:Ol()("".concat(n,"-mask"),o)})}):null}var vc=t.memo(function(e){return e.children},function(e,t){return t.cache});const Zc=vc;var Gc=t.forwardRef(function(e,n){var o=e.popup,l=e.className,r=e.prefixCls,a=e.style,i=e.target,g=e.onVisibleChanged,c=e.open,s=e.keepDom,d=e.fresh,I=e.onClick,C=e.mask,u=e.arrow,m=e.arrowPos,A=e.align,b=e.motion,p=e.maskMotion,h=e.forceRender,f=e.getPopupContainer,y=e.autoDestroy,v=e.portal,Z=e.zIndex,G=e.onMouseEnter,S=e.onMouseLeave,B=e.onPointerEnter,k=e.onPointerDownCapture,W=e.ready,V=e.offsetX,R=e.offsetY,w=e.offsetR,X=e.offsetB,J=e.onAlign,H=e.onPrepare,x=e.stretch,Y=e.targetWidth,N=e.targetHeight,E="function"===typeof o?o():o,F=c||s,K=(null===f||void 0===f?void 0:f.length)>0,M=He(t.useState(!f||!K),2),z=M[0],L=M[1];if(Ft(function(){!z&&K&&i&&L(!0)},[z,K,i]),!z)return null;var D="auto",T={left:"-1000vw",top:"-1000vh",right:D,bottom:D};if(W||!c){var j,O=A.points,U=A.dynamicInset||(null===(j=A._experimental)||void 0===j?void 0:j.dynamicInset),Q=U&&"r"===O[0][1],$=U&&"b"===O[0][0];Q?(T.right=w,T.left=D):(T.left=V,T.right=D),$?(T.bottom=X,T.top=D):(T.top=R,T.bottom=D)}var P={};return x&&(x.includes("height")&&N?P.height=N:x.includes("minHeight")&&N&&(P.minHeight=N),x.includes("width")&&Y?P.width=Y:x.includes("minWidth")&&Y&&(P.minWidth=Y)),c||(P.pointerEvents="none"),t.createElement(v,{open:h||F,getContainer:f&&function(){return f(i)},autoDestroy:y},t.createElement(yc,{prefixCls:r,open:c,zIndex:Z,mask:C,motion:p}),t.createElement(qg,{onResize:J,disabled:!c},function(e){return t.createElement(pa,$t({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:h,leavedClassName:"".concat(r,"-hidden")},b,{onAppearPrepare:H,onEnterPrepare:H,visible:c,onVisibleChanged:function(e){var t;null===b||void 0===b||null===(t=b.onVisibleChanged)||void 0===t||t.call(b,e),g(e)}}),function(o,i){var g=o.className,s=o.style,C=Ol()(r,g,l);return t.createElement("div",{ref:lr(e,n,i),className:C,style:Ee(Ee(Ee(Ee({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},T),P),s),{},{boxSizing:"border-box",zIndex:Z},a),onMouseEnter:G,onMouseLeave:S,onPointerEnter:B,onClick:I,onPointerDownCapture:k},u&&t.createElement(fc,{prefixCls:r,arrow:u,arrowPos:m,align:A}),t.createElement(Zc,{cache:!c&&!d},E))})}))});const Sc=Gc;var Bc=t.forwardRef(function(e,n){var o=e.children,l=e.getTriggerDOMNode,r=ar(o),a=t.useCallback(function(e){or(n,l?l(e):e)},[l]),i=rr(a,gr(o));return r?t.cloneElement(o,{ref:i}):o});const kc=Bc;const Wc=t.createContext(null);function Vc(e){return e?Array.isArray(e)?e:[e]:[]}const Rc=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,o=t.height;if(n||o)return!0}if(e.getBoundingClientRect){var l=e.getBoundingClientRect(),r=l.width,a=l.height;if(r||a)return!0}}return!1};function wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Xc(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function Jc(e){return e.ownerDocument.defaultView}function Hc(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var l=Jc(n).getComputedStyle(n);[l.overflowX,l.overflowY,l.overflow].some(function(e){return o.includes(e)})&&t.push(n),n=n.parentElement}return t}function xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Yc(e){return xc(parseFloat(e),0)}function Nc(e,t){var n=Ee({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Jc(e).getComputedStyle(e),o=t.overflow,l=t.overflowClipMargin,r=t.borderTopWidth,a=t.borderBottomWidth,i=t.borderLeftWidth,g=t.borderRightWidth,c=e.getBoundingClientRect(),s=e.offsetHeight,d=e.clientHeight,I=e.offsetWidth,C=e.clientWidth,u=Yc(r),m=Yc(a),A=Yc(i),b=Yc(g),p=xc(Math.round(c.width/I*1e3)/1e3),h=xc(Math.round(c.height/s*1e3)/1e3),f=(I-C-A-b)*p,y=(s-d-u-m)*h,v=u*h,Z=m*h,G=A*p,S=b*p,B=0,k=0;if("clip"===o){var W=Yc(l);B=W*p,k=W*h}var V=c.x+G-B,R=c.y+v-k,w=V+c.width+2*B-G-S-f,X=R+c.height+2*k-v-Z-y;n.left=Math.max(n.left,V),n.top=Math.max(n.top,R),n.right=Math.min(n.right,w),n.bottom=Math.min(n.bottom,X)}}),n}function Ec(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Fc(e,t){var n=He(t||[],2),o=n[0],l=n[1];return[Ec(e.width,o),Ec(e.height,l)]}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Mc(e,t){var n,o=t[0],l=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===l?e.x:"r"===l?e.x+e.width:e.x+e.width/2,y:n}}function zc(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,o){return o===t?n[e]||"c":e}).join("")}var Lc=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,n=t.forwardRef(function(n,o){var l=n.prefixCls,r=void 0===l?"rc-trigger-popup":l,a=n.children,i=n.action,g=void 0===i?"hover":i,c=n.showAction,s=n.hideAction,d=n.popupVisible,I=n.defaultPopupVisible,C=n.onPopupVisibleChange,u=n.afterPopupVisibleChange,m=n.mouseEnterDelay,A=n.mouseLeaveDelay,b=void 0===A?.1:A,p=n.focusDelay,h=n.blurDelay,f=n.mask,y=n.maskClosable,v=void 0===y||y,Z=n.getPopupContainer,G=n.forceRender,S=n.autoDestroy,B=n.destroyPopupOnHide,k=n.popup,W=n.popupClassName,V=n.popupStyle,R=n.popupPlacement,w=n.builtinPlacements,X=void 0===w?{}:w,J=n.popupAlign,H=n.zIndex,x=n.stretch,Y=n.getPopupClassNameFromAlign,N=n.fresh,E=n.alignPoint,F=n.onPopupClick,K=n.onPopupAlign,M=n.arrow,z=n.popupMotion,L=n.maskMotion,D=n.popupTransitionName,T=n.popupAnimation,j=n.maskTransitionName,O=n.maskAnimation,U=n.className,Q=n.getTriggerDOMNode,$=cr(n,Lc),P=S||B||!1,q=He(t.useState(!1),2),_=q[0],ee=q[1];Ft(function(){ee(hc())},[]);var te=t.useRef({}),ne=t.useContext(Wc),oe=t.useMemo(function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}},[ne]),le=pc(),re=He(t.useState(null),2),ae=re[0],ie=re[1],ge=t.useRef(null),ce=yr(function(e){ge.current=e,Ul(e)&&ae!==e&&ie(e),null===ne||void 0===ne||ne.registerSubPopup(le,e)}),se=He(t.useState(null),2),de=se[0],Ie=se[1],Ce=t.useRef(null),ue=yr(function(e){Ul(e)&&de!==e&&(Ie(e),Ce.current=e)}),me=t.Children.only(a),Ae=(null===me||void 0===me?void 0:me.props)||{},be={},pe=yr(function(e){var t,n,o=de;return(null===o||void 0===o?void 0:o.contains(e))||(null===(t=ni(o))||void 0===t?void 0:t.host)===e||e===o||(null===ae||void 0===ae?void 0:ae.contains(e))||(null===(n=ni(ae))||void 0===n?void 0:n.host)===e||e===ae||Object.values(te.current).some(function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t})}),he=Xc(r,z,T,D),fe=Xc(r,L,O,j),ye=He(t.useState(I||!1),2),ve=ye[0],Ze=ye[1],Ge=null!==d&&void 0!==d?d:ve,Se=yr(function(e){void 0===d&&Ze(e)});Ft(function(){Ze(d||!1)},[d]);var Be=t.useRef(Ge);Be.current=Ge;var ke=t.useRef([]);ke.current=[];var We=yr(function(e){var t;Se(e),(null!==(t=ke.current[ke.current.length-1])&&void 0!==t?t:Ge)!==e&&(ke.current.push(e),null===C||void 0===C||C(e))}),Ve=t.useRef(),Re=function(){clearTimeout(Ve.current)},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Re(),0===t?We(e):Ve.current=setTimeout(function(){We(e)},1e3*t)};t.useEffect(function(){return Re},[]);var Xe=He(t.useState(!1),2),Je=Xe[0],xe=Xe[1];Ft(function(e){e&&!Ge||xe(!0)},[Ge]);var Ne=He(t.useState(null),2),Fe=Ne[0],Ke=Ne[1],Me=He(t.useState(null),2),ze=Me[0],Le=Me[1],De=function(e){Le([e.clientX,e.clientY])},Te=function(e,n,o,l,r,a,i){var g=He(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[l]||{}}),2),c=g[0],s=g[1],d=t.useRef(0),I=t.useMemo(function(){return n?Hc(n):[]},[n]),C=t.useRef({});e||(C.current={});var u=yr(function(){if(n&&o&&e){var t,g,c,d,u,m=n,A=m.ownerDocument,b=Jc(m),p=b.getComputedStyle(m).position,h=m.style.left,f=m.style.top,y=m.style.right,v=m.style.bottom,Z=m.style.overflow,G=Ee(Ee({},r[l]),a),S=A.createElement("div");if(null===(t=m.parentElement)||void 0===t||t.appendChild(S),S.style.left="".concat(m.offsetLeft,"px"),S.style.top="".concat(m.offsetTop,"px"),S.style.position=p,S.style.height="".concat(m.offsetHeight,"px"),S.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(o))u={x:o[0],y:o[1],width:0,height:0};else{var B,k,W=o.getBoundingClientRect();W.x=null!==(B=W.x)&&void 0!==B?B:W.left,W.y=null!==(k=W.y)&&void 0!==k?k:W.top,u={x:W.x,y:W.y,width:W.width,height:W.height}}var V=m.getBoundingClientRect(),R=b.getComputedStyle(m),w=R.height,X=R.width;V.x=null!==(g=V.x)&&void 0!==g?g:V.left,V.y=null!==(c=V.y)&&void 0!==c?c:V.top;var J=A.documentElement,H=J.clientWidth,x=J.clientHeight,Y=J.scrollWidth,N=J.scrollHeight,E=J.scrollTop,F=J.scrollLeft,K=V.height,M=V.width,z=u.height,L=u.width,D={left:0,top:0,right:H,bottom:x},T={left:-F,top:-E,right:Y-F,bottom:N-E},j=G.htmlRegion,O="visible",U="visibleFirst";"scroll"!==j&&j!==U&&(j=O);var Q=j===U,$=Nc(T,I),P=Nc(D,I),q=j===O?P:$,_=Q?P:q;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var ee=m.getBoundingClientRect();m.style.left=h,m.style.top=f,m.style.right=y,m.style.bottom=v,m.style.overflow=Z,null===(d=m.parentElement)||void 0===d||d.removeChild(S);var te=xc(Math.round(M/parseFloat(X)*1e3)/1e3),ne=xc(Math.round(K/parseFloat(w)*1e3)/1e3);if(0===te||0===ne||Ul(o)&&!Rc(o))return;var oe=G.offset,le=G.targetOffset,re=He(Fc(V,oe),2),ae=re[0],ie=re[1],ge=He(Fc(u,le),2),ce=ge[0],se=ge[1];u.x-=ce,u.y-=se;var de=He(G.points||[],2),Ie=de[0],Ce=Kc(de[1]),ue=Kc(Ie),me=Mc(u,Ce),Ae=Mc(V,ue),be=Ee({},G),pe=me.x-Ae.x+ae,he=me.y-Ae.y+ie;function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q,o=V.x+e,l=V.y+t,r=o+M,a=l+K,i=Math.max(o,n.left),g=Math.max(l,n.top),c=Math.min(r,n.right),s=Math.min(a,n.bottom);return Math.max(0,(c-i)*(s-g))}var fe,ye,ve,Ze,Ge=ut(pe,he),Se=ut(pe,he,P),Be=Mc(u,["t","l"]),ke=Mc(V,["t","l"]),We=Mc(u,["b","r"]),Ve=Mc(V,["b","r"]),Re=G.overflow||{},we=Re.adjustX,Xe=Re.adjustY,Je=Re.shiftX,xe=Re.shiftY,Ye=function(e){return"boolean"===typeof e?e:e>=0};function mt(){fe=V.y+he,ye=fe+K,ve=V.x+pe,Ze=ve+M}mt();var Ne=Ye(Xe),Fe=ue[0]===Ce[0];if(Ne&&"t"===ue[0]&&(ye>_.bottom||C.current.bt)){var Ke=he;Fe?Ke-=K-z:Ke=Be.y-Ve.y-ie;var Me=ut(pe,Ke),ze=ut(pe,Ke,P);Me>Ge||Me===Ge&&(!Q||ze>=Se)?(C.current.bt=!0,he=Ke,ie=-ie,be.points=[zc(ue,0),zc(Ce,0)]):C.current.bt=!1}if(Ne&&"b"===ue[0]&&(fe<_.top||C.current.tb)){var Le=he;Fe?Le+=K-z:Le=We.y-ke.y-ie;var De=ut(pe,Le),Te=ut(pe,Le,P);De>Ge||De===Ge&&(!Q||Te>=Se)?(C.current.tb=!0,he=Le,ie=-ie,be.points=[zc(ue,0),zc(Ce,0)]):C.current.tb=!1}var je=Ye(we),Oe=ue[1]===Ce[1];if(je&&"l"===ue[1]&&(Ze>_.right||C.current.rl)){var Ue=pe;Oe?Ue-=M-L:Ue=Be.x-Ve.x-ae;var Qe=ut(Ue,he),$e=ut(Ue,he,P);Qe>Ge||Qe===Ge&&(!Q||$e>=Se)?(C.current.rl=!0,pe=Ue,ae=-ae,be.points=[zc(ue,1),zc(Ce,1)]):C.current.rl=!1}if(je&&"r"===ue[1]&&(ve<_.left||C.current.lr)){var Pe=pe;Oe?Pe+=M-L:Pe=We.x-ke.x-ae;var qe=ut(Pe,he),_e=ut(Pe,he,P);qe>Ge||qe===Ge&&(!Q||_e>=Se)?(C.current.lr=!0,pe=Pe,ae=-ae,be.points=[zc(ue,1),zc(Ce,1)]):C.current.lr=!1}mt();var et=!0===Je?0:Je;"number"===typeof et&&(ve<P.left&&(pe-=ve-P.left-ae,u.x+L<P.left+et&&(pe+=u.x-P.left+L-et)),Ze>P.right&&(pe-=Ze-P.right-ae,u.x>P.right-et&&(pe+=u.x-P.right+et)));var tt=!0===xe?0:xe;"number"===typeof tt&&(fe<P.top&&(he-=fe-P.top-ie,u.y+z<P.top+tt&&(he+=u.y-P.top+z-tt)),ye>P.bottom&&(he-=ye-P.bottom-ie,u.y>P.bottom-tt&&(he+=u.y-P.bottom+tt)));var nt=V.x+pe,ot=nt+M,lt=V.y+he,rt=lt+K,at=u.x,it=at+L,gt=u.y,ct=gt+z,st=(Math.max(nt,at)+Math.min(ot,it))/2-nt,dt=(Math.max(lt,gt)+Math.min(rt,ct))/2-lt;null===i||void 0===i||i(n,be);var It=ee.right-V.x-(pe+V.width),Ct=ee.bottom-V.y-(he+V.height);1===te&&(pe=Math.round(pe),It=Math.round(It)),1===ne&&(he=Math.round(he),Ct=Math.round(Ct)),s({ready:!0,offsetX:pe/te,offsetY:he/ne,offsetR:It/te,offsetB:Ct/ne,arrowX:st/te,arrowY:dt/ne,scaleX:te,scaleY:ne,align:be})}}),m=function(){s(function(e){return Ee(Ee({},e),{},{ready:!1})})};return Ft(m,[l]),Ft(function(){e||m()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then(function(){d.current===e&&u()})}]}(Ge,ae,E&&null!==ze?ze:de,R,X,J,K),je=He(Te,11),Oe=je[0],Ue=je[1],Qe=je[2],$e=je[3],Pe=je[4],qe=je[5],_e=je[6],et=je[7],tt=je[8],nt=je[9],ot=je[10],lt=function(e,n,o,l){return t.useMemo(function(){var t=Vc(null!==o&&void 0!==o?o:n),r=Vc(null!==l&&void 0!==l?l:n),a=new Set(t),i=new Set(r);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),i.has("hover")&&(i.delete("hover"),i.add("click"))),[a,i]},[e,n,o,l])}(_,g,c,s),rt=He(lt,2),at=rt[0],it=rt[1],gt=at.has("click"),ct=it.has("click")||it.has("contextMenu"),st=yr(function(){Je||ot()});!function(e,t,n,o,l){Ft(function(){if(e&&t&&n){var r=n,a=Hc(t),i=Hc(r),g=Jc(r),c=new Set([g].concat(Ye(a),Ye(i)));function s(){o(),l()}return c.forEach(function(e){e.addEventListener("scroll",s,{passive:!0})}),g.addEventListener("resize",s,{passive:!0}),o(),function(){c.forEach(function(e){e.removeEventListener("scroll",s),g.removeEventListener("resize",s)})}}},[e,t,n])}(Ge,de,ae,st,function(){Be.current&&E&&ct&&we(!1)}),Ft(function(){st()},[ze,R]),Ft(function(){!Ge||null!==X&&void 0!==X&&X[R]||st()},[JSON.stringify(J)]);var dt=t.useMemo(function(){var e=function(e,t,n,o){for(var l=n.points,r=Object.keys(e),a=0;a<r.length;a+=1){var i,g=r[a];if(wc(null===(i=e[g])||void 0===i?void 0:i.points,l,o))return"".concat(t,"-placement-").concat(g)}return""}(X,r,nt,E);return Ol()(e,null===Y||void 0===Y?void 0:Y(nt))},[nt,Y,X,r,E]);t.useImperativeHandle(o,function(){return{nativeElement:Ce.current,popupElement:ge.current,forceAlign:st}});var It=He(t.useState(0),2),Ct=It[0],ut=It[1],mt=He(t.useState(0),2),At=mt[0],bt=mt[1],pt=function(){if(x&&de){var e=de.getBoundingClientRect();ut(e.width),bt(e.height)}};function ht(e,t,n,o){be[e]=function(l){var r;null===o||void 0===o||o(l),we(t,n);for(var a=arguments.length,i=new Array(a>1?a-1:0),g=1;g<a;g++)i[g-1]=arguments[g];null===(r=Ae[e])||void 0===r||r.call.apply(r,[Ae,l].concat(i))}}Ft(function(){Fe&&(ot(),Fe(),Ke(null))},[Fe]),(gt||ct)&&(be.onClick=function(e){var t;Be.current&&ct?we(!1):!Be.current&&gt&&(De(e),we(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];null===(t=Ae.onClick)||void 0===t||t.call.apply(t,[Ae,e].concat(o))});var ft,yt,vt=function(e,n,o,l,r,a,i,g){var c=t.useRef(e);c.current=e;var s=t.useRef(!1);return t.useEffect(function(){if(n&&l&&(!r||a)){var e=function(){s.current=!1},t=function(e){var t;!c.current||i((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||s.current||g(!1)},d=Jc(l);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",t,!0),d.addEventListener("contextmenu",t,!0);var I=ni(o);return I&&(I.addEventListener("mousedown",t,!0),I.addEventListener("contextmenu",t,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",t,!0),d.removeEventListener("contextmenu",t,!0),I&&(I.removeEventListener("mousedown",t,!0),I.removeEventListener("contextmenu",t,!0))}}},[n,o,l,r,a]),function(){s.current=!0}}(Ge,ct,de,ae,f,v,pe,we),Zt=at.has("hover"),Gt=it.has("hover");Zt&&(ht("onMouseEnter",!0,m,function(e){De(e)}),ht("onPointerEnter",!0,m,function(e){De(e)}),ft=function(e){(Ge||Je)&&null!==ae&&void 0!==ae&&ae.contains(e.target)&&we(!0,m)},E&&(be.onMouseMove=function(e){var t;null===(t=Ae.onMouseMove)||void 0===t||t.call(Ae,e)})),Gt&&(ht("onMouseLeave",!1,b),ht("onPointerLeave",!1,b),yt=function(){we(!1,b)}),at.has("focus")&&ht("onFocus",!0,p),it.has("focus")&&ht("onBlur",!1,h),at.has("contextMenu")&&(be.onContextMenu=function(e){var t;Be.current&&it.has("contextMenu")?we(!1):(De(e),we(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];null===(t=Ae.onContextMenu)||void 0===t||t.call.apply(t,[Ae,e].concat(o))}),U&&(be.className=Ol()(Ae.className,U));var St=Ee(Ee({},Ae),be),Bt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){$[e]&&(Bt[e]=function(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];null===(t=St[e])||void 0===t||t.call.apply(t,[St].concat(o)),$[e].apply($,o)})});var kt=t.cloneElement(me,Ee(Ee({},St),Bt)),Wt={x:qe,y:_e},Vt=M?Ee({},!0!==M?M:{}):null;return t.createElement(t.Fragment,null,t.createElement(qg,{disabled:!Ge,ref:ue,onResize:function(){pt(),st()}},t.createElement(kc,{getTriggerDOMNode:Q},kt)),t.createElement(Wc.Provider,{value:oe},t.createElement(Sc,{portal:e,ref:ce,prefixCls:r,popup:k,className:Ol()(W,dt),style:V,target:de,onMouseEnter:ft,onMouseLeave:yt,onPointerEnter:ft,zIndex:H,open:Ge,keepDom:Je,fresh:N,onClick:F,onPointerDownCapture:vt,mask:f,motion:he,maskMotion:fe,onVisibleChanged:function(e){xe(!1),ot(),null===u||void 0===u||u(e)},onPrepare:function(){return new Promise(function(e){pt(),Ke(function(){return e})})},forceRender:G,autoDestroy:P,getPopupContainer:Z,align:nt,arrow:Vt,arrowPos:Wt,ready:Oe,offsetX:Ue,offsetY:Qe,offsetR:$e,offsetB:Pe,onAlign:st,stretch:x,targetWidth:Ct/et,targetHeight:At/tt})))});return n}(mc);var Tc={shiftX:64,adjustY:1},jc={adjustX:1,shiftY:!0},Oc=[0,0],Uc={left:{points:["cr","cl"],overflow:jc,offset:[-4,0],targetOffset:Oc},right:{points:["cl","cr"],overflow:jc,offset:[4,0],targetOffset:Oc},top:{points:["bc","tc"],overflow:Tc,offset:[0,-4],targetOffset:Oc},bottom:{points:["tc","bc"],overflow:Tc,offset:[0,4],targetOffset:Oc},topLeft:{points:["bl","tl"],overflow:Tc,offset:[0,-4],targetOffset:Oc},leftTop:{points:["tr","tl"],overflow:jc,offset:[-4,0],targetOffset:Oc},topRight:{points:["br","tr"],overflow:Tc,offset:[0,-4],targetOffset:Oc},rightTop:{points:["tl","tr"],overflow:jc,offset:[4,0],targetOffset:Oc},bottomRight:{points:["tr","br"],overflow:Tc,offset:[0,4],targetOffset:Oc},rightBottom:{points:["bl","br"],overflow:jc,offset:[4,0],targetOffset:Oc},bottomLeft:{points:["tl","bl"],overflow:Tc,offset:[0,4],targetOffset:Oc},leftBottom:{points:["br","bl"],overflow:jc,offset:[-4,0],targetOffset:Oc}};var Qc=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],$c=function(e,n){var o=e.overlayClassName,l=e.trigger,r=void 0===l?["hover"]:l,a=e.mouseEnterDelay,i=void 0===a?0:a,g=e.mouseLeaveDelay,c=void 0===g?.1:g,s=e.overlayStyle,d=e.prefixCls,I=void 0===d?"rc-tooltip":d,C=e.children,u=e.onVisibleChange,m=e.afterVisibleChange,A=e.transitionName,b=e.animation,p=e.motion,h=e.placement,f=void 0===h?"right":h,y=e.align,v=void 0===y?{}:y,Z=e.destroyTooltipOnHide,G=void 0!==Z&&Z,S=e.defaultVisible,B=e.getTooltipContainer,k=e.overlayInnerStyle,W=(e.arrowContent,e.overlay),V=e.id,R=e.showArrow,w=void 0===R||R,X=e.classNames,J=e.styles,H=cr(e,Qc),x=pc(V),Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,function(){return Y.current});var N=Ee({},H);"visible"in e&&(N.popupVisible=e.visible);return t.createElement(Dc,$t({popupClassName:Ol()(o,null===X||void 0===X?void 0:X.root),prefixCls:I,popup:function(){return t.createElement(nc,{key:"content",prefixCls:I,id:x,bodyClassName:null===X||void 0===X?void 0:X.body,overlayInnerStyle:Ee(Ee({},k),null===J||void 0===J?void 0:J.body)},W)},action:r,builtinPlacements:Uc,popupPlacement:f,ref:Y,popupAlign:v,getPopupContainer:B,onPopupVisibleChange:u,afterPopupVisibleChange:m,popupTransitionName:A,popupAnimation:b,popupMotion:p,defaultPopupVisible:S,autoDestroy:G,mouseLeaveDelay:c,popupStyle:Ee(Ee({},s),null===J||void 0===J?void 0:J.root),mouseEnterDelay:i,arrow:w},N),function(){var e=t.Children.only(C),n=Ee(Ee({},(null===e||void 0===e?void 0:e.props)||{}),{},{"aria-describedby":W?x:null});return t.cloneElement(C,n)}())};const Pc=(0,t.forwardRef)($c);function qc(e,t){this.v=e,this.k=t}function _c(e,t,n,o){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}_c=function(e,t,n,o){if(t)l?l(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n;else{var r=function(t,n){_c(e,t,function(e){return this._invoke(t,n,e)})};r("next",0),r("throw",1),r("return",2)}},_c(e,t,n,o)}function es(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",l=n.toStringTag||"@@toStringTag";function r(n,o,l,r){var g=o&&o.prototype instanceof i?o:i,c=Object.create(g.prototype);return _c(c,"_invoke",function(n,o,l){var r,i,g,c=0,s=l||[],d=!1,I={p:0,n:0,v:e,a:C,f:C.bind(e,4),d:function(t,n){return r=t,i=0,g=e,I.n=n,a}};function C(n,o){for(i=n,g=o,t=0;!d&&c&&!l&&t<s.length;t++){var l,r=s[t],C=I.p,u=r[2];n>3?(l=u===o)&&(g=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=e):r[0]<=C&&((l=n<2&&C<r[1])?(i=0,I.v=o,I.n=r[1]):C<u&&(l=n<3||r[0]>o||o>u)&&(r[4]=n,r[5]=o,I.n=u,i=0))}if(l||n>1)return a;throw d=!0,o}return function(l,s,u){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&C(s,u),i=s,g=u;(t=i<2?e:g)||!d;){r||(i?i<3?(i>1&&(I.n=-1),C(i,g)):I.n=g:I.v=g);try{if(c=2,r){if(i||(l="next"),t=r[l]){if(!(t=t.call(r,g)))throw TypeError("iterator result is not an object");if(!t.done)return t;g=t.value,i<2&&(i=0)}else 1===i&&(t=r.return)&&t.call(r),i<2&&(g=TypeError("The iterator does not provide a '"+l+"' method"),i=1);r=e}else if((t=(d=I.n<0)?g:n.call(o,I))!==a)break}catch(t){r=e,i=1,g=t}finally{c=1}}return{value:t,done:d}}}(n,l,r),!0),c}var a={};function i(){}function g(){}function c(){}t=Object.getPrototypeOf;var s=[][o]?t(t([][o]())):(_c(t={},o,function(){return this}),t),d=c.prototype=i.prototype=Object.create(s);function I(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_c(e,l,"GeneratorFunction")),e.prototype=Object.create(d),e}return g.prototype=c,_c(d,"constructor",c),_c(c,"constructor",g),g.displayName="GeneratorFunction",_c(c,l,"GeneratorFunction"),_c(d),_c(d,l,"Generator"),_c(d,o,function(){return this}),_c(d,"toString",function(){return"[object Generator]"}),(es=function(){return{w:r,m:I}})()}function ts(e,t){function n(o,l,r,a){try{var i=e[o](l),g=i.value;return g instanceof qc?t.resolve(g.v).then(function(e){n("next",e,r,a)},function(e){n("throw",e,r,a)}):t.resolve(g).then(function(e){i.value=e,r(i)},function(e){return n("throw",e,r,a)})}catch(e){a(e)}}var o;this.next||(_c(ts.prototype),_c(ts.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),_c(this,"_invoke",function(e,l,r){function a(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(a,a):a()},!0)}function ns(e,t,n,o,l){return new ts(es().w(e,t,n,o),l||Promise)}function os(e,t,n,o,l){var r=ns(e,t,n,o,l);return r.next().then(function(e){return e.done?e.value:r.next()})}function ls(e){var t=Object(e),n=[];for(var o in t)n.unshift(o);return function e(){for(;n.length;)if((o=n.pop())in t)return e.value=o,e.done=!1,e;return e.done=!0,e}}function rs(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(ke(e)+" is not iterable")}function as(){var e=es(),t=e.m(as),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function o(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var l={throw:1,return:2,break:3,continue:3};function r(e){var t,n;return function(o){t||(t={stop:function(){return n(o.a,2)},catch:function(){return o.v},abrupt:function(e,t){return n(o.a,l[e],t)},delegateYield:function(e,l,r){return t.resultName=l,n(o.d,rs(e),r)},finish:function(e){return n(o.f,e)}},n=function(e,n,l){o.p=t.prev,o.n=t.next;try{return e(n,l)}finally{t.next=o.n}}),t.resultName&&(t[t.resultName]=o.v,t.resultName=void 0),t.sent=o.v,t.next=o.n;try{return e.call(this,t)}finally{o.p=t.prev,o.n=t.next}}}return(as=function(){return{wrap:function(t,n,o,l){return e.w(r(t),n,o,l&&l.reverse())},isGeneratorFunction:o,mark:e.m,awrap:function(e,t){return new qc(e,t)},AsyncIterator:ts,async:function(e,t,n,l,a){return(o(t)?ns:os)(r(e),t,n,l,a)},keys:ls,values:rs}})()}function is(e,t,n,o,l,r,a){try{var i=e[r](a),g=i.value}catch(e){return void n(e)}i.done?t(g):Promise.resolve(g).then(o,l)}function gs(e){return function(){var t=this,n=arguments;return new Promise(function(o,l){var r=e.apply(t,n);function a(e){is(r,o,l,a,i,"next",e)}function i(e){is(r,o,l,a,i,"throw",e)}a(void 0)})}}var cs="RC_FORM_INTERNAL_HOOKS",ss=function(){rt(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const ds=t.createContext({getFieldValue:ss,getFieldsValue:ss,getFieldError:ss,getFieldWarning:ss,getFieldsError:ss,isFieldsTouched:ss,isFieldTouched:ss,isFieldValidating:ss,isFieldsValidating:ss,resetFields:ss,setFields:ss,setFieldValue:ss,setFieldsValue:ss,validateFields:ss,submit:ss,getInternalHooks:function(){return ss(),{dispatch:ss,initEntityValue:ss,registerField:ss,useSubscribe:ss,setInitialValues:ss,destroyForm:ss,setCallbacks:ss,registerWatch:ss,getFields:ss,setValidateMessages:ss,setPreserve:ss,getInitialValue:ss}}});const Is=t.createContext(null);function Cs(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function us(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ms=us();function As(e){var t="function"==typeof Map?new Map:void 0;return As=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(qV){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Ar())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var l=new(e.bind.apply(e,o));return n&&Cr(l,n.prototype),l}(e,arguments,mr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Cr(n,e)},As(e)}var bs=/%[sdj%]/g;function ps(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function hs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var l=0,r=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(bs,function(e){if("%%"===e)return"%";if(l>=r)return e;switch(e){case"%s":return String(n[l++]);case"%d":return Number(n[l++]);case"%j":try{return JSON.stringify(n[l++])}catch(t){return"[Circular]"}default:return e}}):e}function fs(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function ys(e,t,n){var o=0,l=e.length;!function r(a){if(a&&a.length)n(a);else{var i=o;o+=1,i<l?t(e[i],r):n([])}}([])}var vs=function(e){ur(n,e);var t=hr(n);function n(e,o){var l;return it(this,n),Ve(br(l=t.call(this,"Async Validation Error")),"errors",void 0),Ve(br(l),"fields",void 0),l.errors=e,l.fields=o,l}return ct(n)}(As(Error));function Zs(e,t,n,o,l){if(t.first){var r=new Promise(function(t,r){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,Ye(e[n]||[]))}),t}(e);ys(a,n,function(e){return o(e),e.length?r(new vs(e,ps(e))):t(l)})});return r.catch(function(e){return e}),r}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],i=Object.keys(e),g=i.length,c=0,s=[],d=new Promise(function(t,r){var d=function(e){if(s.push.apply(s,e),++c===g)return o(s),s.length?r(new vs(s,ps(s))):t(l)};i.length||(o(s),t(l)),i.forEach(function(t){var o=e[t];-1!==a.indexOf(t)?ys(o,n,d):function(e,t,n){var o=[],l=0,r=e.length;function a(e){o.push.apply(o,Ye(e||[])),++l===r&&n(o)}e.forEach(function(e){t(e,a)})}(o,n,d)})});return d.catch(function(e){return e}),d}function Gs(e,t){return function(n){var o,l;return o=e.fullFields?function(e,t){for(var n=e,o=0;o<t.length;o++){if(void 0==n)return n;n=n[t[o]]}return n}(t,e.fullFields):t[n.field||e.fullField],(l=n)&&void 0!==l.message?(n.field=n.field||e.fullField,n.fieldValue=o,n):{message:"function"===typeof n?n():n,fieldValue:o,field:n.field||e.fullField}}}function Ss(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"===ke(o)&&"object"===ke(e[n])?e[n]=Ee(Ee({},e[n]),o):e[n]=o}return e}var Bs="enum";const ks=function(e,t,n,o,l,r){!e.required||n.hasOwnProperty(e.field)&&!fs(t,r||e.type)||o.push(hs(l.messages.required,e.fullField))};var Ws;var Vs=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Rs=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,ws={integer:function(e){return ws.number(e)&&parseInt(e,10)===e},float:function(e){return ws.number(e)&&!ws.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(PV){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===ke(e)&&!ws.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Vs)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Ws)return Ws;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",l=["(?:".concat(o,":){7}(?:").concat(o,"|:)"),"(?:".concat(o,":){6}(?:").concat(n,"|:").concat(o,"|:)"),"(?:".concat(o,":){5}(?::").concat(n,"|(?::").concat(o,"){1,2}|:)"),"(?:".concat(o,":){4}(?:(?::").concat(o,"){0,1}:").concat(n,"|(?::").concat(o,"){1,3}|:)"),"(?:".concat(o,":){3}(?:(?::").concat(o,"){0,2}:").concat(n,"|(?::").concat(o,"){1,4}|:)"),"(?:".concat(o,":){2}(?:(?::").concat(o,"){0,3}:").concat(n,"|(?::").concat(o,"){1,5}|:)"),"(?:".concat(o,":){1}(?:(?::").concat(o,"){0,4}:").concat(n,"|(?::").concat(o,"){1,6}|:)"),"(?::(?:(?::".concat(o,"){0,5}:").concat(n,"|(?::").concat(o,"){1,7}|:))")],r="(?:".concat(l.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(r,"$)")),i=new RegExp("^".concat(n,"$")),g=new RegExp("^".concat(r,"$")),c=function(e){return e&&e.exact?a:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(r).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?i:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?g:new RegExp("".concat(t(e)).concat(r).concat(t(e)),"g")};var s=c.v4().source,d=c.v6().source,I="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(s,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return Ws=new RegExp("(?:^".concat(I,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Rs)}};const Xs=function(e,t,n,o,l){if(e.required&&void 0===t)ks(e,t,n,o,l);else{var r=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(r)>-1?ws[r](t)||o.push(hs(l.messages.types[r],e.fullField,e.type)):r&&ke(t)!==e.type&&o.push(hs(l.messages.types[r],e.fullField,e.type))}};const Js={required:ks,whitespace:function(e,t,n,o,l){(/^\s+$/.test(t)||""===t)&&o.push(hs(l.messages.whitespace,e.fullField))},type:Xs,range:function(e,t,n,o,l){var r="number"===typeof e.len,a="number"===typeof e.min,i="number"===typeof e.max,g=t,c=null,s="number"===typeof t,d="string"===typeof t,I=Array.isArray(t);if(s?c="number":d?c="string":I&&(c="array"),!c)return!1;I&&(g=t.length),d&&(g=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),r?g!==e.len&&o.push(hs(l.messages[c].len,e.fullField,e.len)):a&&!i&&g<e.min?o.push(hs(l.messages[c].min,e.fullField,e.min)):i&&!a&&g>e.max?o.push(hs(l.messages[c].max,e.fullField,e.max)):a&&i&&(g<e.min||g>e.max)&&o.push(hs(l.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,o,l){e[Bs]=Array.isArray(e[Bs])?e[Bs]:[],-1===e[Bs].indexOf(t)&&o.push(hs(l.messages[Bs],e.fullField,e[Bs].join(", ")))},pattern:function(e,t,n,o,l){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(hs(l.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||o.push(hs(l.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};const Hs=function(e,t,n,o,l){var r=[],a=Array.isArray(t)?"array":ke(t);Js.required(e,t,o,r,l,a),n(r)};const xs=function(e,t,n,o,l){var r=e.type,a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t,r)&&!e.required)return n();Js.required(e,t,o,a,l,r),fs(t,r)||Js.type(e,t,o,a,l)}n(a)},Ys={string:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t,"string")&&!e.required)return n();Js.required(e,t,o,r,l,"string"),fs(t,"string")||(Js.type(e,t,o,r,l),Js.range(e,t,o,r,l),Js.pattern(e,t,o,r,l),!0===e.whitespace&&Js.whitespace(e,t,o,r,l))}n(r)},method:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&Js.type(e,t,o,r,l)}n(r)},number:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(""===t&&(t=void 0),fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&(Js.type(e,t,o,r,l),Js.range(e,t,o,r,l))}n(r)},boolean:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&Js.type(e,t,o,r,l)}n(r)},regexp:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),fs(t)||Js.type(e,t,o,r,l)}n(r)},integer:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&(Js.type(e,t,o,r,l),Js.range(e,t,o,r,l))}n(r)},float:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&(Js.type(e,t,o,r,l),Js.range(e,t,o,r,l))}n(r)},array:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Js.required(e,t,o,r,l,"array"),void 0!==t&&null!==t&&(Js.type(e,t,o,r,l),Js.range(e,t,o,r,l))}n(r)},object:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&Js.type(e,t,o,r,l)}n(r)},enum:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l),void 0!==t&&Js.enum(e,t,o,r,l)}n(r)},pattern:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t,"string")&&!e.required)return n();Js.required(e,t,o,r,l),fs(t,"string")||Js.pattern(e,t,o,r,l)}n(r)},date:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t,"date")&&!e.required)return n();var a;if(Js.required(e,t,o,r,l),!fs(t,"date"))a=t instanceof Date?t:new Date(t),Js.type(e,a,o,r,l),a&&Js.range(e,a.getTime(),o,r,l)}n(r)},url:xs,hex:xs,email:xs,required:Hs,any:function(e,t,n,o,l){var r=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(fs(t)&&!e.required)return n();Js.required(e,t,o,r,l)}n(r)}};var Ns=function(){function e(t){it(this,e),Ve(this,"rules",null),Ve(this,"_messages",ms),this.define(t)}return ct(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==ke(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var o=e[n];t.rules[n]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(e){return e&&(this._messages=Ss(us(),e)),this._messages}},{key:"validate",value:function(t){var n=this,o=t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof l&&(r=l,l={}),!this.rules||0===Object.keys(this.rules).length)return r&&r(null,o),Promise.resolve(o);if(l.messages){var a=this.messages();a===ms&&(a=us()),Ss(a,l.messages),l.messages=a}else l.messages=this.messages();var i={};(l.keys||Object.keys(this.rules)).forEach(function(e){var l=n.rules[e],r=o[e];l.forEach(function(l){var a=l;"function"===typeof a.transform&&(o===t&&(o=Ee({},o)),void 0!==(r=o[e]=a.transform(r))&&null!==r&&(a.type=a.type||(Array.isArray(r)?"array":ke(r)))),(a="function"===typeof a?{validator:a}:Ee({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=n.getType(a),i[e]=i[e]||[],i[e].push({rule:a,value:r,source:o,field:e}))})});var g={};return Zs(i,l,function(t,n){var r,a=t.rule,i=("object"===a.type||"array"===a.type)&&("object"===ke(a.fields)||"object"===ke(a.defaultField));function c(e,t){return Ee(Ee({},t),{},{fullField:"".concat(a.fullField,".").concat(e),fullFields:a.fullFields?[].concat(Ye(a.fullFields),[e]):[e]})}function s(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=Array.isArray(r)?r:[r];!l.suppressWarning&&s.length&&e.warning("async-validator:",s),s.length&&void 0!==a.message&&(s=[].concat(a.message));var d=s.map(Gs(a,o));if(l.first&&d.length)return g[a.field]=1,n(d);if(i){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(Gs(a,o)):l.error&&(d=[l.error(a,hs(l.messages.required,a.field))]),n(d);var I={};a.defaultField&&Object.keys(t.value).map(function(e){I[e]=a.defaultField}),I=Ee(Ee({},I),t.rule.fields);var C={};Object.keys(I).forEach(function(e){var t=I[e],n=Array.isArray(t)?t:[t];C[e]=n.map(c.bind(null,e))});var u=new e(C);u.messages(l.messages),t.rule.options&&(t.rule.options.messages=l.messages,t.rule.options.error=l.error),u.validate(t.value,t.rule.options||l,function(e){var t=[];d&&d.length&&t.push.apply(t,Ye(d)),e&&e.length&&t.push.apply(t,Ye(e)),n(t.length?t:null)})}else n(d)}if(i=i&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)r=a.asyncValidator(a,t.value,s,t.source,l);else if(a.validator){try{r=a.validator(a,t.value,s,t.source,l)}catch(C){var d,I;null===(d=(I=console).error)||void 0===d||d.call(I,C),l.suppressValidatorError||setTimeout(function(){throw C},0),s(C.message)}!0===r?s():!1===r?s("function"===typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):r instanceof Array?s(r):r instanceof Error&&s(r.message)}r&&r.then&&r.then(function(){return s()},function(e){return s(e)})},function(e){!function(e){var t=[],n={};function l(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,Ye(e)):t.push(e)}for(var a=0;a<e.length;a++)l(e[a]);t.length?(n=ps(t),r(t,n)):r(null,o)}(e)},o)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Ys.hasOwnProperty(e.type))throw new Error(hs("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Ys.required:Ys[this.getType(e)]||void 0}}]),e}();Ve(Ns,"register",function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Ys[e]=t}),Ve(Ns,"warning",function(){}),Ve(Ns,"messages",ms),Ve(Ns,"validators",Ys);var Es="'${name}' is not a valid ${type}",Fs={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Es,method:Es,array:Es,object:Es,number:Es,date:Es,boolean:Es,integer:Es,float:Es,regexp:Es,email:Es,url:Es,hex:Es},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ks=Ns;function Ms(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var zs="CODE_LOGIC_ERROR";function Ls(e,t,n,o,l){return Ds.apply(this,arguments)}function Ds(){return Ds=gs(as().mark(function e(n,o,l,r,a){var i,g,c,s,d,I,C,u,m;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(i=Ee({},l)).ruleIndex,Ks.warning=function(){},i.validator&&(g=i.validator,i.validator=function(){try{return g.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(zs)}}),c=null,i&&"array"===i.type&&i.defaultField&&(c=i.defaultField,delete i.defaultField),s=new Ks(Ve({},n,[i])),d=Io(Fs,r.validateMessages),s.messages(d),I=[],e.prev=10,e.next=13,Promise.resolve(s.validate(Ve({},n,o),Ee({},r)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(I=e.t0.errors.map(function(e,n){var o=e.message,l=o===zs?d.default:o;return t.isValidElement(l)?t.cloneElement(l,{key:"error_".concat(n)}):l}));case 18:if(I.length||!c){e.next=23;break}return e.next=21,Promise.all(o.map(function(e,t){return Ls("".concat(n,".").concat(t),e,c,r,a)}));case 21:return C=e.sent,e.abrupt("return",C.reduce(function(e,t){return[].concat(Ye(e),Ye(t))},[]));case 23:return u=Ee(Ee({},l),{},{name:n,enum:(l.enum||[]).join(", ")},a),m=I.map(function(e){return"string"===typeof e?Ms(e,u):e}),e.abrupt("return",m);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),Ds.apply(this,arguments)}function Ts(e,t,n,o,l,r){var a,i=e.join("."),g=n.map(function(e,t){var n=e.validator,o=Ee(Ee({},e),{},{ruleIndex:t});return n&&(o.validator=function(e,t,o){var l=!1,r=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){rt(!l,"Your validator function has already return a promise. `callback` will be ignored."),l||o.apply(void 0,t)})});l=r&&"function"===typeof r.then&&"function"===typeof r.catch,rt(l,"`callback` is deprecated. Please return a promise instead."),l&&r.then(function(){o()}).catch(function(e){o(e||" ")})}),o}).sort(function(e,t){var n=e.warningOnly,o=e.ruleIndex,l=t.warningOnly,r=t.ruleIndex;return!!n===!!l?o-r:n?1:-1});if(!0===l)a=new Promise(function(){var e=gs(as().mark(function e(n,l){var a,c,s;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<g.length)){e.next=12;break}return c=g[a],e.next=5,Ls(i,t,c,o,r);case 5:if(!(s=e.sent).length){e.next=9;break}return l([{errors:s,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var c=g.map(function(e){return Ls(i,t,e,o,r).then(function(t){return{errors:t,rule:e}})});a=(l?function(e){return Os.apply(this,arguments)}(c):function(e){return js.apply(this,arguments)}(c)).then(function(e){return Promise.reject(e)})}return a.catch(function(e){return e}),a}function js(){return(js=gs(as().mark(function e(t){return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,Ye(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Os(){return(Os=gs(as().mark(function e(t){var n;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(o){o.then(function(o){o.errors.length&&e([o]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Us(e){return Cs(e)}function Qs(e,t){var n={};return t.forEach(function(t){var o=ao(e,t);n=go(n,t,o)}),n}function $s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return Ps(t,e,n)})}function Ps(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t}))}function qs(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===ke(t.target)&&e in t.target?t.target[e]:t}function _s(e,t,n){var o=e.length;if(t<0||t>=o||n<0||n>=o)return e;var l=e[t],r=t-n;return r>0?[].concat(Ye(e.slice(0,n)),[l],Ye(e.slice(n,t)),Ye(e.slice(t+1,o))):r<0?[].concat(Ye(e.slice(0,t)),Ye(e.slice(t+1,n+1)),[l],Ye(e.slice(n+1,o))):e}var ed=["name"],td=[];function nd(e,t,n,o,l,r){return"function"===typeof e?e(t,n,"source"in r?{source:r.source}:{}):o!==l}var od=function(e){ur(o,e);var n=hr(o);function o(e){var l;(it(this,o),Ve(br(l=n.call(this,e)),"state",{resetCount:0}),Ve(br(l),"cancelRegisterFunc",null),Ve(br(l),"mounted",!1),Ve(br(l),"touched",!1),Ve(br(l),"dirty",!1),Ve(br(l),"validatePromise",void 0),Ve(br(l),"prevValidating",void 0),Ve(br(l),"errors",td),Ve(br(l),"warnings",td),Ve(br(l),"cancelRegister",function(){var e=l.props,t=e.preserve,n=e.isListField,o=e.name;l.cancelRegisterFunc&&l.cancelRegisterFunc(n,t,Us(o)),l.cancelRegisterFunc=null}),Ve(br(l),"getNamePath",function(){var e=l.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Ye(void 0===n?[]:n),Ye(t)):[]}),Ve(br(l),"getRules",function(){var e=l.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map(function(e){return"function"===typeof e?e(o):e})}),Ve(br(l),"refresh",function(){l.mounted&&l.setState(function(e){return{resetCount:e.resetCount+1}})}),Ve(br(l),"metaCache",null),Ve(br(l),"triggerMetaEvent",function(e){var t=l.props.onMetaChange;if(t){var n=Ee(Ee({},l.getMeta()),{},{destroy:e});at(l.metaCache,n)||t(n),l.metaCache=n}else l.metaCache=null}),Ve(br(l),"onStoreChange",function(e,t,n){var o=l.props,r=o.shouldUpdate,a=o.dependencies,i=void 0===a?[]:a,g=o.onReset,c=n.store,s=l.getNamePath(),d=l.getValue(e),I=l.getValue(c),C=t&&$s(t,s);switch("valueUpdate"!==n.type||"external"!==n.source||at(d,I)||(l.touched=!0,l.dirty=!0,l.validatePromise=null,l.errors=td,l.warnings=td,l.triggerMetaEvent()),n.type){case"reset":if(!t||C)return l.touched=!1,l.dirty=!1,l.validatePromise=void 0,l.errors=td,l.warnings=td,l.triggerMetaEvent(),null===g||void 0===g||g(),void l.refresh();break;case"remove":if(r&&nd(r,e,c,d,I,n))return void l.reRender();break;case"setField":var u=n.data;if(C)return"touched"in u&&(l.touched=u.touched),"validating"in u&&!("originRCField"in u)&&(l.validatePromise=u.validating?Promise.resolve([]):null),"errors"in u&&(l.errors=u.errors||td),"warnings"in u&&(l.warnings=u.warnings||td),l.dirty=!0,l.triggerMetaEvent(),void l.reRender();if("value"in u&&$s(t,s,!0))return void l.reRender();if(r&&!s.length&&nd(r,e,c,d,I,n))return void l.reRender();break;case"dependenciesUpdate":if(i.map(Us).some(function(e){return $s(n.relatedFields,e)}))return void l.reRender();break;default:if(C||(!i.length||s.length||r)&&nd(r,e,c,d,I,n))return void l.reRender()}!0===r&&l.reRender()}),Ve(br(l),"validateRules",function(e){var t=l.getNamePath(),n=l.getValue(),o=e||{},r=o.triggerName,a=o.validateOnly,i=void 0!==a&&a,g=Promise.resolve().then(gs(as().mark(function o(){var a,i,c,s,d,I,C;return as().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(l.mounted){o.next=2;break}return o.abrupt("return",[]);case 2:if(a=l.props,i=a.validateFirst,c=void 0!==i&&i,s=a.messageVariables,d=a.validateDebounce,I=l.getRules(),r&&(I=I.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||Cs(t).includes(r)})),!d||!r){o.next=10;break}return o.next=8,new Promise(function(e){setTimeout(e,d)});case 8:if(l.validatePromise===g){o.next=10;break}return o.abrupt("return",[]);case 10:return(C=Ts(t,n,I,e,c,s)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:td;if(l.validatePromise===g){var t;l.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,l=e.errors,r=void 0===l?td:l;t?o.push.apply(o,Ye(r)):n.push.apply(n,Ye(r))}),l.errors=n,l.warnings=o,l.triggerMetaEvent(),l.reRender()}}),o.abrupt("return",C);case 13:case"end":return o.stop()}},o)})));return i||(l.validatePromise=g,l.dirty=!0,l.errors=td,l.warnings=td,l.triggerMetaEvent(),l.reRender()),g}),Ve(br(l),"isFieldValidating",function(){return!!l.validatePromise}),Ve(br(l),"isFieldTouched",function(){return l.touched}),Ve(br(l),"isFieldDirty",function(){return!(!l.dirty&&void 0===l.props.initialValue)||void 0!==(0,l.props.fieldContext.getInternalHooks(cs).getInitialValue)(l.getNamePath())}),Ve(br(l),"getErrors",function(){return l.errors}),Ve(br(l),"getWarnings",function(){return l.warnings}),Ve(br(l),"isListField",function(){return l.props.isListField}),Ve(br(l),"isList",function(){return l.props.isList}),Ve(br(l),"isPreserve",function(){return l.props.preserve}),Ve(br(l),"getMeta",function(){return l.prevValidating=l.isFieldValidating(),{touched:l.isFieldTouched(),validating:l.prevValidating,errors:l.errors,warnings:l.warnings,name:l.getNamePath(),validated:null===l.validatePromise}}),Ve(br(l),"getOnlyChild",function(e){if("function"===typeof e){var n=l.getMeta();return Ee(Ee({},l.getOnlyChild(e(l.getControlled(),n,l.props.fieldContext))),{},{isFunction:!0})}var o=_a(e);return 1===o.length&&t.isValidElement(o[0])?{child:o[0],isFunction:!1}:{child:o,isFunction:!1}}),Ve(br(l),"getValue",function(e){var t=l.props.fieldContext.getFieldsValue,n=l.getNamePath();return ao(e||t(!0),n)}),Ve(br(l),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.props,n=t.name,o=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,i=t.normalize,g=t.valuePropName,c=t.getValueProps,s=t.fieldContext,d=void 0!==r?r:s.validateTrigger,I=l.getNamePath(),C=s.getInternalHooks,u=s.getFieldsValue,m=C(cs).dispatch,A=l.getValue(),b=c||function(e){return Ve({},g,e)},p=e[o],h=void 0!==n?b(A):{};var f=Ee(Ee({},e),h);return f[o]=function(){var e;l.touched=!0,l.dirty=!0,l.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=a?a.apply(void 0,n):qs.apply(void 0,[g].concat(n)),i&&(e=i(e,A,u(!0))),e!==A&&m({type:"updateValue",namePath:I,value:e}),p&&p.apply(void 0,n)},Cs(d||[]).forEach(function(e){var t=f[e];f[e]=function(){t&&t.apply(void 0,arguments);var n=l.props.rules;n&&n.length&&m({type:"validateField",namePath:I,triggerName:e})}}),f}),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(cs).initEntityValue)(br(l));return l}return ct(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var o=(0,n.getInternalHooks)(cs).registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,o=this.props.children,l=this.getOnlyChild(o),r=l.child;return l.isFunction?e=r:t.isValidElement(r)?e=t.cloneElement(r,this.getControlled(r.props)):(rt(!r,"`children` of Field is not validate ReactElement."),e=r),t.createElement(t.Fragment,{key:n},e)}}]),o}(t.Component);Ve(od,"contextType",ds),Ve(od,"defaultProps",{trigger:"onChange",valuePropName:"value"});const ld=function(e){var n,o=e.name,l=cr(e,ed),r=t.useContext(ds),a=t.useContext(Is),i=void 0!==o?Us(o):void 0,g=null!==(n=l.isListField)&&void 0!==n?n:!!a,c="keep";return g||(c="_".concat((i||[]).join("_"))),t.createElement(od,$t({key:c,name:i,isListField:g},l,{fieldContext:r}))};const rd=function(e){var n=e.name,o=e.initialValue,l=e.children,r=e.rules,a=e.validateTrigger,i=e.isListField,g=t.useContext(ds),c=t.useContext(Is),s=t.useRef({keys:[],id:0}).current,d=t.useMemo(function(){var e=Us(g.prefixName)||[];return[].concat(Ye(e),Ye(Us(n)))},[g.prefixName,n]),I=t.useMemo(function(){return Ee(Ee({},g),{},{prefixName:d})},[g,d]),C=t.useMemo(function(){return{getKey:function(e){var t=d.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}},[d]);return"function"!==typeof l?(rt(!1,"Form.List only accepts function as children."),null):t.createElement(Is.Provider,{value:C},t.createElement(ds.Provider,{value:I},t.createElement(ld,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:r,validateTrigger:a,initialValue:o,isList:!0,isListField:null!==i&&void 0!==i?i:!!c},function(e,t){var n=e.value,o=void 0===n?[]:n,r=e.onChange,a=g.getFieldValue,i=function(){return a(d||[])||[]},c={add:function(e,t){var n=i();t>=0&&t<=n.length?(s.keys=[].concat(Ye(s.keys.slice(0,t)),[s.id],Ye(s.keys.slice(t))),r([].concat(Ye(n.slice(0,t)),[e],Ye(n.slice(t))))):(s.keys=[].concat(Ye(s.keys),[s.id]),r([].concat(Ye(n),[e]))),s.id+=1},remove:function(e){var t=i(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter(function(e,t){return!n.has(t)}),r(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=i();e<0||e>=n.length||t<0||t>=n.length||(s.keys=_s(s.keys,e,t),r(_s(n,e,t)))}}},I=o||[];return Array.isArray(I)||(I=[]),l(I.map(function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}}),c,t)})))};var ad="__@field_split__";function id(e){return e.map(function(e){return"".concat(ke(e),":").concat(e)}).join(ad)}var gd=function(){function e(){it(this,e),Ve(this,"kvs",new Map)}return ct(e,[{key:"set",value:function(e,t){this.kvs.set(id(e),t)}},{key:"get",value:function(e){return this.kvs.get(id(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(id(e))}},{key:"map",value:function(e){return Ye(this.kvs.entries()).map(function(t){var n=He(t,2),o=n[0],l=n[1],r=o.split(ad);return e({key:r.map(function(e){var t=He(e.match(/^([^:]*):(.*)$/),3),n=t[1],o=t[2];return"number"===n?Number(o):o}),value:l})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,o=t.value;return e[n.join(".")]=o,null}),e}}]),e}();const cd=gd;var sd=["name"],dd=ct(function e(t){var n=this;it(this,e),Ve(this,"formHooked",!1),Ve(this,"forceRootUpdate",void 0),Ve(this,"subscribable",!0),Ve(this,"store",{}),Ve(this,"fieldEntities",[]),Ve(this,"initialValues",{}),Ve(this,"callbacks",{}),Ve(this,"validateMessages",null),Ve(this,"preserve",null),Ve(this,"lastValidatePromise",null),Ve(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Ve(this,"getInternalHooks",function(e){return e===cs?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(rt(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Ve(this,"useSubscribe",function(e){n.subscribable=e}),Ve(this,"prevWithoutPreserves",null),Ve(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var o,l=Io(e,n.store);null===(o=n.prevWithoutPreserves)||void 0===o||o.map(function(t){var n=t.key;l=go(l,n,ao(e,n))}),n.prevWithoutPreserves=null,n.updateStore(l)}}),Ve(this,"destroyForm",function(e){if(e)n.updateStore({});else{var t=new cd;n.getFieldEntities(!0).forEach(function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)}),n.prevWithoutPreserves=t}}),Ve(this,"getInitialValue",function(e){var t=ao(n.initialValues,e);return e.length?Io(t):t}),Ve(this,"setCallbacks",function(e){n.callbacks=e}),Ve(this,"setValidateMessages",function(e){n.validateMessages=e}),Ve(this,"setPreserve",function(e){n.preserve=e}),Ve(this,"watchList",[]),Ve(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),Ve(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,o,e)})}}),Ve(this,"timeoutId",null),Ve(this,"warningUnhooked",function(){0}),Ve(this,"updateStore",function(e){n.store=e}),Ve(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),Ve(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new cd;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),Ve(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=Us(e);return t.get(n)||{INVALIDATE_NAME_PATH:Us(e)}})}),Ve(this,"getFieldsValue",function(e,t){var o,l,r;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(o=e,l=t):e&&"object"===ke(e)&&(r=e.strict,l=e.filter),!0===o&&!l)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),i=[];return a.forEach(function(e){var t,n,a,g,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(r){if(null!==(a=(g=e).isList)&&void 0!==a&&a.call(g))return}else if(!o&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(l){var s="getMeta"in e?e.getMeta():null;l(s)&&i.push(c)}else i.push(c)}),Qs(n.store,i.map(Us))}),Ve(this,"getFieldValue",function(e){n.warningUnhooked();var t=Us(e);return ao(n.store,t)}),Ve(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Us(e[n]),errors:[],warnings:[]}})}),Ve(this,"getFieldError",function(e){n.warningUnhooked();var t=Us(e);return n.getFieldsError([t])[0].errors}),Ve(this,"getFieldWarning",function(e){n.warningUnhooked();var t=Us(e);return n.getFieldsError([t])[0].warnings}),Ve(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var l,r=t[0],a=t[1],i=!1;0===t.length?l=null:1===t.length?Array.isArray(r)?(l=r.map(Us),i=!1):(l=null,i=r):(l=r.map(Us),i=a);var g=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!l)return i?g.every(function(e){return c(e)||e.isList()}):g.some(c);var s=new cd;l.forEach(function(e){s.set(e,[])}),g.forEach(function(e){var t=e.getNamePath();l.forEach(function(n){n.every(function(e,n){return t[n]===e})&&s.update(n,function(t){return[].concat(Ye(t),[e])})})});var d=function(e){return e.some(c)},I=s.map(function(e){return e.value});return i?I.every(d):I.some(d)}),Ve(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),Ve(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var o=e.map(Us);return t.some(function(e){var t=e.getNamePath();return $s(o,t)&&e.isFieldValidating()})}),Ve(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),Ve(this,"resetWithFieldInitialValue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new cd,o=n.getFieldEntities(!0);o.forEach(function(e){var n=e.props.initialValue,o=e.getNamePath();if(void 0!==n){var l=t.get(o)||new Set;l.add({entity:e,value:n}),t.set(o,l)}});var l;e.entities?l=e.entities:e.namePathList?(l=[],e.namePathList.forEach(function(e){var n,o=t.get(e);o&&(n=l).push.apply(n,Ye(Ye(o).map(function(e){return e.entity})))})):l=o,l.forEach(function(o){if(void 0!==o.props.initialValue){var l=o.getNamePath();if(void 0!==n.getInitialValue(l))rt(!1,"Form already set 'initialValues' with path '".concat(l.join("."),"'. Field can not overwrite it."));else{var r=t.get(l);if(r&&r.size>1)rt(!1,"Multiple Field with path '".concat(l.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(r){var a=n.getFieldValue(l);o.isListField()||e.skipExist&&void 0!==a||n.updateStore(go(n.store,l,Ye(r)[0].value))}}}})}),Ve(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Io(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var o=e.map(Us);o.forEach(function(e){var t=n.getInitialValue(e);n.updateStore(go(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(t,o,{type:"reset"}),n.notifyWatch(o)}),Ve(this,"setFields",function(e){n.warningUnhooked();var t=n.store,o=[];e.forEach(function(e){var l=e.name,r=cr(e,sd),a=Us(l);o.push(a),"value"in r&&n.updateStore(go(n.store,a,r.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}),n.notifyWatch(o)}),Ve(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),o=Ee(Ee({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o})}),Ve(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var o=e.getNamePath();void 0===ao(n.store,o)&&n.updateStore(go(n.store,o,t))}}),Ve(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t}),Ve(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var o=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(o,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(l)&&(!o||r.length>1)){var a=o?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every(function(e){return!Ps(e.getNamePath(),t)})){var i=n.store;n.updateStore(go(i,t,a,!0)),n.notifyObservers(i,[t],{type:"remove"}),n.triggerDependenciesUpdate(i,t)}}n.notifyWatch([t])}}),Ve(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,o=e.value;n.updateValue(t,o);break;case"validateField":var l=e.namePath,r=e.triggerName;n.validateFields([l],{triggerName:r})}}),Ve(this,"notifyObservers",function(e,t,o){if(n.subscribable){var l=Ee(Ee({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,l)})}else n.forceRootUpdate()}),Ve(this,"triggerDependenciesUpdate",function(e,t){var o=n.getDependencyChildrenFields(t);return o.length&&n.validateFields(o),n.notifyObservers(e,o,{type:"dependenciesUpdate",relatedFields:[t].concat(Ye(o))}),o}),Ve(this,"updateValue",function(e,t){var o=Us(e),l=n.store;n.updateStore(go(n.store,o,t)),n.notifyObservers(l,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var r=n.triggerDependenciesUpdate(l,o),a=n.callbacks.onValuesChange;a&&a(Qs(n.store,[o]),n.getFieldsValue());n.triggerOnFieldsChange([o].concat(Ye(r)))}),Ve(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var o=Io(n.store,e);n.updateStore(o)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Ve(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])}),Ve(this,"getDependencyChildrenFields",function(e){var t=new Set,o=[],l=new cd;n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=Us(t);l.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})});return function e(n){(l.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var l=n.getNamePath();n.isFieldDirty()&&l.length&&(o.push(l),e(l))}})}(e),o}),Ve(this,"triggerOnFieldsChange",function(e,t){var o=n.callbacks.onFieldsChange;if(o){var l=n.getFields();if(t){var r=new cd;t.forEach(function(e){var t=e.name,n=e.errors;r.set(t,n)}),l.forEach(function(e){e.errors=r.get(e.name)||e.errors})}var a=l.filter(function(t){var n=t.name;return $s(e,n)});a.length&&o(a,l)}}),Ve(this,"validateFields",function(e,t){var o,l;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(o=e,l=t):l=e;var r=!!o,a=r?o.map(Us):[],i=[],g=String(Date.now()),c=new Set,s=l||{},d=s.recursive,I=s.dirty;n.getFieldEntities(!0).forEach(function(e){if(r||a.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!I||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(g)),!r||$s(a,t,d)){var o=e.validateRules(Ee({validateMessages:Ee(Ee({},Fs),n.validateMessages)},l));i.push(o.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,o=[],l=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?l.push.apply(l,Ye(n)):o.push.apply(o,Ye(n))}),o.length?Promise.reject({name:t,errors:o,warnings:l}):{name:t,errors:o,warnings:l}}))}}});var C=function(e){var t=!1,n=e.length,o=[];return e.length?new Promise(function(l,r){e.forEach(function(e,a){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,o[a]=e,n>0||(t&&r(o),l(o))})})}):Promise.resolve([])}(i);n.lastValidatePromise=C,C.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var u=C.then(function(){return n.lastValidatePromise===C?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==C})});u.catch(function(e){return e});var m=a.filter(function(e){return c.has(e.join(g))});return n.triggerOnFieldsChange(m),u}),Ve(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(o){console.error(o)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});const Id=function(e){var n=t.useRef(),o=He(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var l=new dd(function(){o({})});n.current=l.getForm()}return[n.current]};var Cd=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ud=function(e){var n=e.validateMessages,o=e.onFormChange,l=e.onFormFinish,r=e.children,a=t.useContext(Cd),i=t.useRef({});return t.createElement(Cd.Provider,{value:Ee(Ee({},a),{},{validateMessages:Ee(Ee({},a.validateMessages),n),triggerFormChange:function(e,t){o&&o(e,{changedFields:t,forms:i.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){l&&l(e,{values:t,forms:i.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(i.current=Ee(Ee({},i.current),{},Ve({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=Ee({},i.current);delete t[e],i.current=t,a.unregisterForm(e)}})},r)};const md=Cd;var Ad=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const bd=function(e,n){var o=e.name,l=e.initialValues,r=e.fields,a=e.form,i=e.preserve,g=e.children,c=e.component,s=void 0===c?"form":c,d=e.validateMessages,I=e.validateTrigger,C=void 0===I?"onChange":I,u=e.onValuesChange,m=e.onFieldsChange,A=e.onFinish,b=e.onFinishFailed,p=e.clearOnDestroy,h=cr(e,Ad),f=t.useRef(null),y=t.useContext(md),v=He(Id(a),1)[0],Z=v.getInternalHooks(cs),G=Z.useSubscribe,S=Z.setInitialValues,B=Z.setCallbacks,k=Z.setValidateMessages,W=Z.setPreserve,V=Z.destroyForm;t.useImperativeHandle(n,function(){return Ee(Ee({},v),{},{nativeElement:f.current})}),t.useEffect(function(){return y.registerForm(o,v),function(){y.unregisterForm(o)}},[y,v,o]),k(Ee(Ee({},y.validateMessages),d)),B({onValuesChange:u,onFieldsChange:function(e){if(y.triggerFormChange(o,e),m){for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];m.apply(void 0,[e].concat(n))}},onFinish:function(e){y.triggerFormFinish(o,e),A&&A(e)},onFinishFailed:b}),W(i);var R,w=t.useRef(null);S(l,!w.current),w.current||(w.current=!0),t.useEffect(function(){return function(){return V(p)}},[]);var X="function"===typeof g;X?R=g(v.getFieldsValue(!0),v):R=g;G(!X);var J=t.useRef();t.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==ke(e)||"object"!==ke(t))return!1;var n=Object.keys(e),o=Object.keys(t);return Ye(new Set([].concat(n,o))).every(function(n){var o=e[n],l=t[n];return"function"===typeof o&&"function"===typeof l||o===l})})(J.current||[],r||[])||v.setFields(r||[]),J.current=r},[r,v]);var H=t.useMemo(function(){return Ee(Ee({},v),{},{validateTrigger:C})},[v,C]),x=t.createElement(Is.Provider,{value:null},t.createElement(ds.Provider,{value:H},R));return!1===s?x:t.createElement(s,$t({},h,{ref:f,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),v.submit()},onReset:function(e){var t;e.preventDefault(),v.resetFields(),null===(t=h.onReset)||void 0===t||t.call(h,e)}}),x)};function pd(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var hd=function(){};const fd=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0],r=n[1],a=void 0===r?{}:r,i=function(e){return e&&!!e._init}(a)?{form:a}:a,g=i.form,c=He((0,t.useState)(),2),s=c[0],d=c[1],I=(0,t.useMemo)(function(){return pd(s)},[s]),C=(0,t.useRef)(I);C.current=I;var u=(0,t.useContext)(ds),m=g||u,A=m&&m._init,b=Us(l),p=(0,t.useRef)(b);return p.current=b,hd(b),(0,t.useEffect)(function(){if(A){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(cs).registerWatch,n=function(e,t){var n=i.preserve?t:e;return"function"===typeof l?l(n):ao(n,p.current)},o=t(function(e,t){var o=n(e,t),l=pd(o);C.current!==l&&(C.current=l,d(o))}),r=n(e(),e(!0));return s!==r&&d(r),o}},[A]),s};var yd=t.forwardRef(bd);yd.FormProvider=ud,yd.Field=ld,yd.List=rd,yd.useForm=Id,yd.useWatch=fd;const vd=yd,Zd=t.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Gd=t.createContext(null),Sd=e=>{const n=Pa(e,["prefixCls"]);return t.createElement(ud,Object.assign({},n))},Bd=t.createContext({prefixCls:""}),kd=t.createContext({});const Wd=e=>{let{children:n,status:o,override:l}=e;const r=t.useContext(kd),a=t.useMemo(()=>{const e=Object.assign({},r);return l&&delete e.isFormItemInput,o&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e},[o,l,r]);return t.createElement(kd.Provider,{value:a},n)},Vd=t.createContext(void 0),Rd=e=>{const n=t.useContext(Ml);return t.useMemo(()=>e?"string"===typeof e?null!==e&&void 0!==e?e:n:"function"===typeof e?e(n):n:n,[e,n])},wd=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Xd=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Jd=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},Hd=Ui("Space",e=>{const t=Ni(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[Xd(t),Jd(t),wd(t)]},()=>({}),{resetStyle:!1});var xd=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Yd=t.createContext(null),Nd=(e,n)=>{const o=t.useContext(Yd),l=t.useMemo(()=>{if(!o)return"";const{compactDirection:t,isFirstItem:l,isLastItem:r}=o,a="vertical"===t?"-vertical-":"-";return Ol()(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:l,[`${e}-compact${a}last-item`]:r,[`${e}-compact${a}item-rtl`]:"rtl"===n})},[e,n,o]);return{compactSize:null===o||void 0===o?void 0:o.compactSize,compactDirection:null===o||void 0===o?void 0:o.compactDirection,compactItemClassnames:l}},Ed=e=>{const{children:n}=e;return t.createElement(Yd.Provider,{value:null},n)},Fd=e=>{const{children:n}=e,o=xd(e,["children"]);return t.createElement(Yd.Provider,{value:t.useMemo(()=>o,[o])},n)},Kd=e=>{const{getPrefixCls:n,direction:o}=t.useContext(Rl),{size:l,direction:r,block:a,prefixCls:i,className:g,rootClassName:c,children:s}=e,d=xd(e,["size","direction","block","prefixCls","className","rootClassName","children"]),I=Rd(e=>null!==l&&void 0!==l?l:e),C=n("space-compact",i),[u,m]=Hd(C),A=Ol()(C,m,{[`${C}-rtl`]:"rtl"===o,[`${C}-block`]:a,[`${C}-vertical`]:"vertical"===r},g,c),b=t.useContext(Yd),p=_a(s),h=t.useMemo(()=>p.map((e,n)=>{const o=(null===e||void 0===e?void 0:e.key)||`${C}-item-${n}`;return t.createElement(Fd,{key:o,compactSize:I,compactDirection:r,isFirstItem:0===n&&(!b||(null===b||void 0===b?void 0:b.isFirstItem)),isLastItem:n===p.length-1&&(!b||(null===b||void 0===b?void 0:b.isLastItem))},e)}),[l,p,b]);return 0===p.length?null:u(t.createElement("div",Object.assign({className:A},d),h))},Md=e=>{const{space:n,form:o,children:l}=e;if(void 0===l||null===l)return null;let r=l;return o&&(r=t.createElement(Wd,{override:!0,status:!0},r)),n&&(r=t.createElement(Ed,null,r)),r};const zd=t.createContext(void 0),Ld=100,Dd=1e3,Td={Modal:Ld,Drawer:Ld,Popover:Ld,Popconfirm:Ld,Tooltip:Ld,Tour:Ld,FloatButton:Ld},jd={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const Od=(e,n)=>{const[,o]=Wa(),l=t.useContext(zd),r=function(e){return e in Td}(e);let a;if(void 0!==n)a=[n,n];else{let t=null!==l&&void 0!==l?l:0;t+=r?(l?0:o.zIndexPopupBase)+Td[e]:jd[e],a=[void 0===l?n:t,t]}return a},Ud=()=>({height:0,opacity:0}),Qd=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},$d=e=>({height:e?e.offsetHeight:0}),Pd=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,qd=(e,t,n)=>void 0!==n?n:`${e}-${t}`,_d=function(){return{motionName:`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl}-motion-collapse`,onAppearStart:Ud,onEnterStart:Ud,onAppearActive:Qd,onEnterActive:Qd,onLeaveStart:$d,onLeaveActive:Ud,onAppearEnd:Pd,onEnterEnd:Pd,onLeaveEnd:Pd,motionDeadline:500}};function eI(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:o}=e,l=t/2,r=l,a=1*o/Math.sqrt(2),i=l-o*(1-1/Math.sqrt(2)),g=l-n*(1/Math.sqrt(2)),c=o*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),s=2*l-g,d=c,I=2*l-a,C=i,u=2*l-0,m=r,A=l*Math.sqrt(2)+o*(Math.sqrt(2)-2),b=o*(Math.sqrt(2)-1);return{arrowShadowWidth:A,arrowPath:`path('M 0 ${r} A ${o} ${o} 0 0 0 ${a} ${i} L ${g} ${c} A ${n} ${n} 0 0 1 ${s} ${d} L ${I} ${C} A ${o} ${o} 0 0 0 ${u} ${m} Z')`,arrowPolygon:`polygon(${b}px 100%, 50% ${b}px, ${2*l-b}px 100%, ${b}px 100%)`}}const tI=(e,t,n)=>{const{sizePopupArrow:o,arrowPolygon:l,arrowPath:r,arrowShadowWidth:a,borderRadiusXS:i,calc:g}=e;return{pointerEvents:"none",width:o,height:o,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:o,height:g(o).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[l,r]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${wt(i)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function nI(e){const{contentRadius:t,limitVerticalRadius:n}=e,o=t>12?t+2:12;return{arrowOffsetHorizontal:o,arrowOffsetVertical:n?8:o}}function oI(e,t){return e?t:{}}function lI(e,t,n){const{componentCls:o,boxShadowPopoverArrow:l,arrowOffsetVertical:r,arrowOffsetHorizontal:a}=e,{arrowDistance:i=0,arrowPlacement:g={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({[`${o}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},tI(e,t,l)),{"&:before":{background:t}})]},oI(!!g.top,{[[`&-placement-top > ${o}-arrow`,`&-placement-topLeft > ${o}-arrow`,`&-placement-topRight > ${o}-arrow`].join(",")]:{bottom:i,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${o}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${o}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${wt(a)})`,[`> ${o}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),oI(!!g.bottom,{[[`&-placement-bottom > ${o}-arrow`,`&-placement-bottomLeft > ${o}-arrow`,`&-placement-bottomRight > ${o}-arrow`].join(",")]:{top:i,transform:"translateY(-100%)"},[`&-placement-bottom > ${o}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${o}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${wt(a)})`,[`> ${o}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),oI(!!g.left,{[[`&-placement-left > ${o}-arrow`,`&-placement-leftTop > ${o}-arrow`,`&-placement-leftBottom > ${o}-arrow`].join(",")]:{right:{_skip_check_:!0,value:i},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${o}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${o}-arrow`]:{top:r},[`&-placement-leftBottom > ${o}-arrow`]:{bottom:r}})),oI(!!g.right,{[[`&-placement-right > ${o}-arrow`,`&-placement-rightTop > ${o}-arrow`,`&-placement-rightBottom > ${o}-arrow`].join(",")]:{left:{_skip_check_:!0,value:i},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${o}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${o}-arrow`]:{top:r},[`&-placement-rightBottom > ${o}-arrow`]:{bottom:r}}))}}const rI={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},aI={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},iI=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function gI(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:o,offset:l,borderRadius:r,visibleFirst:a}=e,i=t/2,g={};return Object.keys(rI).forEach(e=>{const c=o&&aI[e]||rI[e],s=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(g[e]=s,iI.has(e)&&(s.autoArrow=!1),e){case"top":case"topLeft":case"topRight":s.offset[1]=-i-l;break;case"bottom":case"bottomLeft":case"bottomRight":s.offset[1]=i+l;break;case"left":case"leftTop":case"leftBottom":s.offset[0]=-i-l;break;case"right":case"rightTop":case"rightBottom":s.offset[0]=i+l}const d=nI({contentRadius:r,limitVerticalRadius:!0});if(o)switch(e){case"topLeft":case"bottomLeft":s.offset[0]=-d.arrowOffsetHorizontal-i;break;case"topRight":case"bottomRight":s.offset[0]=d.arrowOffsetHorizontal+i;break;case"leftTop":case"rightTop":s.offset[1]=2*-d.arrowOffsetHorizontal+i;break;case"leftBottom":case"rightBottom":s.offset[1]=2*d.arrowOffsetHorizontal-i}s.overflow=function(e,t,n,o){if(!1===o)return{adjustX:!1,adjustY:!1};const l=o&&"object"===typeof o?o:{},r={};switch(e){case"top":case"bottom":r.shiftX=2*t.arrowOffsetHorizontal+n,r.shiftY=!0,r.adjustY=!0;break;case"left":case"right":r.shiftY=2*t.arrowOffsetVertical+n,r.shiftX=!0,r.adjustX=!0}const a=Object.assign(Object.assign({},r),l);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(e,d,t,n),a&&(s.htmlRegion="visibleFirst")}),g}function cI(e){return e&&t.isValidElement(e)&&e.type===t.Fragment}const sI=(e,n,o)=>t.isValidElement(e)?t.cloneElement(e,"function"===typeof o?o(e.props||{}):o):n;function dI(e,t){return sI(e,e,t)}const II=e=>({animationDuration:e,animationFillMode:"both"}),CI=e=>({animationDuration:e,animationFillMode:"both"}),uI=function(e,t,n,o){const l=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${l}${e}-enter,\n      ${l}${e}-appear\n    `]:Object.assign(Object.assign({},II(o)),{animationPlayState:"paused"}),[`${l}${e}-leave`]:Object.assign(Object.assign({},CI(o)),{animationPlayState:"paused"}),[`\n      ${l}${e}-enter${e}-enter-active,\n      ${l}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${l}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},mI=new no("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),AI=new no("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),bI=new no("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),pI=new no("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),hI=new no("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),fI=new no("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),yI=new no("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),vI=new no("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),ZI=new no("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),GI=new no("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),SI=new no("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),BI=new no("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),kI={zoom:{inKeyframes:mI,outKeyframes:AI},"zoom-big":{inKeyframes:bI,outKeyframes:pI},"zoom-big-fast":{inKeyframes:bI,outKeyframes:pI},"zoom-left":{inKeyframes:yI,outKeyframes:vI},"zoom-right":{inKeyframes:ZI,outKeyframes:GI},"zoom-up":{inKeyframes:hI,outKeyframes:fI},"zoom-down":{inKeyframes:SI,outKeyframes:BI}},WI=(e,t)=>{const{antCls:n}=e,o=`${n}-${t}`,{inKeyframes:l,outKeyframes:r}=kI[t];return[uI(o,l,r,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${o}-enter,\n        ${o}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${o}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},VI=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function RI(e,t){return VI.reduce((n,o)=>{const l=e[`${o}1`],r=e[`${o}3`],a=e[`${o}6`],i=e[`${o}7`];return Object.assign(Object.assign({},n),t(o,{lightColor:l,lightBorderColor:r,darkColor:a,textColor:i}))},{})}const wI=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:o,tooltipColor:l,tooltipBg:r,tooltipBorderRadius:a,zIndexPopup:i,controlHeight:g,boxShadowSecondary:c,paddingSM:s,paddingXS:d,arrowOffsetHorizontal:I,sizePopupArrow:C}=e,u=t(a).add(C).add(I).equal(),m=t(a).mul(2).add(C).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{position:"absolute",zIndex:i,display:"block",width:"max-content",maxWidth:o,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${n}-inner`]:{minWidth:m,minHeight:g,padding:`${wt(e.calc(s).div(2).equal())} ${wt(d)}`,color:l,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:u},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(a,8)}},[`${n}-content`]:{position:"relative"}}),RI(e,(e,t)=>{let{darkColor:o}=t;return{[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:o},[`${n}-arrow`]:{"--antd-arrow-background-color":o}}}})),{"&-rtl":{direction:"rtl"}})},lI(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},XI=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},nI({contentRadius:e.borderRadius,limitVerticalRadius:!0})),eI(Ni(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),JI=function(e){const t=Ui("Tooltip",e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:o}=e,l=Ni(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:o});return[wI(l),WI(e,"zoom-big-fast")]},XI,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},HI=VI.map(e=>`${e}-inverse`),xI=["success","processing","error","default","warning"];function YI(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[].concat(Ye(HI),Ye(VI)).includes(e):VI.includes(e)}function NI(e,t){const n=YI(t),o=Ol()({[`${e}-${t}`]:t&&n}),l={},r={};return t&&!n&&(l.background=t,r["--antd-arrow-background-color"]=t),{className:o,overlayStyle:l,arrowStyle:r}}const EI=e=>{const{prefixCls:n,className:o,placement:l="top",title:r,color:a,overlayInnerStyle:i}=e,{getPrefixCls:g}=t.useContext(Rl),c=g("tooltip",n),[s,d,I]=JI(c),C=NI(c,a),u=C.arrowStyle,m=Object.assign(Object.assign({},i),C.overlayStyle),A=Ol()(d,I,c,`${c}-pure`,`${c}-placement-${l}`,o,C.className);return s(t.createElement("div",{className:A,style:u},t.createElement("div",{className:`${c}-arrow`}),t.createElement(nc,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:m}),r)))};var FI=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const KI=t.forwardRef((e,n)=>{var o,l;const{prefixCls:r,openClassName:a,getTooltipContainer:i,color:g,overlayInnerStyle:c,children:s,afterOpenChange:d,afterVisibleChange:I,destroyTooltipOnHide:C,destroyOnHidden:u,arrow:m=!0,title:A,overlay:b,builtinPlacements:p,arrowPointAtCenter:h=!1,autoAdjustOverflow:f=!0,motion:y,getPopupContainer:v,placement:Z="top",mouseEnterDelay:G=.1,mouseLeaveDelay:S=.1,overlayStyle:B,rootClassName:k,overlayClassName:W,styles:V,classNames:R}=e,w=FI(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),X=!!m,[,J]=Wa(),{getPopupContainer:H,getPrefixCls:x,direction:Y,className:N,style:E,classNames:F,styles:K}=Jl("tooltip"),M=mo("Tooltip"),z=t.useRef(null),L=()=>{var e;null===(e=z.current)||void 0===e||e.forceAlign()};t.useImperativeHandle(n,()=>{var e,t;return{forceAlign:L,forcePopupAlign:()=>{M.deprecated(!1,"forcePopupAlign","forceAlign"),L()},nativeElement:null===(e=z.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=z.current)||void 0===t?void 0:t.popupElement}});const[D,T]=Gr(!1,{value:null!==(o=e.open)&&void 0!==o?o:e.visible,defaultValue:null!==(l=e.defaultOpen)&&void 0!==l?l:e.defaultVisible}),j=!A&&!b&&0!==A,O=t.useMemo(()=>{var e,t;let n=h;return"object"===typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:h),p||gI({arrowPointAtCenter:n,autoAdjustOverflow:f,arrowWidth:X?J.sizePopupArrow:0,borderRadius:J.borderRadius,offset:J.marginXXS,visibleFirst:!0})},[h,m,p,J]),U=t.useMemo(()=>0===A?A:b||A||"",[b,A]),Q=t.createElement(Md,{space:!0},"function"===typeof U?U():U),$=x("tooltip",r),P=x(),q=e["data-popover-inject"];let _=D;"open"in e||"visible"in e||!j||(_=!1);const ee=t.isValidElement(s)&&!cI(s)?s:t.createElement("span",null,s),te=ee.props,ne=te.className&&"string"!==typeof te.className?te.className:Ol()(te.className,a||`${$}-open`),[oe,le,re]=JI($,!q),ae=NI($,g),ie=ae.arrowStyle,ge=Ol()(W,{[`${$}-rtl`]:"rtl"===Y},ae.className,k,le,re,N,F.root,null===R||void 0===R?void 0:R.root),ce=Ol()(F.body,null===R||void 0===R?void 0:R.body),[se,de]=Od("Tooltip",w.zIndex),Ie=t.createElement(Pc,Object.assign({},w,{zIndex:se,showArrow:X,placement:Z,mouseEnterDelay:G,mouseLeaveDelay:S,prefixCls:$,classNames:{root:ge,body:ce},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ie),K.root),E),B),null===V||void 0===V?void 0:V.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},K.body),c),null===V||void 0===V?void 0:V.body),ae.overlayStyle)},getTooltipContainer:v||i||H,ref:z,builtinPlacements:O,overlay:Q,visible:_,onVisibleChange:t=>{var n,o;T(!j&&t),j||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t))},afterVisibleChange:null!==d&&void 0!==d?d:I,arrowContent:t.createElement("span",{className:`${$}-arrow-content`}),motion:{motionName:qd(P,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:null!==u&&void 0!==u?u:!!C}),_?dI(ee,{className:ne}):ee);return oe(t.createElement(zd.Provider,{value:de},Ie))}),MI=KI;MI._InternalPanelDoNotUseOrYouWillBeFired=EI;const zI=MI;const LI={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};var DI=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:LI}))};const TI=t.forwardRef(DI);var jI={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=jI.F1&&t<=jI.F12)return!1;switch(t){case jI.ALT:case jI.CAPS_LOCK:case jI.CONTEXT_MENU:case jI.CTRL:case jI.DOWN:case jI.END:case jI.ESC:case jI.HOME:case jI.INSERT:case jI.LEFT:case jI.MAC_FF_META:case jI.META:case jI.NUMLOCK:case jI.NUM_CENTER:case jI.PAGE_DOWN:case jI.PAGE_UP:case jI.PAUSE:case jI.PRINT_SCREEN:case jI.RIGHT:case jI.SHIFT:case jI.UP:case jI.WIN_KEY:case jI.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=jI.ZERO&&e<=jI.NINE)return!0;if(e>=jI.NUM_ZERO&&e<=jI.NUM_MULTIPLY)return!0;if(e>=jI.A&&e<=jI.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case jI.SPACE:case jI.QUESTION_MARK:case jI.NUM_PLUS:case jI.NUM_MINUS:case jI.NUM_PERIOD:case jI.NUM_DIVISION:case jI.SEMICOLON:case jI.DASH:case jI.EQUALS:case jI.COMMA:case jI.PERIOD:case jI.SLASH:case jI.APOSTROPHE:case jI.SINGLE_QUOTE:case jI.OPEN_SQUARE_BRACKET:case jI.BACKSLASH:case jI.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const OI=jI;function UI(e,t,n){var o=t.cloneNode(!0),l=Object.create(e,{target:{value:o},currentTarget:{value:o}});return o.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(o.selectionStart=t.selectionStart,o.selectionEnd=t.selectionEnd),o.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},l}function QI(e,t,n,o){if(n){var l=t;"click"!==t.type?"file"===e.type||void 0===o?n(l):n(l=UI(t,e,o)):n(l=UI(t,e,""))}}function $I(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var o=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(o,o);break;default:e.setSelectionRange(0,o)}}}}var PI=t.forwardRef(function(e,n){var o,l,r,a=e.inputElement,i=e.children,g=e.prefixCls,c=e.prefix,s=e.suffix,d=e.addonBefore,I=e.addonAfter,C=e.className,u=e.style,m=e.disabled,A=e.readOnly,b=e.focused,p=e.triggerFocus,h=e.allowClear,f=e.value,y=e.handleReset,v=e.hidden,Z=e.classes,G=e.classNames,S=e.dataAttrs,B=e.styles,k=e.components,W=e.onClear,V=null!==i&&void 0!==i?i:a,R=(null===k||void 0===k?void 0:k.affixWrapper)||"span",w=(null===k||void 0===k?void 0:k.groupWrapper)||"span",X=(null===k||void 0===k?void 0:k.wrapper)||"span",J=(null===k||void 0===k?void 0:k.groupAddon)||"span",H=(0,t.useRef)(null),x=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),Y=(0,t.cloneElement)(V,{value:f,className:Ol()(null===(o=V.props)||void 0===o?void 0:o.className,!x&&(null===G||void 0===G?void 0:G.variant))||null}),N=(0,t.useRef)(null);if(t.useImperativeHandle(n,function(){return{nativeElement:N.current||H.current}}),x){var E=null;if(h){var F=!m&&!A&&f,K="".concat(g,"-clear-icon"),M="object"===ke(h)&&null!==h&&void 0!==h&&h.clearIcon?h.clearIcon:"\u2716";E=t.createElement("button",{type:"button",tabIndex:-1,onClick:function(e){null===y||void 0===y||y(e),null===W||void 0===W||W()},onMouseDown:function(e){return e.preventDefault()},className:Ol()(K,Ve(Ve({},"".concat(K,"-hidden"),!F),"".concat(K,"-has-suffix"),!!s))},M)}var z="".concat(g,"-affix-wrapper"),L=Ol()(z,Ve(Ve(Ve(Ve(Ve({},"".concat(g,"-disabled"),m),"".concat(z,"-disabled"),m),"".concat(z,"-focused"),b),"".concat(z,"-readonly"),A),"".concat(z,"-input-with-clear-btn"),s&&h&&f),null===Z||void 0===Z?void 0:Z.affixWrapper,null===G||void 0===G?void 0:G.affixWrapper,null===G||void 0===G?void 0:G.variant),D=(s||h)&&t.createElement("span",{className:Ol()("".concat(g,"-suffix"),null===G||void 0===G?void 0:G.suffix),style:null===B||void 0===B?void 0:B.suffix},E,s);Y=t.createElement(R,$t({className:L,style:null===B||void 0===B?void 0:B.affixWrapper,onClick:function(e){var t;null!==(t=H.current)&&void 0!==t&&t.contains(e.target)&&(null===p||void 0===p||p())}},null===S||void 0===S?void 0:S.affixWrapper,{ref:H}),c&&t.createElement("span",{className:Ol()("".concat(g,"-prefix"),null===G||void 0===G?void 0:G.prefix),style:null===B||void 0===B?void 0:B.prefix},c),Y,D)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var T="".concat(g,"-group"),j="".concat(T,"-addon"),O="".concat(T,"-wrapper"),U=Ol()("".concat(g,"-wrapper"),T,null===Z||void 0===Z?void 0:Z.wrapper,null===G||void 0===G?void 0:G.wrapper),Q=Ol()(O,Ve({},"".concat(O,"-disabled"),m),null===Z||void 0===Z?void 0:Z.group,null===G||void 0===G?void 0:G.groupWrapper);Y=t.createElement(w,{className:Q,ref:N},t.createElement(X,{className:U},d&&t.createElement(J,{className:j},d),Y,I&&t.createElement(J,{className:j},I)))}return t.cloneElement(Y,{className:Ol()(null===(l=Y.props)||void 0===l?void 0:l.className,C)||null,style:Ee(Ee({},null===(r=Y.props)||void 0===r?void 0:r.style),u),hidden:v})});const qI=PI;var _I=["show"];function eC(e,n){return t.useMemo(function(){var t={};n&&(t.show="object"===ke(n)&&n.formatter?n.formatter:!!n);var o=t=Ee(Ee({},t),e),l=o.show,r=cr(o,_I);return Ee(Ee({},r),{},{show:!!l,showFormatter:"function"===typeof l?l:void 0,strategy:r.strategy||function(e){return e.length}})},[e,n])}var tC=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],nC=(0,t.forwardRef)(function(e,n){var o=e.autoComplete,l=e.onChange,r=e.onFocus,a=e.onBlur,i=e.onPressEnter,g=e.onKeyDown,c=e.onKeyUp,s=e.prefixCls,d=void 0===s?"rc-input":s,I=e.disabled,C=e.htmlSize,u=e.className,m=e.maxLength,A=e.suffix,b=e.showCount,p=e.count,h=e.type,f=void 0===h?"text":h,y=e.classes,v=e.classNames,Z=e.styles,G=e.onCompositionStart,S=e.onCompositionEnd,B=cr(e,tC),k=He((0,t.useState)(!1),2),W=k[0],V=k[1],R=(0,t.useRef)(!1),w=(0,t.useRef)(!1),X=(0,t.useRef)(null),J=(0,t.useRef)(null),H=function(e){X.current&&$I(X.current,e)},x=He(Gr(e.defaultValue,{value:e.value}),2),Y=x[0],N=x[1],E=void 0===Y||null===Y?"":String(Y),F=He((0,t.useState)(null),2),K=F[0],M=F[1],z=eC(p,b),L=z.max||m,D=z.strategy(E),T=!!L&&D>L;(0,t.useImperativeHandle)(n,function(){var e;return{focus:H,blur:function(){var e;null===(e=X.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var o;null===(o=X.current)||void 0===o||o.setSelectionRange(e,t,n)},select:function(){var e;null===(e=X.current)||void 0===e||e.select()},input:X.current,nativeElement:(null===(e=J.current)||void 0===e?void 0:e.nativeElement)||X.current}}),(0,t.useEffect)(function(){w.current&&(w.current=!1),V(function(e){return(!e||!I)&&e})},[I]);var j=function(e,t,n){var o,r,a=t;if(!R.current&&z.exceedFormatter&&z.max&&z.strategy(t)>z.max)t!==(a=z.exceedFormatter(t,{max:z.max}))&&M([(null===(o=X.current)||void 0===o?void 0:o.selectionStart)||0,(null===(r=X.current)||void 0===r?void 0:r.selectionEnd)||0]);else if("compositionEnd"===n.source)return;N(a),X.current&&QI(X.current,e,l,a)};(0,t.useEffect)(function(){var e;K&&(null===(e=X.current)||void 0===e||e.setSelectionRange.apply(e,Ye(K)))},[K]);var O=function(e){j(e,e.target.value,{source:"change"})},U=function(e){R.current=!1,j(e,e.currentTarget.value,{source:"compositionEnd"}),null===S||void 0===S||S(e)},Q=function(e){i&&"Enter"===e.key&&!w.current&&(w.current=!0,i(e)),null===g||void 0===g||g(e)},$=function(e){"Enter"===e.key&&(w.current=!1),null===c||void 0===c||c(e)},P=function(e){V(!0),null===r||void 0===r||r(e)},q=function(e){w.current&&(w.current=!1),V(!1),null===a||void 0===a||a(e)},_=T&&"".concat(d,"-out-of-range");return t.createElement(qI,$t({},B,{prefixCls:d,className:Ol()(u,_),handleReset:function(e){N(""),H(),X.current&&QI(X.current,e,l)},value:E,focused:W,triggerFocus:H,suffix:function(){var e=Number(L)>0;if(A||z.show){var n=z.showFormatter?z.showFormatter({value:E,count:D,maxLength:L}):"".concat(D).concat(e?" / ".concat(L):"");return t.createElement(t.Fragment,null,z.show&&t.createElement("span",{className:Ol()("".concat(d,"-show-count-suffix"),Ve({},"".concat(d,"-show-count-has-suffix"),!!A),null===v||void 0===v?void 0:v.count),style:Ee({},null===Z||void 0===Z?void 0:Z.count)},n),A)}return null}(),disabled:I,classes:y,classNames:v,styles:Z,ref:J}),function(){var n=Pa(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return t.createElement("input",$t({autoComplete:o},n,{onChange:O,onFocus:P,onBlur:q,onKeyDown:Q,onKeyUp:$,className:Ol()(d,Ve({},"".concat(d,"-disabled"),I),null===v||void 0===v?void 0:v.input),style:null===Z||void 0===Z?void 0:Z.input,ref:X,size:C,type:f,onCompositionStart:function(e){R.current=!0,null===G||void 0===G||G(e)},onCompositionEnd:U}))}())});const oC=nC;var lC,rC=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],aC={};function iC(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;lC||((lC=document.createElement("textarea")).setAttribute("tab-index","-1"),lC.setAttribute("aria-hidden","true"),lC.setAttribute("name","hiddenTextarea"),document.body.appendChild(lC)),e.getAttribute("wrap")?lC.setAttribute("wrap",e.getAttribute("wrap")):lC.removeAttribute("wrap");var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&aC[n])return aC[n];var o=window.getComputedStyle(e),l=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),r=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),a=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),i={sizingStyle:rC.map(function(e){return"".concat(e,":").concat(o.getPropertyValue(e))}).join(";"),paddingSize:r,borderSize:a,boxSizing:l};return t&&n&&(aC[n]=i),i}(e,t),r=l.paddingSize,a=l.borderSize,i=l.boxSizing,g=l.sizingStyle;lC.setAttribute("style","".concat(g,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),lC.value=e.value||e.placeholder||"";var c,s=void 0,d=void 0,I=lC.scrollHeight;if("border-box"===i?I+=a:"content-box"===i&&(I-=r),null!==n||null!==o){lC.value=" ";var C=lC.scrollHeight-r;null!==n&&(s=C*n,"border-box"===i&&(s=s+r+a),I=Math.max(s,I)),null!==o&&(d=C*o,"border-box"===i&&(d=d+r+a),c=I>d?"":"hidden",I=Math.min(d,I))}var u={height:I,overflowY:c,resize:"none"};return s&&(u.minHeight=s),d&&(u.maxHeight=d),u}var gC=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],cC=t.forwardRef(function(e,n){var o=e,l=o.prefixCls,r=o.defaultValue,a=o.value,i=o.autoSize,g=o.onResize,c=o.className,s=o.style,d=o.disabled,I=o.onChange,C=(o.onInternalAutoSize,cr(o,gC)),u=He(Gr(r,{value:a,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),m=u[0],A=u[1],b=t.useRef();t.useImperativeHandle(n,function(){return{textArea:b.current}});var p=He(t.useMemo(function(){return i&&"object"===ke(i)?[i.minRows,i.maxRows]:[]},[i]),2),h=p[0],f=p[1],y=!!i,v=He(t.useState(2),2),Z=v[0],G=v[1],S=He(t.useState(),2),B=S[0],k=S[1],W=function(){G(0)};Ft(function(){y&&W()},[a,h,f,y]),Ft(function(){if(0===Z)G(1);else if(1===Z){var e=iC(b.current,!1,h,f);G(2),k(e)}else!function(){try{if(document.activeElement===b.current){var e=b.current,t=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;b.current.setSelectionRange(t,n),b.current.scrollTop=o}}catch(PV){}}()},[Z]);var V=t.useRef(),R=function(){ea.cancel(V.current)};t.useEffect(function(){return R},[]);var w=y?B:null,X=Ee(Ee({},s),w);return 0!==Z&&1!==Z||(X.overflowY="hidden",X.overflowX="hidden"),t.createElement(qg,{onResize:function(e){2===Z&&(null===g||void 0===g||g(e),i&&(R(),V.current=ea(function(){W()})))},disabled:!(i||g)},t.createElement("textarea",$t({},C,{ref:b,style:X,className:Ol()(l,c,Ve({},"".concat(l,"-disabled"),d)),disabled:d,value:m,onChange:function(e){A(e.target.value),null===I||void 0===I||I(e)}})))});const sC=cC;var dC=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],IC=t.forwardRef(function(e,n){var o,l=e.defaultValue,r=e.value,a=e.onFocus,i=e.onBlur,g=e.onChange,c=e.allowClear,s=e.maxLength,d=e.onCompositionStart,I=e.onCompositionEnd,C=e.suffix,u=e.prefixCls,m=void 0===u?"rc-textarea":u,A=e.showCount,b=e.count,p=e.className,h=e.style,f=e.disabled,y=e.hidden,v=e.classNames,Z=e.styles,G=e.onResize,S=e.onClear,B=e.onPressEnter,k=e.readOnly,W=e.autoSize,V=e.onKeyDown,R=cr(e,dC),w=He(Gr(l,{value:r,defaultValue:l}),2),X=w[0],J=w[1],H=void 0===X||null===X?"":String(X),x=He(t.useState(!1),2),Y=x[0],N=x[1],E=t.useRef(!1),F=He(t.useState(null),2),K=F[0],M=F[1],z=(0,t.useRef)(null),L=(0,t.useRef)(null),D=function(){var e;return null===(e=L.current)||void 0===e?void 0:e.textArea},T=function(){D().focus()};(0,t.useImperativeHandle)(n,function(){var e;return{resizableTextArea:L.current,focus:T,blur:function(){D().blur()},nativeElement:(null===(e=z.current)||void 0===e?void 0:e.nativeElement)||D()}}),(0,t.useEffect)(function(){N(function(e){return!f&&e})},[f]);var j=He(t.useState(null),2),O=j[0],U=j[1];t.useEffect(function(){var e;O&&(e=D()).setSelectionRange.apply(e,Ye(O))},[O]);var Q,$=eC(b,A),P=null!==(o=$.max)&&void 0!==o?o:s,q=Number(P)>0,_=$.strategy(H),ee=!!P&&_>P,te=function(e,t){var n=t;!E.current&&$.exceedFormatter&&$.max&&$.strategy(t)>$.max&&t!==(n=$.exceedFormatter(t,{max:$.max}))&&U([D().selectionStart||0,D().selectionEnd||0]),J(n),QI(e.currentTarget,e,g,n)},ne=C;$.show&&(Q=$.showFormatter?$.showFormatter({value:H,count:_,maxLength:P}):"".concat(_).concat(q?" / ".concat(P):""),ne=t.createElement(t.Fragment,null,ne,t.createElement("span",{className:Ol()("".concat(m,"-data-count"),null===v||void 0===v?void 0:v.count),style:null===Z||void 0===Z?void 0:Z.count},Q)));var oe=!W&&!A&&!c;return t.createElement(qI,{ref:z,value:H,allowClear:c,handleReset:function(e){J(""),T(),QI(D(),e,g)},suffix:ne,prefixCls:m,classNames:Ee(Ee({},v),{},{affixWrapper:Ol()(null===v||void 0===v?void 0:v.affixWrapper,Ve(Ve({},"".concat(m,"-show-count"),A),"".concat(m,"-textarea-allow-clear"),c))}),disabled:f,focused:Y,className:Ol()(p,ee&&"".concat(m,"-out-of-range")),style:Ee(Ee({},h),K&&!oe?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof Q?Q:void 0}},hidden:y,readOnly:k,onClear:S},t.createElement(sC,$t({},R,{autoSize:W,maxLength:s,onKeyDown:function(e){"Enter"===e.key&&B&&B(e),null===V||void 0===V||V(e)},onChange:function(e){te(e,e.target.value)},onFocus:function(e){N(!0),null===a||void 0===a||a(e)},onBlur:function(e){N(!1),null===i||void 0===i||i(e)},onCompositionStart:function(e){E.current=!0,null===d||void 0===d||d(e)},onCompositionEnd:function(e){E.current=!1,te(e,e.currentTarget.value),null===I||void 0===I||I(e)},className:Ol()(null===v||void 0===v?void 0:v.textarea),style:Ee(Ee({},null===Z||void 0===Z?void 0:Z.textarea),{},{resize:null===h||void 0===h?void 0:h.resize}),disabled:f,prefixCls:m,onResize:function(e){var t;null===G||void 0===G||G(e),null!==(t=D())&&void 0!==t&&t.style.height&&M(!0)},ref:L,readOnly:k})))});const CC=IC;const uC={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var mC=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:uC}))};const AC=t.forwardRef(mC),bC=e=>{let n;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?n=e:e&&(n={clearIcon:t.createElement(AC,null)}),n};function pC(e,t,n){return Ol()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}const hC=(e,t)=>t||e,fC=e=>{const[,,,,t]=Wa();return t?`${e}-css-var`:""},yC=function(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var l,r;const{variant:a,[e]:i}=t.useContext(Rl),g=t.useContext(Vd),c=null===i||void 0===i?void 0:i.variant;let s;s="undefined"!==typeof n?n:!1===o?"borderless":null!==(r=null!==(l=null!==g&&void 0!==g?g:c)&&void 0!==l?l:a)&&void 0!==r?r:"outlined";return[s,Vl.includes(s)]};function vC(e,t,n){const{focusElCls:o,focus:l,borderElCls:r}=n,a=r?"> *":"",i=["hover",l?"focus":null,"active"].filter(Boolean).map(e=>`&:${e} ${a}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[i]:{zIndex:2}},o?{[`&${o}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function ZC(e,t,n){const{borderElCls:o}=n,l=o?`> ${o}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${l}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function GC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,o=`${n}-compact`;return{[o]:Object.assign(Object.assign({},vC(e,o,t)),ZC(n,o,t))}}function SC(e){return Ni(e,{inputAffixPadding:e.paddingXXS})}const BC=e=>{const{controlHeight:t,fontSize:n,lineHeight:o,lineWidth:l,controlHeightSM:r,controlHeightLG:a,fontSizeLG:i,lineHeightLG:g,paddingSM:c,controlPaddingHorizontalSM:s,controlPaddingHorizontal:d,colorFillAlter:I,colorPrimaryHover:C,colorPrimary:u,controlOutlineWidth:m,controlOutline:A,colorErrorOutline:b,colorWarningOutline:p,colorBgContainer:h,inputFontSize:f,inputFontSizeLG:y,inputFontSizeSM:v}=e,Z=f||n,G=v||Z,S=y||i,B=Math.round((t-Z*o)/2*10)/10-l,k=Math.round((r-G*o)/2*10)/10-l,W=Math.ceil((a-S*g)/2*10)/10-l;return{paddingBlock:Math.max(B,0),paddingBlockSM:Math.max(k,0),paddingBlockLG:Math.max(W,0),paddingInline:c-l,paddingInlineSM:s-l,paddingInlineLG:d-l,addonBg:I,activeBorderColor:u,hoverBorderColor:C,activeShadow:`0 0 0 ${m}px ${A}`,errorActiveShadow:`0 0 0 ${m}px ${b}`,warningActiveShadow:`0 0 0 ${m}px ${p}`,hoverBg:h,activeBg:h,inputFontSize:Z,inputFontSizeLG:S,inputFontSizeSM:G}},kC=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),WC=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},kC(Ni(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),VC=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),RC=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},VC(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),wC=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VC(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},WC(e))}),RC(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),RC(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),XC=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),JC=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},XC(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),XC(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},WC(e))}})}),HC=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},xC=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null!==(n=null===t||void 0===t?void 0:t.inputColor)&&void 0!==n?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},YC=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},xC(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),NC=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xC(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},WC(e))}),YC(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),YC(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),EC=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),FC=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},EC(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),EC(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),KC=(e,t)=>({background:e.colorBgContainer,borderWidth:`${wt(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.borderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),MC=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},KC(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),zC=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},KC(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),MC(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),MC(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),LC=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),DC=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:o,paddingInlineLG:l}=e;return{padding:`${wt(t)} ${wt(l)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:o}},TC=e=>({padding:`${wt(e.paddingBlockSM)} ${wt(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),jC=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${wt(e.paddingBlock)} ${wt(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},LC(e.colorTextPlaceholder)),{"&-lg":Object.assign({},DC(e)),"&-sm":Object.assign({},TC(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),OC=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},DC(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},TC(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${wt(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${wt(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${wt(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${wt(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${wt(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},UC=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:o,calc:l}=e,r=l(n).sub(l(o).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),jC(e)),wC(e)),NC(e)),HC(e)),zC(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:r,paddingBottom:r}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},QC=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${wt(e.inputAffixPadding)}`}}}},$C=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:o,motionDurationSlow:l,colorIcon:r,colorIconHover:a,iconCls:i}=e,g=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[g]:Object.assign(Object.assign(Object.assign(Object.assign({},jC(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:o,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),QC(e)),{[`${i}${t}-password-icon`]:{color:r,cursor:"pointer",transition:`all ${l}`,"&:hover":{color:a}}}),[`${t}-underlined`]:{borderRadius:0},[c]:{[`${i}${t}-password-icon`]:{color:r,cursor:"not-allowed","&:hover":{color:r}}}}},PC=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:o}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},Ja(e)),OC(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:o}}},JC(e)),FC(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},qC=e=>{const{componentCls:t,antCls:n}=e,o=`${t}-search`;return{[o]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${o}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${o}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${o}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${o}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${o}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${o}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},_C=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},eu=Ui(["Input","Shared"],e=>{const t=Ni(e,SC(e));return[UC(t),$C(t)]},BC,{resetFont:!1}),tu=Ui(["Input","Component"],e=>{const t=Ni(e,SC(e));return[PC(t),qC(t),_C(t),GC(t)]},BC,{resetFont:!1}),nu=e=>{const{componentCls:t,paddingLG:n}=e,o=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[o]:{position:"relative","&-show-count":{[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${o}-has-feedback ${t}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-rtl`]:{[`${t}-suffix`]:{[`${t}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},ou=Ui(["Input","TextArea"],e=>{const t=Ni(e,SC(e));return[nu(t)]},BC,{resetFont:!1});var lu=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const ru=(0,t.forwardRef)((e,n)=>{var o;const{prefixCls:l,bordered:r=!0,size:a,disabled:i,status:g,allowClear:c,classNames:s,rootClassName:d,className:I,style:C,styles:u,variant:m,showCount:A,onMouseDown:b,onResize:p}=e,h=lu(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]);const{getPrefixCls:f,direction:y,allowClear:v,autoComplete:Z,className:G,style:S,classNames:B,styles:k}=Jl("textArea"),W=t.useContext(El),V=null!==i&&void 0!==i?i:W,{status:R,hasFeedback:w,feedbackIcon:X}=t.useContext(kd),J=hC(R,g),H=t.useRef(null);t.useImperativeHandle(n,()=>{var e;return{resizableTextArea:null===(e=H.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;$I(null===(n=null===(t=H.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=H.current)||void 0===e?void 0:e.blur()}}});const x=f("input",l),Y=fC(x),[N,E,F]=eu(x,d),[K]=ou(x,Y),{compactSize:M,compactItemClassnames:z}=Nd(x,y),L=Rd(e=>{var t;return null!==(t=null!==a&&void 0!==a?a:M)&&void 0!==t?t:e}),[D,T]=yC("textArea",m,r),j=bC(null!==c&&void 0!==c?c:v),[O,U]=t.useState(!1),[Q,$]=t.useState(!1);return N(K(t.createElement(CC,Object.assign({autoComplete:Z},h,{style:Object.assign(Object.assign({},S),C),styles:Object.assign(Object.assign({},k),u),disabled:V,allowClear:j,className:Ol()(F,Y,I,d,z,G,Q&&`${x}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},s),B),{textarea:Ol()({[`${x}-sm`]:"small"===L,[`${x}-lg`]:"large"===L},E,null===s||void 0===s?void 0:s.textarea,B.textarea,O&&`${x}-mouse-active`),variant:Ol()({[`${x}-${D}`]:T},pC(x,J)),affixWrapper:Ol()(`${x}-textarea-affix-wrapper`,{[`${x}-affix-wrapper-rtl`]:"rtl"===y,[`${x}-affix-wrapper-sm`]:"small"===L,[`${x}-affix-wrapper-lg`]:"large"===L,[`${x}-textarea-show-count`]:A||(null===(o=e.count)||void 0===o?void 0:o.show)},E)}),prefixCls:x,suffix:w&&t.createElement("span",{className:`${x}-textarea-suffix`},X),showCount:A,ref:H,onResize:e=>{var t,n;if(null===p||void 0===p||p(e),O&&"function"===typeof getComputedStyle){const e=null===(n=null===(t=H.current)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.querySelector("textarea");e&&"both"===getComputedStyle(e).resize&&$(!0)}},onMouseDown:e=>{U(!0),null===b||void 0===b||b(e);const t=()=>{U(!1),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)}}))))}),au=ru,iu=e=>{const t={};return[1,2,3,4,5].forEach(n=>{t[`\n      h${n}&,\n      div&-h${n},\n      div&-h${n} > textarea,\n      h${n}\n    `]=((e,t,n,o)=>{const{titleMarginBottom:l,fontWeightStrong:r}=o;return{marginBottom:l,color:n,fontWeight:r,fontSize:e,lineHeight:t}})(e[`fontSizeHeading${n}`],e[`lineHeightHeading${n}`],e.colorTextHeading,e)}),t},gu=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},Na(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},cu=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Lo[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),su=e=>{const{componentCls:t,paddingSM:n}=e,o=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:`calc(1em - ${wt(o)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},du=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Iu=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},iu(e)),{[`\n      & + h1${t},\n      & + h2${t},\n      & + h3${t},\n      & + h4${t},\n      & + h5${t}\n      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),cu(e)),gu(e)),{[`\n        ${t}-expand,\n        ${t}-collapse,\n        ${t}-edit,\n        ${t}-copy\n      `]:Object.assign(Object.assign({},Na(e)),{marginInlineStart:e.marginXXS})}),su(e)),du(e)),{"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),{"&-rtl":{direction:"rtl"}})}},Cu=Ui("Typography",e=>[Iu(e)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),uu=e=>{const{prefixCls:n,"aria-label":o,className:l,style:r,direction:a,maxLength:i,autoSize:g=!0,value:c,onSave:s,onCancel:d,onEnd:I,component:C,enterIcon:u=t.createElement(TI,null)}=e,m=t.useRef(null),A=t.useRef(!1),b=t.useRef(null),[p,h]=t.useState(c);t.useEffect(()=>{h(c)},[c]),t.useEffect(()=>{var e;if(null===(e=m.current)||void 0===e?void 0:e.resizableTextArea){const{textArea:e}=m.current.resizableTextArea;e.focus();const{length:t}=e.value;e.setSelectionRange(t,t)}},[]);const f=()=>{s(p.trim())},[y,v,Z]=Cu(n),G=Ol()(n,`${n}-edit-content`,{[`${n}-rtl`]:"rtl"===a,[`${n}-${C}`]:!!C},l,v,Z);return y(t.createElement("div",{className:G,style:r},t.createElement(au,{ref:m,maxLength:i,value:p,onChange:e=>{let{target:t}=e;h(t.value.replace(/[\n\r]/g,""))},onKeyDown:e=>{let{keyCode:t}=e;A.current||(b.current=t)},onKeyUp:e=>{let{keyCode:t,ctrlKey:n,altKey:o,metaKey:l,shiftKey:r}=e;b.current!==t||A.current||n||o||l||r||(t===OI.ENTER?(f(),null===I||void 0===I||I()):t===OI.ESC&&d())},onCompositionStart:()=>{A.current=!0},onCompositionEnd:()=>{A.current=!1},onBlur:()=>{f()},"aria-label":o,rows:1,autoSize:g}),null!==u?dI(u,{className:`${n}-edit-content-confirm`}):null))};var mu=n(270),Au=n.n(mu);const bu=function(e){return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||void 0!==e&&null!==e?Array.isArray(e)?e:[e]:[]};var pu=function(e,t,n,o){return new(n||(n=Promise))(function(l,r){function a(e){try{g(o.next(e))}catch(PV){r(PV)}}function i(e){try{g(o.throw(e))}catch(PV){r(PV)}}function g(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}g((o=o.apply(e,t||[])).next())})};const hu=e=>{let{copyConfig:n,children:o}=e;const[l,r]=t.useState(!1),[a,i]=t.useState(!1),g=t.useRef(null),c=()=>{g.current&&clearTimeout(g.current)},s={};n.format&&(s.format=n.format),t.useEffect(()=>c,[]);const d=yr(e=>pu(void 0,void 0,void 0,function*(){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),i(!0);try{const l="function"===typeof n.text?yield n.text():n.text;Au()(l||bu(o,!0).join("")||"",s),i(!1),r(!0),c(),g.current=setTimeout(()=>{r(!1)},3e3),null===(t=n.onCopy)||void 0===t||t.call(n,e)}catch(l){throw i(!1),l}}));return{copied:l,copyLoading:a,onClick:d}};function fu(e,n){return t.useMemo(()=>{const t=!!e;return[t,Object.assign(Object.assign({},n),t&&"object"===typeof e?e:null)]},[e])}const yu=e=>{const n=(0,t.useRef)(void 0);return(0,t.useEffect)(()=>{n.current=e}),n.current},vu=(e,n,o)=>(0,t.useMemo)(()=>!0===e?{title:null!==n&&void 0!==n?n:o}:(0,t.isValidElement)(e)?{title:e}:"object"===typeof e?Object.assign({title:null!==n&&void 0!==n?n:o},e):{title:e},[e,n,o]);var Zu=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Gu=t.forwardRef((e,n)=>{const{prefixCls:o,component:l="article",className:r,rootClassName:a,setContentRef:i,children:g,direction:c,style:s}=e,d=Zu(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:I,direction:C,className:u,style:m}=Jl("typography"),A=null!==c&&void 0!==c?c:C,b=i?lr(n,i):n,p=I("typography",o);const[h,f,y]=Cu(p),v=Ol()(p,u,{[`${p}-rtl`]:"rtl"===A},r,a,f,y),Z=Object.assign(Object.assign({},m),s);return h(t.createElement(l,Object.assign({className:v,style:Z,ref:b},d),g))});const Su=Gu;const Bu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var ku=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Bu}))};const Wu=t.forwardRef(ku);const Vu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var Ru=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Vu}))};const wu=t.forwardRef(Ru);const Xu={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var Ju=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Xu}))};const Hu=t.forwardRef(Ju);function xu(e){return!1===e?[!1,!1]:Array.isArray(e)?e:[e]}function Yu(e,t,n){return!0===e||void 0===e?t:e||n&&t}const Nu=e=>["string","number"].includes(typeof e),Eu=e=>{let{prefixCls:n,copied:o,locale:l,iconOnly:r,tooltips:a,icon:i,tabIndex:g,onCopy:c,loading:s}=e;const d=xu(a),I=xu(i),{copied:C,copy:u}=null!==l&&void 0!==l?l:{},m=o?C:u,A=Yu(d[o?1:0],m),b="string"===typeof A?A:m;return t.createElement(zI,{title:A},t.createElement("button",{type:"button",className:Ol()(`${n}-copy`,{[`${n}-copy-success`]:o,[`${n}-copy-icon-only`]:r}),onClick:c,"aria-label":b,tabIndex:g},o?Yu(I[1],t.createElement(Wu,null),!0):Yu(I[0],s?t.createElement(Hu,null):t.createElement(wu,null),!0)))},Fu=t.forwardRef((e,n)=>{let{style:o,children:l}=e;const r=t.useRef(null);return t.useImperativeHandle(n,()=>({isExceed:()=>{const e=r.current;return e.scrollHeight>e.clientHeight},getHeight:()=>r.current.clientHeight})),t.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},o)},l)});function Ku(e,t){let n=0;const o=[];for(let l=0;l<e.length;l+=1){if(n===t)return o;const r=e[l],a=n+(Nu(r)?String(r).length:1);if(a>t){const e=t-n;return o.push(String(r).slice(0,e)),o}o.push(r),n=a}return e}const Mu=0,zu=4,Lu={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Du(e){const{enableMeasure:n,width:o,text:l,children:r,rows:a,expanded:i,miscDeps:g,onEllipsis:c}=e,s=t.useMemo(()=>_a(l),[l]),d=t.useMemo(()=>(e=>e.reduce((e,t)=>e+(Nu(t)?String(t).length:1),0))(s),[l]),I=t.useMemo(()=>r(s,!1),[l]),[C,u]=t.useState(null),m=t.useRef(null),A=t.useRef(null),b=t.useRef(null),p=t.useRef(null),h=t.useRef(null),[f,y]=t.useState(!1),[v,Z]=t.useState(Mu),[G,S]=t.useState(0),[B,k]=t.useState(null);Ft(()=>{Z(n&&o&&d?1:Mu)},[o,l,a,n,s]),Ft(()=>{var e,t,n,o;if(1===v){Z(2);const e=A.current&&getComputedStyle(A.current).whiteSpace;k(e)}else if(2===v){const l=!!(null===(e=b.current)||void 0===e?void 0:e.isExceed());Z(l?3:zu),u(l?[0,d]:null),y(l);const r=(null===(t=b.current)||void 0===t?void 0:t.getHeight())||0,i=1===a?0:(null===(n=p.current)||void 0===n?void 0:n.getHeight())||0,g=(null===(o=h.current)||void 0===o?void 0:o.getHeight())||0,s=Math.max(r,i+g);S(s+1),c(l)}},[v]);const W=C?Math.ceil((C[0]+C[1])/2):0;Ft(()=>{var e;const[t,n]=C||[0,0];if(t!==n){const o=((null===(e=m.current)||void 0===e?void 0:e.getHeight())||0)>G;let l=W;n-t===1&&(l=o?t:n),u(o?[t,l]:[l,n])}},[C,W]);const V=t.useMemo(()=>{if(!n)return r(s,!1);if(3!==v||!C||C[0]!==C[1]){const e=r(s,!1);return[zu,Mu].includes(v)?e:t.createElement("span",{style:Object.assign(Object.assign({},Lu),{WebkitLineClamp:a})},e)}return r(i?s:Ku(s,C[0]),f)},[i,v,C,s].concat(Ye(g))),R={width:o,margin:0,padding:0,whiteSpace:"nowrap"===B?"normal":"inherit"};return t.createElement(t.Fragment,null,V,2===v&&t.createElement(t.Fragment,null,t.createElement(Fu,{style:Object.assign(Object.assign(Object.assign({},R),Lu),{WebkitLineClamp:a}),ref:b},I),t.createElement(Fu,{style:Object.assign(Object.assign(Object.assign({},R),Lu),{WebkitLineClamp:a-1}),ref:p},I),t.createElement(Fu,{style:Object.assign(Object.assign(Object.assign({},R),Lu),{WebkitLineClamp:1}),ref:h},r([],!0))),3===v&&C&&C[0]!==C[1]&&t.createElement(Fu,{style:Object.assign(Object.assign({},R),{top:400}),ref:m},r(Ku(s,W),!0)),1===v&&t.createElement("span",{style:{whiteSpace:"inherit"},ref:A}))}const Tu=e=>{let{enableEllipsis:n,isEllipsis:o,children:l,tooltipProps:r}=e;return(null===r||void 0===r?void 0:r.title)&&n?t.createElement(zI,Object.assign({open:!!o&&void 0},r),l):l};var ju=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Ou=["delete","mark","code","underline","strong","keyboard","italic"],Uu=t.forwardRef((e,n)=>{var o;const{prefixCls:l,className:r,style:a,type:i,disabled:g,children:c,ellipsis:s,editable:d,copyable:I,component:C,title:u}=e,m=ju(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:A,direction:b}=t.useContext(Rl),[p]=tc("Text"),h=t.useRef(null),f=t.useRef(null),y=A("typography",l),v=Pa(m,Ou),[Z,G]=fu(d),[S,B]=Gr(!1,{value:G.editing}),{triggerType:k=["icon"]}=G,W=e=>{var t;e&&(null===(t=G.onStart)||void 0===t||t.call(G)),B(e)},V=yu(S);Ft(()=>{var e;!S&&V&&(null===(e=f.current)||void 0===e||e.focus())},[S]);const R=e=>{null===e||void 0===e||e.preventDefault(),W(!0)},w=e=>{var t;null===(t=G.onChange)||void 0===t||t.call(G,e),W(!1)},X=()=>{var e;null===(e=G.onCancel)||void 0===e||e.call(G),W(!1)},[J,H]=fu(I),{copied:x,copyLoading:Y,onClick:N}=hu({copyConfig:H,children:c}),[E,F]=t.useState(!1),[K,M]=t.useState(!1),[z,L]=t.useState(!1),[D,T]=t.useState(!1),[j,O]=t.useState(!0),[U,Q]=fu(s,{expandable:!1,symbol:e=>e?null===p||void 0===p?void 0:p.collapse:null===p||void 0===p?void 0:p.expand}),[$,P]=Gr(Q.defaultExpanded||!1,{value:Q.expanded}),q=U&&(!$||"collapsible"===Q.expandable),{rows:_=1}=Q,ee=t.useMemo(()=>q&&(void 0!==Q.suffix||Q.onEllipsis||Q.expandable||Z||J),[q,Q,Z,J]);Ft(()=>{U&&!ee&&(F(ec("webkitLineClamp")),M(ec("textOverflow")))},[ee,U]);const[te,ne]=t.useState(q),oe=t.useMemo(()=>!ee&&(1===_?K:E),[ee,K,E]);Ft(()=>{ne(oe&&q)},[oe,q]);const le=q&&(te?D:z),re=q&&1===_&&te,ae=q&&_>1&&te,[ie,ge]=t.useState(0),ce=e=>{var t;L(e),z!==e&&(null===(t=Q.onEllipsis)||void 0===t||t.call(Q,e))};t.useEffect(()=>{const e=h.current;if(U&&te&&e){const t=function(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return e.removeChild(t),n.left>o.left||o.right>n.right||n.top>o.top||o.bottom>n.bottom}(e);D!==t&&T(t)}},[U,te,c,ae,j,ie]),t.useEffect(()=>{const e=h.current;if("undefined"===typeof IntersectionObserver||!e||!te||!q)return;const t=new IntersectionObserver(()=>{O(!!e.offsetParent)});return t.observe(e),()=>{t.disconnect()}},[te,q]);const se=vu(Q.tooltip,G.text,c),de=t.useMemo(()=>{if(U&&!te)return[G.text,c,u,se.title].find(Nu)},[U,te,u,se.title,le]);if(S)return t.createElement(uu,{value:null!==(o=G.text)&&void 0!==o?o:"string"===typeof c?c:"",onSave:w,onCancel:X,onEnd:G.onEnd,prefixCls:y,className:r,style:a,direction:b,component:C,maxLength:G.maxLength,autoSize:G.autoSize,enterIcon:G.enterIcon});const Ie=()=>{const{expandable:e,symbol:n}=Q;return e?t.createElement("button",{type:"button",key:"expand",className:`${y}-${$?"collapse":"expand"}`,onClick:e=>((e,t)=>{var n;P(t.expanded),null===(n=Q.onExpand)||void 0===n||n.call(Q,e,t)})(e,{expanded:!$}),"aria-label":$?p.collapse:null===p||void 0===p?void 0:p.expand},"function"===typeof n?n($):n):null},Ce=()=>{if(!Z)return;const{icon:e,tooltip:n,tabIndex:o}=G,l=_a(n)[0]||(null===p||void 0===p?void 0:p.edit),r="string"===typeof l?l:"";return k.includes("icon")?t.createElement(zI,{key:"edit",title:!1===n?"":l},t.createElement("button",{type:"button",ref:f,className:`${y}-edit`,onClick:R,"aria-label":r,tabIndex:o},e||t.createElement(yg,{role:"button"}))):null},ue=e=>[e&&Ie(),Ce(),J?t.createElement(Eu,Object.assign({key:"copy"},H,{prefixCls:y,copied:x,locale:p,onCopy:N,loading:Y,iconOnly:null===c||void 0===c})):null];return t.createElement(qg,{onResize:e=>{let{offsetWidth:t}=e;ge(t)},disabled:!q},o=>t.createElement(Tu,{tooltipProps:se,enableEllipsis:q,isEllipsis:le},t.createElement(Su,Object.assign({className:Ol()({[`${y}-${i}`]:i,[`${y}-disabled`]:g,[`${y}-ellipsis`]:U,[`${y}-ellipsis-single-line`]:re,[`${y}-ellipsis-multiple-line`]:ae},r),prefixCls:l,style:Object.assign(Object.assign({},a),{WebkitLineClamp:ae?_:void 0}),component:C,ref:lr(o,h,n),direction:b,onClick:k.includes("text")?R:void 0,"aria-label":null===de||void 0===de?void 0:de.toString(),title:u},v),t.createElement(Du,{enableMeasure:q&&!te,text:c,rows:_,width:ie,onEllipsis:ce,expanded:$,miscDeps:[x,$,Y,Z,J,p].concat(Ye(Ou.map(t=>e[t])))},(n,o)=>function(e,n){let{mark:o,code:l,underline:r,delete:a,strong:i,keyboard:g,italic:c}=e,s=n;function d(e,n){n&&(s=t.createElement(e,{},s))}return d("strong",i),d("u",r),d("del",a),d("code",l),d("mark",o),d("kbd",g),d("i",c),s}(e,t.createElement(t.Fragment,null,n.length>0&&o&&!$&&de?t.createElement("span",{key:"show-content","aria-hidden":!0},n):n,(e=>[e&&!$&&t.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),Q.suffix,ue(e)])(o)))))))}),Qu=Uu;var $u=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Pu=t.forwardRef((e,n)=>{var{ellipsis:o,rel:l}=e,r=$u(e,["ellipsis","rel"]);const a=Object.assign(Object.assign({},r),{rel:void 0===l&&"_blank"===r.target?"noopener noreferrer":l});return delete a.navigate,t.createElement(Qu,Object.assign({},a,{ref:n,ellipsis:!!o,component:"a"}))}),qu=Pu,_u=t.forwardRef((e,n)=>t.createElement(Qu,Object.assign({ref:n},e,{component:"div"})));var em=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const tm=(e,n)=>{var{ellipsis:o}=e,l=em(e,["ellipsis"]);const r=t.useMemo(()=>o&&"object"===typeof o?Pa(o,["expandable","rows"]):o,[o]);return t.createElement(Qu,Object.assign({ref:n},l,{ellipsis:r,component:"span"}))},nm=t.forwardRef(tm);var om=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const lm=[1,2,3,4,5],rm=t.forwardRef((e,n)=>{const{level:o=1}=e,l=om(e,["level"]);const r=lm.includes(o)?`h${o}`:"h1";return t.createElement(Qu,Object.assign({ref:n},l,{component:r}))}),am=Su;am.Text=nm,am.Link=qu,am.Title=rm,am.Paragraph=_u;const im=am;var gm=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],cm=void 0;function sm(e,n){var o=e.prefixCls,l=e.invalidate,r=e.item,a=e.renderItem,i=e.responsive,g=e.responsiveDisabled,c=e.registerSize,s=e.itemKey,d=e.className,I=e.style,C=e.children,u=e.display,m=e.order,A=e.component,b=void 0===A?"div":A,p=cr(e,gm),h=i&&!u;function f(e){c(s,e)}t.useEffect(function(){return function(){f(null)}},[]);var y,v=a&&r!==cm?a(r,{index:m}):C;l||(y={opacity:h?0:1,height:h?0:cm,overflowY:h?"hidden":cm,order:i?m:cm,pointerEvents:h?"none":cm,position:h?"absolute":cm});var Z={};h&&(Z["aria-hidden"]=!0);var G=t.createElement(b,$t({className:Ol()(!l&&o,d),style:Ee(Ee({},y),I)},Z,p,{ref:n}),v);return i&&(G=t.createElement(qg,{onResize:function(e){f(e.offsetWidth)},disabled:g},G)),G}var dm=t.forwardRef(sm);dm.displayName="Item";const Im=dm;function Cm(){var e=t.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)ea(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}(function(){(0,c.unstable_batchedUpdates)(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(t)}}function um(e,n){var o=He(t.useState(n),2),l=o[0],r=o[1];return[l,yr(function(t){e(function(){r(t)})})]}var mm=t.createContext(null),Am=["component"],bm=["className"],pm=["className"],hm=function(e,n){var o=t.useContext(mm);if(!o){var l=e.component,r=void 0===l?"div":l,a=cr(e,Am);return t.createElement(r,$t({},a,{ref:n}))}var i=o.className,g=cr(o,bm),c=e.className,s=cr(e,pm);return t.createElement(mm.Provider,{value:null},t.createElement(Im,$t({ref:n,className:Ol()(i,c)},g,s)))},fm=t.forwardRef(hm);fm.displayName="RawItem";const ym=fm;var vm=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Zm="responsive",Gm="invalidate";function Sm(e){return"+ ".concat(e.length," ...")}function Bm(e,n){var o=e.prefixCls,l=void 0===o?"rc-overflow":o,r=e.data,a=void 0===r?[]:r,i=e.renderItem,g=e.renderRawItem,c=e.itemKey,s=e.itemWidth,d=void 0===s?10:s,I=e.ssr,C=e.style,u=e.className,m=e.maxCount,A=e.renderRest,b=e.renderRawRest,p=e.suffix,h=e.component,f=void 0===h?"div":h,y=e.itemComponent,v=e.onVisibleChange,Z=cr(e,vm),G="full"===I,S=Cm(),B=He(um(S,null),2),k=B[0],W=B[1],V=k||0,R=He(um(S,new Map),2),w=R[0],X=R[1],J=He(um(S,0),2),H=J[0],x=J[1],Y=He(um(S,0),2),N=Y[0],E=Y[1],F=He(um(S,0),2),K=F[0],M=F[1],z=He((0,t.useState)(null),2),L=z[0],D=z[1],T=He((0,t.useState)(null),2),j=T[0],O=T[1],U=t.useMemo(function(){return null===j&&G?Number.MAX_SAFE_INTEGER:j||0},[j,k]),Q=He((0,t.useState)(!1),2),$=Q[0],P=Q[1],q="".concat(l,"-item"),_=Math.max(H,N),ee=m===Zm,te=a.length&&ee,ne=m===Gm,oe=te||"number"===typeof m&&a.length>m,le=(0,t.useMemo)(function(){var e=a;return te?e=null===k&&G?a:a.slice(0,Math.min(a.length,V/d)):"number"===typeof m&&(e=a.slice(0,m)),e},[a,d,k,m,te]),re=(0,t.useMemo)(function(){return te?a.slice(U+1):a.slice(le.length)},[a,le,te,U]),ae=(0,t.useCallback)(function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t},[c]),ie=(0,t.useCallback)(i||function(e){return e},[i]);function ge(e,t,n){(j!==e||void 0!==t&&t!==L)&&(O(e),n||(P(e<a.length-1),null===v||void 0===v||v(e)),void 0!==t&&D(t))}function ce(e,t){X(function(n){var o=new Map(n);return null===t?o.delete(e):o.set(e,t),o})}function se(e){return w.get(ae(le[e],e))}Ft(function(){if(V&&"number"===typeof _&&le){var e=K,t=le.length,n=t-1;if(!t)return void ge(0,null);for(var o=0;o<t;o+=1){var l=se(o);if(G&&(l=l||0),void 0===l){ge(o-1,void 0,!0);break}if(e+=l,0===n&&e<=V||o===n-1&&e+se(n)<=V){ge(n,null);break}if(e+_>V){ge(o-1,e-l-K+N);break}}p&&se(0)+K>V&&D(null)}},[V,w,N,K,ae,le]);var de=$&&!!re.length,Ie={};null!==L&&te&&(Ie={position:"absolute",left:L,top:0});var Ce={prefixCls:q,responsive:te,component:y,invalidate:ne},ue=g?function(e,n){var o=ae(e,n);return t.createElement(mm.Provider,{key:o,value:Ee(Ee({},Ce),{},{order:n,item:e,itemKey:o,registerSize:ce,display:n<=U})},g(e,n))}:function(e,n){var o=ae(e,n);return t.createElement(Im,$t({},Ce,{order:n,key:o,item:e,renderItem:ie,itemKey:o,registerSize:ce,display:n<=U}))},me={order:de?U:Number.MAX_SAFE_INTEGER,className:"".concat(q,"-rest"),registerSize:function(e,t){E(t),x(N)},display:de},Ae=A||Sm,be=b?t.createElement(mm.Provider,{value:Ee(Ee({},Ce),me)},b(re)):t.createElement(Im,$t({},Ce,me),"function"===typeof Ae?Ae(re):Ae),pe=t.createElement(f,$t({className:Ol()(!ne&&l,u),style:C,ref:n},Z),le.map(ue),oe?be:null,p&&t.createElement(Im,$t({},Ce,{responsive:ee,responsiveDisabled:!te,order:U,className:"".concat(q,"-suffix"),registerSize:function(e,t){M(t)},display:!0,style:Ie}),p));return ee?t.createElement(qg,{onResize:function(e,t){W(t.clientWidth)},disabled:!te},pe):pe}var km=t.forwardRef(Bm);km.displayName="Overflow",km.Item=ym,km.RESPONSIVE=Zm,km.INVALIDATE=Gm;const Wm=km;var Vm=t.createContext(null);function Rm(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function wm(e){return Rm(t.useContext(Vm),e)}var Xm=["children","locked"],Jm=t.createContext(null);function Hm(e){var n=e.children,o=e.locked,l=cr(e,Xm),r=t.useContext(Jm),a=qe(function(){return function(e,t){var n=Ee({},e);return Object.keys(t).forEach(function(e){var o=t[e];void 0!==o&&(n[e]=o)}),n}(r,l)},[r,l],function(e,t){return!o&&(e[0]!==t[0]||!at(e[1],t[1],!0))});return t.createElement(Jm.Provider,{value:a},n)}var xm=[],Ym=t.createContext(null);function Nm(){return t.useContext(Ym)}var Em=t.createContext(xm);function Fm(e){var n=t.useContext(Em);return t.useMemo(function(){return void 0!==e?[].concat(Ye(n),[e]):n},[n,e])}var Km=t.createContext(null);const Mm=t.createContext({});function zm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Rc(e)){var n=e.nodeName.toLowerCase(),o=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),l=e.getAttribute("tabindex"),r=Number(l),a=null;return l&&!Number.isNaN(r)?a=r:o&&null===a&&(a=0),o&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function Lm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ye(e.querySelectorAll("*")).filter(function(e){return zm(e,t)});return zm(e,t)&&n.unshift(e),n}var Dm=OI.LEFT,Tm=OI.RIGHT,jm=OI.UP,Om=OI.DOWN,Um=OI.ENTER,Qm=OI.ESC,$m=OI.HOME,Pm=OI.END,qm=[jm,Om,Dm,Tm];function _m(e,t){return Lm(e,!0).filter(function(e){return t.has(e)})}function eA(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var l=_m(e,t),r=l.length,a=l.findIndex(function(e){return n===e});return o<0?-1===a?a=r-1:a-=1:o>0&&(a+=1),l[a=(a+r)%r]}var tA=function(e,t){var n=new Set,o=new Map,l=new Map;return e.forEach(function(e){var r=document.querySelector("[data-menu-id='".concat(Rm(t,e),"']"));r&&(n.add(r),l.set(r,e),o.set(e,r))}),{elements:n,key2element:o,element2key:l}};function nA(e,n,o,l,r,a,i,g,c,s){var d=t.useRef(),I=t.useRef();I.current=n;var C=function(){ea.cancel(d.current)};return t.useEffect(function(){return function(){C()}},[]),function(t){var u=t.which;if([].concat(qm,[Um,Qm,$m,Pm]).includes(u)){var m=a(),A=tA(m,l),b=A,p=b.elements,h=b.key2element,f=b.element2key,y=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(h.get(n),p),v=f.get(y),Z=function(e,t,n,o){var l,r="prev",a="next",i="children",g="parent";if("inline"===e&&o===Um)return{inlineTrigger:!0};var c=Ve(Ve({},jm,r),Om,a),s=Ve(Ve(Ve(Ve({},Dm,n?a:r),Tm,n?r:a),Om,i),Um,i),d=Ve(Ve(Ve(Ve(Ve(Ve({},jm,r),Om,a),Um,i),Qm,g),Dm,n?i:g),Tm,n?g:i);switch(null===(l={inline:c,horizontal:s,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d}["".concat(e).concat(t?"":"Sub")])||void 0===l?void 0:l[o]){case r:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case g:return{offset:-1,sibling:!1};case i:return{offset:1,sibling:!1};default:return null}}(e,1===i(v,!0).length,o,u);if(!Z&&u!==$m&&u!==Pm)return;(qm.includes(u)||[$m,Pm].includes(u))&&t.preventDefault();var G=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var o=f.get(e);g(o),C(),d.current=ea(function(){I.current===o&&t.focus()})}};if([$m,Pm].includes(u)||Z.sibling||!y){var S,B,k=_m(S=y&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(y):r.current,p);B=u===$m?k[0]:u===Pm?k[k.length-1]:eA(S,p,y,Z.offset),G(B)}else if(Z.inlineTrigger)c(v);else if(Z.offset>0)c(v,!0),C(),d.current=ea(function(){A=tA(m,l);var e=y.getAttribute("aria-controls"),t=eA(document.getElementById(e),A.elements);G(t)},5);else if(Z.offset<0){var W=i(v,!0),V=W[W.length-2],R=h.get(V);c(V,!1),G(R)}}null===s||void 0===s||s(t)}}var oA="__RC_UTIL_PATH_SPLIT__",lA=function(e){return e.join(oA)},rA="rc-menu-more";function aA(){var e=He(t.useState({}),2)[1],n=(0,t.useRef)(new Map),o=(0,t.useRef)(new Map),l=He(t.useState([]),2),r=l[0],a=l[1],i=(0,t.useRef)(0),g=(0,t.useRef)(!1),c=(0,t.useCallback)(function(t,l){var r=lA(l);o.current.set(r,t),n.current.set(t,r),i.current+=1;var a,c=i.current;a=function(){c===i.current&&(g.current||e({}))},Promise.resolve().then(a)},[]),s=(0,t.useCallback)(function(e,t){var l=lA(t);o.current.delete(l),n.current.delete(e)},[]),d=(0,t.useCallback)(function(e){a(e)},[]),I=(0,t.useCallback)(function(e,t){var o=n.current.get(e)||"",l=o.split(oA);return t&&r.includes(l[0])&&l.unshift(rA),l},[r]),C=(0,t.useCallback)(function(e,t){return e.filter(function(e){return void 0!==e}).some(function(e){return I(e,!0).includes(t)})},[I]),u=(0,t.useCallback)(function(e){var t="".concat(n.current.get(e)).concat(oA),l=new Set;return Ye(o.current.keys()).forEach(function(e){e.startsWith(t)&&l.add(o.current.get(e))}),l},[]);return t.useEffect(function(){return function(){g.current=!0}},[]),{registerPath:c,unregisterPath:s,refreshOverflowKeys:d,isSubPathKey:C,getKeyPath:I,getKeys:function(){var e=Ye(n.current.keys());return r.length&&e.push(rA),e},getSubPathKeys:u}}function iA(e){var n=t.useRef(e);n.current=e;var o=t.useCallback(function(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(o))},[]);return e?o:void 0}var gA=Math.random().toFixed(5).toString().slice(2),cA=0;function sA(e,n,o,l){var r=t.useContext(Jm),a=r.activeKey,i=r.onActive,g=r.onInactive,c={active:a===e};return n||(c.onMouseEnter=function(t){null===o||void 0===o||o({key:e,domEvent:t}),i(e)},c.onMouseLeave=function(t){null===l||void 0===l||l({key:e,domEvent:t}),g(e)}),c}function dA(e){var n=t.useContext(Jm),o=n.mode,l=n.rtl,r=n.inlineIndent;if("inline"!==o)return null;return l?{paddingRight:e*r}:{paddingLeft:e*r}}function IA(e){var n,o=e.icon,l=e.props,r=e.children;return null===o||!1===o?null:("function"===typeof o?n=t.createElement(o,Ee({},l)):"boolean"!==typeof o&&(n=o),n||r||null)}var CA=["item"];function uA(e){var t=e.item,n=cr(e,CA);return Object.defineProperty(n,"item",{get:function(){return rt(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var mA=["title","attribute","elementRef"],AA=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],bA=["active"],pA=function(e){ur(o,e);var n=hr(o);function o(){return it(this,o),n.apply(this,arguments)}return ct(o,[{key:"render",value:function(){var e=this.props,n=e.title,o=e.attribute,l=e.elementRef,r=Pa(cr(e,mA),["eventKey","popupClassName","popupOffset","onTitleClick"]);return rt(!o,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(Wm.Item,$t({},o,{title:"string"===typeof n?n:void 0},r,{ref:l}))}}]),o}(t.Component),hA=t.forwardRef(function(e,n){var o=e.style,l=e.className,r=e.eventKey,a=(e.warnKey,e.disabled),i=e.itemIcon,g=e.children,c=e.role,s=e.onMouseEnter,d=e.onMouseLeave,I=e.onClick,C=e.onKeyDown,u=e.onFocus,m=cr(e,AA),A=wm(r),b=t.useContext(Jm),p=b.prefixCls,h=b.onItemClick,f=b.disabled,y=b.overflowDisabled,v=b.itemIcon,Z=b.selectedKeys,G=b.onActive,S=t.useContext(Mm)._internalRenderMenuItem,B="".concat(p,"-item"),k=t.useRef(),W=t.useRef(),V=f||a,R=rr(n,W),w=Fm(r);var X=function(e){return{key:r,keyPath:Ye(w).reverse(),item:k.current,domEvent:e}},J=i||v,H=sA(r,V,s,d),x=H.active,Y=cr(H,bA),N=Z.includes(r),E=dA(w.length),F={};"option"===e.role&&(F["aria-selected"]=N);var K=t.createElement(pA,$t({ref:k,elementRef:R,role:null===c?"none":c||"menuitem",tabIndex:a?null:-1,"data-menu-id":y&&A?null:A},Pa(m,["extra"]),Y,F,{component:"li","aria-disabled":a,style:Ee(Ee({},E),o),className:Ol()(B,Ve(Ve(Ve({},"".concat(B,"-active"),x),"".concat(B,"-selected"),N),"".concat(B,"-disabled"),V),l),onClick:function(e){if(!V){var t=X(e);null===I||void 0===I||I(uA(t)),h(t)}},onKeyDown:function(e){if(null===C||void 0===C||C(e),e.which===OI.ENTER){var t=X(e);null===I||void 0===I||I(uA(t)),h(t)}},onFocus:function(e){G(r),null===u||void 0===u||u(e)}}),g,t.createElement(IA,{props:Ee(Ee({},e),{},{isSelected:N}),icon:J}));return S&&(K=S(K,e,{selected:N})),K});function fA(e,n){var o=e.eventKey,l=Nm(),r=Fm(o);return t.useEffect(function(){if(l)return l.registerPath(o,r),function(){l.unregisterPath(o,r)}},[r]),l?null:t.createElement(hA,$t({},e,{ref:n}))}const yA=t.forwardRef(fA);var vA=["className","children"],ZA=function(e,n){var o=e.className,l=e.children,r=cr(e,vA),a=t.useContext(Jm),i=a.prefixCls,g=a.mode,c=a.rtl;return t.createElement("ul",$t({className:Ol()(i,c&&"".concat(i,"-rtl"),"".concat(i,"-sub"),"".concat(i,"-").concat("inline"===g?"inline":"vertical"),o),role:"menu"},r,{"data-menu-list":!0,ref:n}),l)},GA=t.forwardRef(ZA);GA.displayName="SubMenuList";const SA=GA;function BA(e,n){return _a(e).map(function(e,o){if(t.isValidElement(e)){var l,r,a=e.key,i=null!==(l=null===(r=e.props)||void 0===r?void 0:r.eventKey)&&void 0!==l?l:a;(null===i||void 0===i)&&(i="tmp_key-".concat([].concat(Ye(n),[o]).join("-")));var g={key:i,eventKey:i};return t.cloneElement(e,g)}return e})}var kA={adjustX:1,adjustY:1},WA={topLeft:{points:["bl","tl"],overflow:kA},topRight:{points:["br","tr"],overflow:kA},bottomLeft:{points:["tl","bl"],overflow:kA},bottomRight:{points:["tr","br"],overflow:kA},leftTop:{points:["tr","tl"],overflow:kA},leftBottom:{points:["br","bl"],overflow:kA},rightTop:{points:["tl","tr"],overflow:kA},rightBottom:{points:["bl","br"],overflow:kA}},VA={topLeft:{points:["bl","tl"],overflow:kA},topRight:{points:["br","tr"],overflow:kA},bottomLeft:{points:["tl","bl"],overflow:kA},bottomRight:{points:["tr","br"],overflow:kA},rightTop:{points:["tr","tl"],overflow:kA},rightBottom:{points:["br","bl"],overflow:kA},leftTop:{points:["tl","tr"],overflow:kA},leftBottom:{points:["bl","br"],overflow:kA}};function RA(e,t,n){return t||(n?n[e]||n.other:void 0)}var wA={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function XA(e){var n=e.prefixCls,o=e.visible,l=e.children,r=e.popup,a=e.popupStyle,i=e.popupClassName,g=e.popupOffset,c=e.disabled,s=e.mode,d=e.onVisibleChange,I=t.useContext(Jm),C=I.getPopupContainer,u=I.rtl,m=I.subMenuOpenDelay,A=I.subMenuCloseDelay,b=I.builtinPlacements,p=I.triggerSubMenuAction,h=I.forceSubMenuRender,f=I.rootClassName,y=I.motion,v=I.defaultMotions,Z=He(t.useState(!1),2),G=Z[0],S=Z[1],B=Ee(Ee({},u?VA:WA),b),k=wA[s],W=RA(s,y,v),V=t.useRef(W);"inline"!==s&&(V.current=W);var R=Ee(Ee({},V.current),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),w=t.useRef();return t.useEffect(function(){return w.current=ea(function(){S(o)}),function(){ea.cancel(w.current)}},[o]),t.createElement(Dc,{prefixCls:n,popupClassName:Ol()("".concat(n,"-popup"),Ve({},"".concat(n,"-rtl"),u),i,f),stretch:"horizontal"===s?"minWidth":null,getPopupContainer:C,builtinPlacements:B,popupPlacement:k,popupVisible:G,popup:r,popupStyle:a,popupAlign:g&&{offset:g},action:c?[]:[p],mouseEnterDelay:m,mouseLeaveDelay:A,onPopupVisibleChange:d,forceRender:h,popupMotion:R,fresh:!0},l)}function JA(e){var n=e.id,o=e.open,l=e.keyPath,r=e.children,a="inline",i=t.useContext(Jm),g=i.prefixCls,c=i.forceSubMenuRender,s=i.motion,d=i.defaultMotions,I=i.mode,C=t.useRef(!1);C.current=I===a;var u=He(t.useState(!C.current),2),m=u[0],A=u[1],b=!!C.current&&o;t.useEffect(function(){C.current&&A(!1)},[I]);var p=Ee({},RA(a,s,d));l.length>1&&(p.motionAppear=!1);var h=p.onVisibleChanged;return p.onVisibleChanged=function(e){return C.current||e||A(!0),null===h||void 0===h?void 0:h(e)},m?null:t.createElement(Hm,{mode:a,locked:!C.current},t.createElement(pa,$t({visible:b},p,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(g,"-hidden")}),function(e){var o=e.className,l=e.style;return t.createElement(SA,{id:n,className:o,style:l},r)}))}var HA=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],xA=["active"],YA=t.forwardRef(function(e,n){var o=e.style,l=e.className,r=e.title,a=e.eventKey,i=(e.warnKey,e.disabled),g=e.internalPopupClose,c=e.children,s=e.itemIcon,d=e.expandIcon,I=e.popupClassName,C=e.popupOffset,u=e.popupStyle,m=e.onClick,A=e.onMouseEnter,b=e.onMouseLeave,p=e.onTitleClick,h=e.onTitleMouseEnter,f=e.onTitleMouseLeave,y=cr(e,HA),v=wm(a),Z=t.useContext(Jm),G=Z.prefixCls,S=Z.mode,B=Z.openKeys,k=Z.disabled,W=Z.overflowDisabled,V=Z.activeKey,R=Z.selectedKeys,w=Z.itemIcon,X=Z.expandIcon,J=Z.onItemClick,H=Z.onOpenChange,x=Z.onActive,Y=t.useContext(Mm)._internalRenderSubMenuItem,N=t.useContext(Km).isSubPathKey,E=Fm(),F="".concat(G,"-submenu"),K=k||i,M=t.useRef(),z=t.useRef();var L=null!==s&&void 0!==s?s:w,D=null!==d&&void 0!==d?d:X,T=B.includes(a),j=!W&&T,O=N(R,a),U=sA(a,K,h,f),Q=U.active,$=cr(U,xA),P=He(t.useState(!1),2),q=P[0],_=P[1],ee=function(e){K||_(e)},te=t.useMemo(function(){return Q||"inline"!==S&&(q||N([V],a))},[S,Q,V,q,a,N]),ne=dA(E.length),oe=iA(function(e){null===m||void 0===m||m(uA(e)),J(e)}),le=v&&"".concat(v,"-popup"),re=t.useMemo(function(){return t.createElement(IA,{icon:"horizontal"!==S?D:void 0,props:Ee(Ee({},e),{},{isOpen:j,isSubMenu:!0})},t.createElement("i",{className:"".concat(F,"-arrow")}))},[S,D,e,j,F]),ae=t.createElement("div",$t({role:"menuitem",style:ne,className:"".concat(F,"-title"),tabIndex:K?null:-1,ref:M,title:"string"===typeof r?r:null,"data-menu-id":W&&v?null:v,"aria-expanded":j,"aria-haspopup":!0,"aria-controls":le,"aria-disabled":K,onClick:function(e){K||(null===p||void 0===p||p({key:a,domEvent:e}),"inline"===S&&H(a,!T))},onFocus:function(){x(a)}},$),r,re),ie=t.useRef(S);if("inline"!==S&&E.length>1?ie.current="vertical":ie.current=S,!W){var ge=ie.current;ae=t.createElement(XA,{mode:ge,prefixCls:F,visible:!g&&j&&"inline"!==S,popupClassName:I,popupOffset:C,popupStyle:u,popup:t.createElement(Hm,{mode:"horizontal"===ge?"vertical":ge},t.createElement(SA,{id:le,ref:z},c)),disabled:K,onVisibleChange:function(e){"inline"!==S&&H(a,e)}},ae)}var ce=t.createElement(Wm.Item,$t({ref:n,role:"none"},y,{component:"li",style:o,className:Ol()(F,"".concat(F,"-").concat(S),l,Ve(Ve(Ve(Ve({},"".concat(F,"-open"),j),"".concat(F,"-active"),te),"".concat(F,"-selected"),O),"".concat(F,"-disabled"),K)),onMouseEnter:function(e){ee(!0),null===A||void 0===A||A({key:a,domEvent:e})},onMouseLeave:function(e){ee(!1),null===b||void 0===b||b({key:a,domEvent:e})}}),ae,!W&&t.createElement(JA,{id:le,open:j,keyPath:E},c));return Y&&(ce=Y(ce,e,{selected:O,active:te,open:j,disabled:K})),t.createElement(Hm,{onItemClick:oe,mode:"horizontal"===S?"vertical":S,itemIcon:L,expandIcon:D},ce)});const NA=t.forwardRef(function(e,n){var o,l=e.eventKey,r=e.children,a=Fm(l),i=BA(r,a),g=Nm();return t.useEffect(function(){if(g)return g.registerPath(l,a),function(){g.unregisterPath(l,a)}},[a]),o=g?i:t.createElement(YA,$t({ref:n},e),i),t.createElement(Em.Provider,{value:a},o)});function EA(e){var n=e.className,o=e.style,l=t.useContext(Jm).prefixCls;return Nm()?null:t.createElement("li",{role:"separator",className:Ol()("".concat(l,"-item-divider"),n),style:o})}var FA=["className","title","eventKey","children"],KA=t.forwardRef(function(e,n){var o=e.className,l=e.title,r=(e.eventKey,e.children),a=cr(e,FA),i=t.useContext(Jm).prefixCls,g="".concat(i,"-item-group");return t.createElement("li",$t({ref:n,role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:Ol()(g,o)}),t.createElement("div",{role:"presentation",className:"".concat(g,"-title"),title:"string"===typeof l?l:void 0},l),t.createElement("ul",{role:"group",className:"".concat(g,"-list")},r))});const MA=t.forwardRef(function(e,n){var o=e.eventKey,l=BA(e.children,Fm(o));return Nm()?l:t.createElement(KA,$t({ref:n},Pa(e,["warnKey"])),l)});var zA=["label","children","key","type","extra"];function LA(e,n,o){var l=n.item,r=n.group,a=n.submenu,i=n.divider;return(e||[]).map(function(e,g){if(e&&"object"===ke(e)){var c=e,s=c.label,d=c.children,I=c.key,C=c.type,u=c.extra,m=cr(c,zA),A=null!==I&&void 0!==I?I:"tmp-".concat(g);return d||"group"===C?"group"===C?t.createElement(r,$t({key:A},m,{title:s}),LA(d,n,o)):t.createElement(a,$t({key:A},m,{title:s}),LA(d,n,o)):"divider"===C?t.createElement(i,$t({key:A},m)):t.createElement(l,$t({key:A},m,{extra:u}),s,(!!u||0===u)&&t.createElement("span",{className:"".concat(o,"-item-extra")},u))}return null}).filter(function(e){return e})}function DA(e,t,n,o,l){var r=e,a=Ee({divider:EA,item:yA,group:MA,submenu:NA},o);return t&&(r=LA(t,a,l)),BA(r,n)}var TA=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],jA=[],OA=t.forwardRef(function(e,n){var o,l=e,r=l.prefixCls,a=void 0===r?"rc-menu":r,i=l.rootClassName,g=l.style,s=l.className,d=l.tabIndex,I=void 0===d?0:d,C=l.items,u=l.children,m=l.direction,A=l.id,b=l.mode,p=void 0===b?"vertical":b,h=l.inlineCollapsed,f=l.disabled,y=l.disabledOverflow,v=l.subMenuOpenDelay,Z=void 0===v?.1:v,G=l.subMenuCloseDelay,S=void 0===G?.1:G,B=l.forceSubMenuRender,k=l.defaultOpenKeys,W=l.openKeys,V=l.activeKey,R=l.defaultActiveFirst,w=l.selectable,X=void 0===w||w,J=l.multiple,H=void 0!==J&&J,x=l.defaultSelectedKeys,Y=l.selectedKeys,N=l.onSelect,E=l.onDeselect,F=l.inlineIndent,K=void 0===F?24:F,M=l.motion,z=l.defaultMotions,L=l.triggerSubMenuAction,D=void 0===L?"hover":L,T=l.builtinPlacements,j=l.itemIcon,O=l.expandIcon,U=l.overflowedIndicator,Q=void 0===U?"...":U,$=l.overflowedIndicatorPopupClassName,P=l.getPopupContainer,q=l.onClick,_=l.onOpenChange,ee=l.onKeyDown,te=(l.openAnimation,l.openTransitionName,l._internalRenderMenuItem),ne=l._internalRenderSubMenuItem,oe=l._internalComponents,le=cr(l,TA),re=He(t.useMemo(function(){return[DA(u,C,jA,oe,a),DA(u,C,jA,{},a)]},[u,C,oe]),2),ae=re[0],ie=re[1],ge=He(t.useState(!1),2),ce=ge[0],se=ge[1],de=t.useRef(),Ie=function(e){var n=He(Gr(e,{value:e}),2),o=n[0],l=n[1];return t.useEffect(function(){cA+=1;var e="".concat(gA,"-").concat(cA);l("rc-menu-uuid-".concat(e))},[]),o}(A),Ce="rtl"===m;var ue=Gr(k,{value:W,postState:function(e){return e||jA}}),me=He(ue,2),Ae=me[0],be=me[1],pe=function(e){function t(){be(e),null===_||void 0===_||_(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,c.flushSync)(t):t()},he=He(t.useState(Ae),2),fe=he[0],ye=he[1],ve=t.useRef(!1),Ze=He(t.useMemo(function(){return"inline"!==p&&"vertical"!==p||!h?[p,!1]:["vertical",h]},[p,h]),2),Ge=Ze[0],Se=Ze[1],Be="inline"===Ge,ke=He(t.useState(Ge),2),We=ke[0],Re=ke[1],we=He(t.useState(Se),2),Xe=we[0],Je=we[1];t.useEffect(function(){Re(Ge),Je(Se),ve.current&&(Be?be(fe):pe(jA))},[Ge,Se]);var xe=He(t.useState(0),2),Ne=xe[0],Fe=xe[1],Ke=Ne>=ae.length-1||"horizontal"!==We||y;t.useEffect(function(){Be&&ye(Ae)},[Ae]),t.useEffect(function(){return ve.current=!0,function(){ve.current=!1}},[]);var Me=aA(),ze=Me.registerPath,Le=Me.unregisterPath,De=Me.refreshOverflowKeys,Te=Me.isSubPathKey,je=Me.getKeyPath,Oe=Me.getKeys,Ue=Me.getSubPathKeys,Qe=t.useMemo(function(){return{registerPath:ze,unregisterPath:Le}},[ze,Le]),$e=t.useMemo(function(){return{isSubPathKey:Te}},[Te]);t.useEffect(function(){De(Ke?jA:ae.slice(Ne+1).map(function(e){return e.key}))},[Ne,Ke]);var Pe=He(Gr(V||R&&(null===(o=ae[0])||void 0===o?void 0:o.key),{value:V}),2),qe=Pe[0],_e=Pe[1],et=iA(function(e){_e(e)}),tt=iA(function(){_e(void 0)});(0,t.useImperativeHandle)(n,function(){return{list:de.current,focus:function(e){var t,n,o=Oe(),l=tA(o,Ie),r=l.elements,a=l.key2element,i=l.element2key,g=_m(de.current,r),c=null!==qe&&void 0!==qe?qe:g[0]?i.get(g[0]):null===(t=ae.find(function(e){return!e.props.disabled}))||void 0===t?void 0:t.key,s=a.get(c);c&&s&&(null===s||void 0===s||null===(n=s.focus)||void 0===n||n.call(s,e))}}});var nt=Gr(x||[],{value:Y,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?jA:[e]}}),ot=He(nt,2),lt=ot[0],rt=ot[1],it=iA(function(e){null===q||void 0===q||q(uA(e)),function(e){if(X){var t,n=e.key,o=lt.includes(n);t=H?o?lt.filter(function(e){return e!==n}):[].concat(Ye(lt),[n]):[n],rt(t);var l=Ee(Ee({},e),{},{selectedKeys:t});o?null===E||void 0===E||E(l):null===N||void 0===N||N(l)}!H&&Ae.length&&"inline"!==We&&pe(jA)}(e)}),gt=iA(function(e,t){var n=Ae.filter(function(t){return t!==e});if(t)n.push(e);else if("inline"!==We){var o=Ue(e);n=n.filter(function(e){return!o.has(e)})}at(Ae,n,!0)||pe(n,!0)}),ct=nA(We,qe,Ce,Ie,de,Oe,je,_e,function(e,t){var n=null!==t&&void 0!==t?t:!Ae.includes(e);gt(e,n)},ee);t.useEffect(function(){se(!0)},[]);var st=t.useMemo(function(){return{_internalRenderMenuItem:te,_internalRenderSubMenuItem:ne}},[te,ne]),dt="horizontal"!==We||y?ae:ae.map(function(e,n){return t.createElement(Hm,{key:e.key,overflowDisabled:n>Ne},e)}),It=t.createElement(Wm,$t({id:A,ref:de,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:yA,className:Ol()(a,"".concat(a,"-root"),"".concat(a,"-").concat(We),s,Ve(Ve({},"".concat(a,"-inline-collapsed"),Xe),"".concat(a,"-rtl"),Ce),i),dir:m,style:g,role:"menu",tabIndex:I,data:dt,renderRawItem:function(e){return e},renderRawRest:function(e){var n=e.length,o=n?ae.slice(-n):null;return t.createElement(NA,{eventKey:rA,title:Q,disabled:Ke,internalPopupClose:0===n,popupClassName:$},o)},maxCount:"horizontal"!==We||y?Wm.INVALIDATE:Wm.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Fe(e)},onKeyDown:ct},le));return t.createElement(Mm.Provider,{value:st},t.createElement(Vm.Provider,{value:Ie},t.createElement(Hm,{prefixCls:a,rootClassName:i,mode:We,openKeys:Ae,rtl:Ce,disabled:f,motion:ce?M:null,defaultMotions:ce?z:null,activeKey:qe,onActive:et,onInactive:tt,selectedKeys:lt,inlineIndent:K,subMenuOpenDelay:Z,subMenuCloseDelay:S,forceSubMenuRender:B,builtinPlacements:T,triggerSubMenuAction:D,getPopupContainer:P,itemIcon:j,expandIcon:O,onItemClick:it,onOpenChange:gt},t.createElement(Km.Provider,{value:$e},It),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(Ym.Provider,{value:Qe},ie)))))});var UA=OA;UA.Item=yA,UA.SubMenu=NA,UA.ItemGroup=MA,UA.Divider=EA;const QA=UA;const $A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var PA=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:$A}))};const qA=t.forwardRef(PA),_A=(0,t.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var eb=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const tb=e=>{const{prefixCls:n,className:o,dashed:l}=e,r=eb(e,["prefixCls","className","dashed"]),{getPrefixCls:a}=t.useContext(Rl),i=a("menu",n),g=Ol()({[`${i}-item-divider-dashed`]:!!l},o);return t.createElement(EA,Object.assign({className:g},r))},nb=e=>{var n;const{className:o,children:l,icon:r,title:a,danger:i,extra:g}=e,{prefixCls:c,firstLevel:s,direction:d,disableMenuItemTitleTooltip:I,inlineCollapsed:C}=t.useContext(_A),{siderCollapsed:u}=t.useContext(rg);let m=a;"undefined"===typeof a?m=s?l:"":!1===a&&(m="");const A={title:m};u||C||(A.title=null,A.open=!1);const b=_a(l).length;let p=t.createElement(yA,Object.assign({},Pa(e,["title","icon","danger"]),{className:Ol()({[`${c}-item-danger`]:i,[`${c}-item-only-child`]:1===(r?b+1:b)},o),title:"string"===typeof a?a:void 0}),dI(r,{className:Ol()(t.isValidElement(r)?null===(n=r.props)||void 0===n?void 0:n.className:void 0,`${c}-item-icon`)}),(e=>{const n=null===l||void 0===l?void 0:l[0],o=t.createElement("span",{className:Ol()(`${c}-title-content`,{[`${c}-title-content-with-extra`]:!!g||0===g})},l);return(!r||t.isValidElement(l)&&"span"===l.type)&&l&&e&&s&&"string"===typeof n?t.createElement("div",{className:`${c}-inline-collapsed-noicon`},n.charAt(0)):o})(C));return I||(p=t.createElement(zI,Object.assign({},A,{placement:"rtl"===d?"left":"right",classNames:{root:`${c}-inline-collapsed-tooltip`}}),p)),p};var ob=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const lb=t.createContext(null),rb=t.forwardRef((e,n)=>{const{children:o}=e,l=ob(e,["children"]),r=t.useContext(lb),a=t.useMemo(()=>Object.assign(Object.assign({},r),l),[r,l.prefixCls,l.mode,l.selectable,l.rootClassName]),i=function(e){return ir(e)&&ar(e)}(o),g=rr(n,i?gr(o):null);return t.createElement(lb.Provider,{value:a},t.createElement(Md,{space:!0},i?t.cloneElement(o,{ref:g}):o))}),ab=lb,ib=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),gb=new no("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),cb=new no("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),sb=new no("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),db=new no("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Ib=new no("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Cb=new no("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),ub=new no("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),mb=new no("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Ab={"slide-up":{inKeyframes:gb,outKeyframes:cb},"slide-down":{inKeyframes:sb,outKeyframes:db},"slide-left":{inKeyframes:Ib,outKeyframes:Cb},"slide-right":{inKeyframes:ub,outKeyframes:mb}},bb=(e,t)=>{const{antCls:n}=e,o=`${n}-${t}`,{inKeyframes:l,outKeyframes:r}=Ab[t];return[uI(o,l,r,e.motionDurationMid),{[`\n      ${o}-enter,\n      ${o}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${o}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},pb=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:o,colorSplit:l,lineWidth:r,lineType:a,itemPaddingInline:i}=e;return{[`${t}-horizontal`]:{lineHeight:o,border:0,borderBottom:`${wt(r)} ${a} ${l}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:i},[`> ${t}-item:hover,\n        > ${t}-item-active,\n        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},hb=e=>{let{componentCls:t,menuArrowOffset:n,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,\n    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${wt(o(n).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${wt(n)})`}}}}},fb=e=>Object.assign({},Ha(e)),yb=(e,t)=>{const{componentCls:n,itemColor:o,itemSelectedColor:l,subMenuItemSelectedColor:r,groupTitleColor:a,itemBg:i,subMenuItemBg:g,itemSelectedBg:c,activeBarHeight:s,activeBarWidth:d,activeBarBorderWidth:I,motionDurationSlow:C,motionEaseInOut:u,motionEaseOut:m,itemPaddingInline:A,motionDurationMid:b,itemHoverColor:p,lineType:h,colorSplit:f,itemDisabledColor:y,dangerItemColor:v,dangerItemHoverColor:Z,dangerItemSelectedColor:G,dangerItemActiveBg:S,dangerItemSelectedBg:B,popupBg:k,itemHoverBg:W,itemActiveBg:V,menuSubMenuBg:R,horizontalItemSelectedColor:w,horizontalItemSelectedBg:X,horizontalItemBorderRadius:J,horizontalItemHoverBg:H}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:o,background:i,[`&${n}-root:focus-visible`]:Object.assign({},fb(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:a}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:r},[`${n}-item, ${n}-submenu-title`]:{color:o,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},fb(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${y} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:p}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:W},"&:active":{backgroundColor:V}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:W},"&:active":{backgroundColor:V}}},[`${n}-item-danger`]:{color:v,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:Z}},[`&${n}-item:active`]:{background:S}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:l,[`&${n}-item-danger`]:{color:G},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:B}},[`&${n}-submenu > ${n}`]:{backgroundColor:R},[`&${n}-popup > ${n}`]:{backgroundColor:k},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:k},[`&${n}-horizontal`]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:I,marginTop:e.calc(I).mul(-1).equal(),marginBottom:0,borderRadius:J,"&::after":{position:"absolute",insetInline:A,bottom:0,borderBottom:`${wt(s)} solid transparent`,transition:`border-color ${C} ${u}`,content:'""'},"&:hover, &-active, &-open":{background:H,"&::after":{borderBottomWidth:s,borderBottomColor:w}},"&-selected":{color:w,backgroundColor:X,"&:hover":{backgroundColor:X},"&::after":{borderBottomWidth:s,borderBottomColor:w}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${wt(I)} ${h} ${f}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:g},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${wt(d)} solid ${l}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${m}`,`opacity ${b} ${m}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:G}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${u}`,`opacity ${b} ${u}`].join(",")}}}}}},vb=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:o,padding:l,menuArrowSize:r,marginXS:a,itemMarginBlock:i,itemWidth:g,itemPaddingInline:c}=e,s=e.calc(r).add(l).add(a).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:wt(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:i,width:g},[`> ${t}-item,\n            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:wt(n)},[`${t}-item-group-list ${t}-submenu-title,\n            ${t}-submenu-title`]:{paddingInlineEnd:s}}},Zb=e=>{const{componentCls:t,iconCls:n,itemHeight:o,colorTextLightSolid:l,dropdownWidth:r,controlHeightLG:a,motionEaseOut:i,paddingXL:g,itemMarginInline:c,fontSizeLG:s,motionDurationFast:d,motionDurationSlow:I,paddingXS:C,boxShadowSecondary:u,collapsedWidth:m,collapsedIconSize:A}=e,b={height:o,lineHeight:wt(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},vb(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},vb(e)),{boxShadow:u})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:r,maxHeight:`calc(100vh - ${wt(e.calc(a).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${I}`,`background ${I}`,`padding ${d} ${i}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:b,[`& ${t}-item-group-title`]:{paddingInlineStart:g}},[`${t}-item`]:b}},{[`${t}-inline-collapsed`]:{width:m,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:s,textAlign:"center"}}},[`> ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,\n          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${wt(e.calc(A).div(2).equal())} - ${wt(c)})`,textOverflow:"clip",[`\n            ${t}-submenu-arrow,\n            ${t}-submenu-expand-icon\n          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:A,lineHeight:wt(o),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:l}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Xa),{paddingInline:C})}}]},Gb=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:o,motionEaseInOut:l,motionEaseOut:r,iconCls:a,iconSize:i,iconMarginInlineEnd:g}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${l}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:i,fontSize:i,transition:[`font-size ${o} ${r}`,`margin ${n} ${l}`,`color ${n}`].join(","),"+ span":{marginInlineStart:g,opacity:1,transition:[`opacity ${n} ${l}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Sb=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:o,borderRadius:l,menuArrowSize:r,menuArrowOffset:a}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:r,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${o}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(r).mul(.6).equal(),height:e.calc(r).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:l,transition:[`background ${n} ${o}`,`transform ${n} ${o}`,`top ${n} ${o}`,`color ${n} ${o}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${wt(e.calc(a).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${wt(a)})`}}}}},Bb=e=>{const{antCls:t,componentCls:n,fontSize:o,motionDurationSlow:l,motionDurationMid:r,motionEaseInOut:a,paddingXS:i,padding:g,colorSplit:c,lineWidth:s,zIndexPopup:d,borderRadiusLG:I,subMenuItemBorderRadius:C,menuArrowSize:u,menuArrowOffset:m,lineType:A,groupTitleLineHeight:b,groupTitleFontSize:p}=e;return[{"":{[n]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${l} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${wt(i)} ${wt(g)}`,fontSize:p,lineHeight:b,transition:`all ${l}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${l} ${a}`,`background ${l} ${a}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${l} ${a}`,`background ${l} ${a}`,`padding ${r} ${a}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${l} ${a}`,`padding ${l} ${a}`].join(",")},[`${n}-title-content`]:{transition:`color ${l}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:A,borderWidth:0,borderTopWidth:s,marginBlock:s,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Gb(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${wt(e.calc(o).mul(2).equal())} ${wt(g)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:I,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:I},Gb(e)),Sb(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:C},[`${n}-submenu-title::after`]:{transition:`transform ${l} ${a}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Sb(e)),{[`&-inline-collapsed ${n}-submenu-arrow,\n        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${wt(m)})`},"&::after":{transform:`rotate(45deg) translateX(${wt(e.calc(m).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${wt(e.calc(u).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${wt(e.calc(m).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${wt(m)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},kb=e=>{var t,n,o;const{colorPrimary:l,colorError:r,colorTextDisabled:a,colorErrorBg:i,colorText:g,colorTextDescription:c,colorBgContainer:s,colorFillAlter:d,colorFillContent:I,lineWidth:C,lineWidthBold:u,controlItemBgActive:m,colorBgTextHover:A,controlHeightLG:b,lineHeight:p,colorBgElevated:h,marginXXS:f,padding:y,fontSize:v,controlHeightSM:Z,fontSizeLG:G,colorTextLightSolid:S,colorErrorHover:B}=e,k=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,W=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:C,V=null!==(o=e.itemMarginInline)&&void 0!==o?o:e.marginXXS,R=new Jo(S).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:g,itemColor:g,colorItemTextHover:g,itemHoverColor:g,colorItemTextHoverHorizontal:l,horizontalItemHoverColor:l,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:l,itemSelectedColor:l,subMenuItemSelectedColor:l,colorItemTextSelectedHorizontal:l,horizontalItemSelectedColor:l,colorItemBg:s,itemBg:s,colorItemBgHover:A,itemHoverBg:A,colorItemBgActive:I,itemActiveBg:m,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:m,itemSelectedBg:m,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:k,colorActiveBarHeight:u,activeBarHeight:u,colorActiveBarBorderSize:C,activeBarBorderWidth:W,colorItemTextDisabled:a,itemDisabledColor:a,colorDangerItemText:r,dangerItemColor:r,colorDangerItemTextHover:r,dangerItemHoverColor:r,colorDangerItemTextSelected:r,dangerItemSelectedColor:r,colorDangerItemBgActive:i,dangerItemActiveBg:i,colorDangerItemBgSelected:i,dangerItemSelectedBg:i,itemMarginInline:V,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:b,groupTitleLineHeight:p,collapsedWidth:2*b,popupBg:h,itemMarginBlock:f,itemPaddingInline:y,horizontalLineHeight:1.15*b+"px",iconSize:v,iconMarginInlineEnd:Z-v,collapsedIconSize:G,groupTitleFontSize:v,darkItemDisabledColor:new Jo(S).setA(.25).toRgbString(),darkItemColor:R,darkDangerItemColor:r,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:S,darkItemSelectedBg:l,darkDangerItemSelectedBg:r,darkItemHoverBg:"transparent",darkGroupTitleColor:R,darkItemHoverColor:S,darkDangerItemHoverColor:B,darkDangerItemSelectedColor:S,darkDangerItemActiveBg:r,itemWidth:k?`calc(100% + ${W}px)`:`calc(100% - ${2*V}px)`}},Wb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=Ui("Menu",e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:o,darkItemColor:l,darkDangerItemColor:r,darkItemBg:a,darkSubMenuItemBg:i,darkItemSelectedColor:g,darkItemSelectedBg:c,darkDangerItemSelectedBg:s,darkItemHoverBg:d,darkGroupTitleColor:I,darkItemHoverColor:C,darkItemDisabledColor:u,darkDangerItemHoverColor:m,darkDangerItemSelectedColor:A,darkDangerItemActiveBg:b,popupBg:p,darkPopupBg:h}=e,f=e.calc(o).div(7).mul(5).equal(),y=Ni(e,{menuArrowSize:f,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(f).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:p}),v=Ni(y,{itemColor:l,itemHoverColor:C,groupTitleColor:I,itemSelectedColor:g,subMenuItemSelectedColor:g,itemBg:a,popupBg:h,subMenuItemBg:i,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:d,itemDisabledColor:u,dangerItemColor:r,dangerItemHoverColor:m,dangerItemSelectedColor:A,dangerItemActiveBg:b,dangerItemSelectedBg:s,menuSubMenuBg:i,horizontalItemSelectedColor:g,horizontalItemSelectedBg:c});return[Bb(y),pb(y),Zb(y),yb(y,"light"),yb(v,"dark"),hb(y),ib(y),bb(y,"slide-up"),bb(y,"slide-down"),WI(y,"zoom-big")]},kb,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],unitless:{groupTitleLineHeight:!0}});return n(e,t)},Vb=e=>{var n;const{popupClassName:o,icon:l,title:r,theme:a}=e,i=t.useContext(_A),{prefixCls:g,inlineCollapsed:c,theme:s}=i,d=Fm();let I;if(l){const e=t.isValidElement(r)&&"span"===r.type;I=t.createElement(t.Fragment,null,dI(l,{className:Ol()(t.isValidElement(l)?null===(n=l.props)||void 0===n?void 0:n.className:void 0,`${g}-item-icon`)}),e?r:t.createElement("span",{className:`${g}-title-content`},r))}else I=c&&!d.length&&r&&"string"===typeof r?t.createElement("div",{className:`${g}-inline-collapsed-noicon`},r.charAt(0)):t.createElement("span",{className:`${g}-title-content`},r);const C=t.useMemo(()=>Object.assign(Object.assign({},i),{firstLevel:!1}),[i]),[u]=Od("Menu");return t.createElement(_A.Provider,{value:C},t.createElement(NA,Object.assign({},Pa(e,["icon"]),{title:I,popupClassName:Ol()(g,o,`${g}-${a||s}`),popupStyle:Object.assign({zIndex:u},e.popupStyle)})))};var Rb=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function wb(e){return null===e||!1===e}const Xb={item:nb,submenu:Vb,divider:tb},Jb=(0,t.forwardRef)((e,n)=>{var o;const l=t.useContext(ab),r=l||{},{getPrefixCls:a,getPopupContainer:i,direction:g,menu:c}=t.useContext(Rl),s=a(),{prefixCls:d,className:I,style:C,theme:u="light",expandIcon:m,_internalDisableMenuItemTitleTooltip:A,inlineCollapsed:b,siderCollapsed:p,rootClassName:h,mode:f,selectable:y,onClick:v,overflowedIndicatorPopupClassName:Z}=e,G=Pa(Rb(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(o=r.validator)||void 0===o||o.call(r,{mode:f});const S=yr(function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];null===v||void 0===v||v.apply(void 0,n),null===(e=r.onClick)||void 0===e||e.call(r)}),B=r.mode||f,k=null!==y&&void 0!==y?y:r.selectable,W=null!==b&&void 0!==b?b:p,V={horizontal:{motionName:`${s}-slide-up`},inline:_d(s),other:{motionName:`${s}-zoom-big`}},R=a("menu",d||r.prefixCls),w=fC(R),[X,J,H]=Wb(R,w,!l),x=Ol()(`${R}-${u}`,null===c||void 0===c?void 0:c.className,I),Y=t.useMemo(()=>{var e,n;if("function"===typeof m||wb(m))return m||null;if("function"===typeof r.expandIcon||wb(r.expandIcon))return r.expandIcon||null;if("function"===typeof(null===c||void 0===c?void 0:c.expandIcon)||wb(null===c||void 0===c?void 0:c.expandIcon))return(null===c||void 0===c?void 0:c.expandIcon)||null;const o=null!==(e=null!==m&&void 0!==m?m:null===r||void 0===r?void 0:r.expandIcon)&&void 0!==e?e:null===c||void 0===c?void 0:c.expandIcon;return dI(o,{className:Ol()(`${R}-submenu-expand-icon`,t.isValidElement(o)?null===(n=o.props)||void 0===n?void 0:n.className:void 0)})},[m,null===r||void 0===r?void 0:r.expandIcon,null===c||void 0===c?void 0:c.expandIcon,R]),N=t.useMemo(()=>({prefixCls:R,inlineCollapsed:W||!1,direction:g,firstLevel:!0,theme:u,mode:B,disableMenuItemTitleTooltip:A}),[R,W,g,A,u]);return X(t.createElement(ab.Provider,{value:null},t.createElement(_A.Provider,{value:N},t.createElement(QA,Object.assign({getPopupContainer:i,overflowedIndicator:t.createElement(qA,null),overflowedIndicatorPopupClassName:Ol()(R,`${R}-${u}`,Z),mode:B,selectable:k,onClick:S},G,{inlineCollapsed:W,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),C),className:x,prefixCls:R,direction:g,defaultMotions:V,expandIcon:Y,ref:n,rootClassName:Ol()(h,J,r.rootClassName,H,w),_internalComponents:Xb})))))}),Hb=Jb,xb=(0,t.forwardRef)((e,n)=>{const o=(0,t.useRef)(null),l=t.useContext(rg);return(0,t.useImperativeHandle)(n,()=>({menu:o.current,focus:e=>{var t;null===(t=o.current)||void 0===t||t.focus(e)}})),t.createElement(Hb,Object.assign({ref:o},e,l))});xb.Item=nb,xb.SubMenu=Vb,xb.Divider=tb,xb.ItemGroup=MA;const Yb=xb,Nb=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},Eb=Qi("Wave",e=>[Nb(e)]),Fb=`${kl}-wave-target`;var Kb,Mb=Ee({},s),zb=Mb.version,Lb=Mb.render,Db=Mb.unmountComponentAtNode;try{Number((zb||"").split(".")[0])>=18&&(Kb=Mb.createRoot)}catch(PV){}function Tb(e){var t=Mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===ke(t)&&(t.usingClientEntryPoint=e)}var jb="__rc_react_root__";function Ob(e,t){Kb?function(e,t){Tb(!0);var n=t[jb]||Kb(t);Tb(!1),n.render(e),t[jb]=n}(e,t):function(e,t){null===Lb||void 0===Lb||Lb(e,t)}(e,t)}function Ub(e){return Qb.apply(this,arguments)}function Qb(){return(Qb=gs(as().mark(function e(t){return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(function(){var e;null===(e=t[jb])||void 0===e||e.unmount(),delete t[jb]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $b(e){Db(e)}function Pb(){return(Pb=gs(as().mark(function e(t){return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Kb){e.next=2;break}return e.abrupt("return",Ub(t));case 2:$b(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}let qb=(e,t)=>(Ob(e,t),()=>function(e){return Pb.apply(this,arguments)}(t));function _b(e){return e&&(qb=e),qb}function ep(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function tp(e){return Number.isNaN(e)?0:e}const np=e=>{const{className:n,target:o,component:l,registerUnmount:r}=e,a=t.useRef(null),i=t.useRef(null);t.useEffect(()=>{i.current=r()},[]);const[g,c]=t.useState(null),[s,d]=t.useState([]),[I,C]=t.useState(0),[u,m]=t.useState(0),[A,b]=t.useState(0),[p,h]=t.useState(0),[f,y]=t.useState(!1),v={left:I,top:u,width:A,height:p,borderRadius:s.map(e=>`${e}px`).join(" ")};function Z(){const e=getComputedStyle(o);c(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:o}=getComputedStyle(e);return ep(t)?t:ep(n)?n:ep(o)?o:null}(o));const t="static"===e.position,{borderLeftWidth:n,borderTopWidth:l}=e;C(t?o.offsetLeft:tp(-parseFloat(n))),m(t?o.offsetTop:tp(-parseFloat(l))),b(o.offsetWidth),h(o.offsetHeight);const{borderTopLeftRadius:r,borderTopRightRadius:a,borderBottomLeftRadius:i,borderBottomRightRadius:g}=e;d([r,a,g,i].map(e=>tp(parseFloat(e))))}if(g&&(v["--wave-color"]=g),t.useEffect(()=>{if(o){const e=ea(()=>{Z(),y(!0)});let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(Z),t.observe(o)),()=>{ea.cancel(e),null===t||void 0===t||t.disconnect()}}},[]),!f)return null;const G=("Checkbox"===l||"Radio"===l)&&(null===o||void 0===o?void 0:o.classList.contains(Fb));return t.createElement(pa,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n,o;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=a.current)||void 0===n?void 0:n.parentElement;null===(o=i.current)||void 0===o||o.call(i).then(()=>{null===e||void 0===e||e.remove()})}return!1}},(e,o)=>{let{className:l}=e;return t.createElement("div",{ref:lr(a,o),className:Ol()(n,l,{"wave-quick":G}),style:v})})},op=(e,n)=>{var o;const{component:l}=n;if("Checkbox"===l&&!(null===(o=e.querySelector("input"))||void 0===o?void 0:o.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null===e||void 0===e||e.insertBefore(r,null===e||void 0===e?void 0:e.firstChild);const a=_b();let i=null;i=a(t.createElement(np,Object.assign({},n,{target:e,registerUnmount:function(){return i}})),r)},lp=(e,n,o)=>{const{wave:l}=t.useContext(Rl),[,r,a]=Wa(),i=yr(t=>{const i=e.current;if((null===l||void 0===l?void 0:l.disabled)||!i)return;const g=i.querySelector(`.${Fb}`)||i,{showEffect:c}=l||{};(c||op)(g,{className:n,token:r,component:o,event:t,hashId:a})}),g=t.useRef(null);return e=>{ea.cancel(g.current),g.current=ea(()=>{i(e)})}};const rp=e=>{const{children:n,disabled:o,component:l}=e,{getPrefixCls:r}=(0,t.useContext)(Rl),a=(0,t.useRef)(null),i=r("wave"),[,g]=Eb(i),c=lp(a,Ol()(i,g),l);if(t.useEffect(()=>{const e=a.current;if(!e||1!==e.nodeType||o)return;const t=t=>{!Rc(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}},[o]),!t.isValidElement(n))return null!==n&&void 0!==n?n:null;return dI(n,{ref:ar(n)?lr(gr(n),a):a})};var ap=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const ip=t.createContext(void 0),gp=e=>{const{getPrefixCls:n,direction:o}=t.useContext(Rl),{prefixCls:l,size:r,className:a}=e,i=ap(e,["prefixCls","size","className"]),g=n("btn-group",l),[,,c]=Wa(),s=t.useMemo(()=>{switch(r){case"large":return"lg";case"small":return"sm";default:return""}},[r]);const d=Ol()(g,{[`${g}-${s}`]:s,[`${g}-rtl`]:"rtl"===o},a,c);return t.createElement(ip.Provider,{value:r},t.createElement("div",Object.assign({},i,{className:d})))},cp=/^[\u4E00-\u9FA5]{2}$/,sp=cp.test.bind(cp);function dp(e){return"danger"===e?{danger:!0}:{type:e}}function Ip(e){return"string"===typeof e}function Cp(e){return"text"===e||"link"===e}function up(e,n){let o=!1;const l=[];return t.Children.forEach(e,e=>{const t=typeof e,n="string"===t||"number"===t;if(o&&n){const t=l.length-1,n=l[t];l[t]=`${n}${e}`}else l.push(e);o=n}),t.Children.map(l,e=>function(e,n){if(null===e||void 0===e)return;const o=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&Ip(e.type)&&sp(e.props.children)?dI(e,{children:e.props.children.split("").join(o)}):Ip(e)?sp(e)?t.createElement("span",null,e.split("").join(o)):t.createElement("span",null,e):cI(e)?t.createElement("span",null,e):e}(e,n))}["default","primary","danger"].concat(Ye(VI));const mp=(0,t.forwardRef)((e,n)=>{const{className:o,style:l,children:r,prefixCls:a}=e,i=Ol()(`${a}-icon`,o);return t.createElement("span",{ref:n,className:i,style:l},r)}),Ap=mp,bp=(0,t.forwardRef)((e,n)=>{const{prefixCls:o,className:l,style:r,iconClassName:a}=e,i=Ol()(`${o}-loading-icon`,l);return t.createElement(Ap,{prefixCls:o,className:i,style:r,ref:n},t.createElement(Hu,{className:a}))}),pp=()=>({width:0,opacity:0,transform:"scale(0)"}),hp=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),fp=e=>{const{prefixCls:n,loading:o,existIcon:l,className:r,style:a,mount:i}=e,g=!!o;return l?t.createElement(bp,{prefixCls:n,className:r,style:a}):t.createElement(pa,{visible:g,motionName:`${n}-loading-icon-motion`,motionAppear:!i,motionEnter:!i,motionLeave:!i,removeOnLeave:!0,onAppearStart:pp,onAppearActive:hp,onEnterStart:pp,onEnterActive:hp,onLeaveStart:hp,onLeaveActive:pp},(e,o)=>{let{className:l,style:i}=e;const g=Object.assign(Object.assign({},a),i);return t.createElement(bp,{prefixCls:n,className:Ol()(r,l),style:g,ref:o})})},yp=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),vp=e=>{const{componentCls:t,fontSize:n,lineWidth:o,groupBorderColor:l,colorErrorHover:r}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(o).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},yp(`${t}-primary`,l),yp(`${t}-danger`,r)]}},Zp=Math.round;function Gp(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],o=n.map(e=>parseFloat(e));for(let l=0;l<3;l+=1)o[l]=t(o[l]||0,n[l]||"",l);return n[3]?o[3]=n[3].includes("%")?o[3]/100:o[3]:o[3]=1,o}const Sp=(e,t,n)=>0===n?e:e/100;function Bp(e,t){const n=t||255;return e>n?n:e<0?0:e}class kp{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(Ve(this,"isValid",!0),Ve(this,"r",0),Ve(this,"g",0),Ve(this,"b",0),Ve(this,"a",1),Ve(this,"_h",void 0),Ve(this,"_s",void 0),Ve(this,"_l",void 0),Ve(this,"_v",void 0),Ve(this,"_max",void 0),Ve(this,"_min",void 0),Ve(this,"_brightness",void 0),e)if("string"===typeof e){const n=e.trim();function o(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):o("rgb")?this.fromRgbString(n):o("hsl")?this.fromHslString(n):(o("hsv")||o("hsb"))&&this.fromHsvString(n)}else if(e instanceof kp)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Bp(e.r),this.g=Bp(e.g),this.b=Bp(e.b),this.a="number"===typeof e.a?Bp(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Zp(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:t,s:n,l:o,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:t,s:n,l:o,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),o=t/100,l=e=>(n[e]-this[e])*o+this[e],r={r:Zp(l("r")),g:Zp(l("g")),b:Zp(l("b")),a:Zp(100*l("a"))/100};return this._c(r)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),o=e=>Zp((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:o("r"),g:o("g"),b:o("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const o=(this.b||0).toString(16);if(e+=2===o.length?o:"0"+o,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=Zp(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Zp(100*this.getSaturation()),n=Zp(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const o=this.clone();return o[e]=Bp(t,n),o}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:o,a:l}=e;if(this._h=t%360,this._s=n,this._l=o,this.a="number"===typeof l?l:1,n<=0){const e=Zp(255*o);this.r=e,this.g=e,this.b=e}let r=0,a=0,i=0;const g=t/60,c=(1-Math.abs(2*o-1))*n,s=c*(1-Math.abs(g%2-1));g>=0&&g<1?(r=c,a=s):g>=1&&g<2?(r=s,a=c):g>=2&&g<3?(a=c,i=s):g>=3&&g<4?(a=s,i=c):g>=4&&g<5?(r=s,i=c):g>=5&&g<6&&(r=c,i=s);const d=o-c/2;this.r=Zp(255*(r+d)),this.g=Zp(255*(a+d)),this.b=Zp(255*(i+d))}fromHsv(e){let{h:t,s:n,v:o,a:l}=e;this._h=t%360,this._s=n,this._v=o,this.a="number"===typeof l?l:1;const r=Zp(255*o);if(this.r=r,this.g=r,this.b=r,n<=0)return;const a=t/60,i=Math.floor(a),g=a-i,c=Zp(o*(1-n)*255),s=Zp(o*(1-n*g)*255),d=Zp(o*(1-n*(1-g))*255);switch(i){case 0:this.g=d,this.b=c;break;case 1:this.r=s,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=s;break;case 4:this.r=d,this.g=c;break;default:this.g=c,this.b=s}}fromHsvString(e){const t=Gp(e,Sp);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Gp(e,Sp);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Gp(e,(e,t)=>t.includes("%")?Zp(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Wp=["b"],Vp=["v"],Rp=function(e){return Math.round(Number(e||0))},wp=function(e){ur(n,e);var t=hr(n);function n(e){return it(this,n),t.call(this,function(e){if(e instanceof kp)return e;if(e&&"object"===ke(e)&&"h"in e&&"b"in e){var t=e,n=t.b;return Ee(Ee({},cr(t,Wp)),{},{v:n})}return"string"===typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return ct(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=Rp(100*e.s),n=Rp(100*e.b),o=Rp(e.h),l=e.a,r="hsb(".concat(o,", ").concat(t,"%, ").concat(n,"%)"),a="hsba(".concat(o,", ").concat(t,"%, ").concat(n,"%, ").concat(l.toFixed(0===l?0:2),")");return 1===l?r:a}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return Ee(Ee({},cr(e,Vp)),{},{b:t,a:this.a})}}]),n}(kp),Xp=function(e){return e instanceof wp?e:new wp(e)};Xp("#1677ff");let Jp=function(){return ct(function e(t){var n;if(it(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map(t=>({color:new e(t.color),percent:t.percent})),void(this.cleared=t.cleared);const o=Array.isArray(t);o&&t.length?(this.colors=t.map(t=>{let{color:n,percent:o}=t;return{color:new e(n),percent:o}}),this.metaColor=new wp(this.colors[0].color.metaColor)):this.metaColor=new wp(o?"":t),(!t||o&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)},[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null===e||void 0===e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){return`linear-gradient(90deg, ${e.map(e=>`${e.color.toRgbString()} ${e.percent}%`).join(", ")})`}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,n)=>{const o=e.colors[n];return t.percent===o.percent&&t.color.equals(o.color)}):this.toHexString()===e.toHexString())}}])}();const Hp=(e,t)=>{const{r:n,g:o,b:l,a:r}=e.toRgb(),a=new wp(e.toRgbString()).onBackground(t).toHsv();return r<=.5?a.v>.5:.299*n+.587*o+.114*l>192},xp=e=>{const{paddingInline:t,onlyIconSize:n}=e;return Ni(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},Yp=e=>{var t,n,o,l,r,a;const i=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,g=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(o=e.contentFontSizeLG)&&void 0!==o?o:e.fontSizeLG,s=null!==(l=e.contentLineHeight)&&void 0!==l?l:bl(i),d=null!==(r=e.contentLineHeightSM)&&void 0!==r?r:bl(g),I=null!==(a=e.contentLineHeightLG)&&void 0!==a?a:bl(c),C=Hp(new Jp(e.colorBgSolid),"#fff")?"#000":"#fff",u=VI.reduce((t,n)=>Object.assign(Object.assign({},t),{[`${n}ShadowColor`]:`0 ${wt(e.controlOutlineWidth)} 0 ${fa(e[`${n}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},u),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:C,contentFontSize:i,contentFontSizeSM:g,contentFontSizeLG:c,contentLineHeight:s,contentLineHeightSM:d,contentLineHeightLG:I,paddingBlock:Math.max((e.controlHeight-i*s)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-g*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*I)/2-e.lineWidth,0)})},Np=e=>{const{componentCls:t,iconCls:n,fontWeight:o,opacityLoading:l,motionDurationSlow:r,motionEaseInOut:a,marginXS:i,calc:g}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:o,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${wt(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}},"> a":{color:"currentColor"},"&:not(:disabled)":xa(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:l,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(e=>`${e} ${r} ${a}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:g(i).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:g(i).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:g(i).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:g(i).mul(-1).equal()}}}}}},Ep=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),Fp=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Kp=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),Mp=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),zp=(e,t,n,o,l,r,a,i)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:o||void 0,boxShadow:"none"},Ep(e,Object.assign({background:t},a),Object.assign({background:t},i))),{"&:disabled":{cursor:"not-allowed",color:l||void 0,borderColor:r||void 0}})}),Lp=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Mp(e))}),Dp=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Tp=(e,t,n,o)=>{const l=o&&["link","text"].includes(o)?Dp:Lp;return Object.assign(Object.assign({},l(e)),Ep(e.componentCls,t,n))},jp=(e,t,n,o,l)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},Tp(e,o,l))}),Op=(e,t,n,o,l)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},Tp(e,o,l))}),Up=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Qp=(e,t,n,o)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Tp(e,n,o))}),$p=(e,t,n,o,l)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},Tp(e,o,l,n))}),Pp=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},jp(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Up(e)),Qp(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),zp(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),$p(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),qp=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Op(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Up(e)),Qp(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),$p(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),$p(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),zp(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),_p=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},jp(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Op(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Up(e)),Qp(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),$p(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),$p(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),zp(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),eh=e=>Object.assign(Object.assign({},$p(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),zp(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),th=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Pp(e),[`${t}-color-primary`]:qp(e),[`${t}-color-dangerous`]:_p(e),[`${t}-color-link`]:eh(e)},(e=>{const{componentCls:t}=e;return VI.reduce((n,o)=>{const l=e[`${o}6`],r=e[`${o}1`],a=e[`${o}5`],i=e[`${o}2`],g=e[`${o}3`],c=e[`${o}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${o}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:l,boxShadow:e[`${o}ShadowColor`]},jp(e,e.colorTextLightSolid,l,{background:a},{background:c})),Op(e,l,e.colorBgContainer,{color:a,borderColor:a,background:e.colorBgContainer},{color:c,borderColor:c,background:e.colorBgContainer})),Up(e)),Qp(e,r,{background:i},{background:g})),$p(e,l,"link",{color:a},{color:c})),$p(e,l,"text",{color:a,background:r},{color:c,background:g}))})},{})})(e))},nh=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Op(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),$p(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),jp(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),$p(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),oh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:o,fontSize:l,borderRadius:r,buttonPaddingHorizontal:a,iconCls:i,buttonPaddingVertical:g,buttonIconOnlyFontSize:c}=e;return[{[t]:{fontSize:l,height:o,padding:`${wt(g)} ${wt(a)}`,borderRadius:r,[`&${n}-icon-only`]:{width:o,[i]:{fontSize:c}}}},{[`${n}${n}-circle${t}`]:Fp(e)},{[`${n}${n}-round${t}`]:Kp(e)}]},lh=e=>{const t=Ni(e,{fontSize:e.contentFontSize});return oh(t,e.componentCls)},rh=e=>{const t=Ni(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return oh(t,`${e.componentCls}-sm`)},ah=e=>{const t=Ni(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return oh(t,`${e.componentCls}-lg`)},ih=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},gh=Ui("Button",e=>{const t=xp(e);return[Np(t),lh(t),rh(t),ah(t),ih(t),th(t),nh(t),vp(t)]},Yp,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function ch(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function sh(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},ch(e,t)),(n=e.componentCls,o=t,{[`&-item:not(${o}-first-item):not(${o}-last-item)`]:{borderRadius:0},[`&-item${o}-first-item:not(${o}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${o}-last-item:not(${o}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,o}const dh=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:o,calc:l}=e,r=l(o).mul(-1).equal(),a=e=>{const l=`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:e?r:0,insetInlineStart:e?0:r,backgroundColor:n,content:'""',width:e?"100%":o,height:e?o:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},Ih=$i(["Button","compact"],e=>{const t=xp(e);return[GC(t),sh(t),dh(t)]},Yp);var Ch=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const uh={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},mh=t.forwardRef((e,n)=>{var o,l;const{loading:r=!1,prefixCls:a,color:i,variant:g,type:c,danger:s=!1,shape:d="default",size:I,styles:C,disabled:u,className:m,rootClassName:A,children:b,icon:p,iconPosition:h="start",ghost:f=!1,block:y=!1,htmlType:v="button",classNames:Z,style:G={},autoInsertSpace:S,autoFocus:B}=e,k=Ch(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),W=c||"default",{button:V}=t.useContext(Rl),[R,w]=(0,t.useMemo)(()=>{if(i&&g)return[i,g];if(c||s){const e=uh[W]||[];return s?["danger",e[1]]:e}return(null===V||void 0===V?void 0:V.color)&&(null===V||void 0===V?void 0:V.variant)?[V.color,V.variant]:["default","outlined"]},[c,i,g,s,null===V||void 0===V?void 0:V.variant,null===V||void 0===V?void 0:V.color]),X="danger"===R?"dangerous":R,{getPrefixCls:J,direction:H,autoInsertSpace:x,className:Y,style:N,classNames:E,styles:F}=Jl("button"),K=null===(o=null!==S&&void 0!==S?S:x)||void 0===o||o,M=J("btn",a),[z,L,D]=gh(M),T=(0,t.useContext)(El),j=null!==u&&void 0!==u?u:T,O=(0,t.useContext)(ip),U=(0,t.useMemo)(()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(r),[r]),[Q,$]=(0,t.useState)(U.loading),[P,q]=(0,t.useState)(!1),_=(0,t.useRef)(null),ee=rr(n,_),te=1===t.Children.count(b)&&!p&&!Cp(w),ne=(0,t.useRef)(!0);t.useEffect(()=>(ne.current=!1,()=>{ne.current=!0}),[]),(0,t.useLayoutEffect)(()=>{let e=null;return U.delay>0?e=setTimeout(()=>{e=null,$(!0)},U.delay):$(U.loading),function(){e&&(clearTimeout(e),e=null)}},[U.delay,U.loading]),(0,t.useEffect)(()=>{if(!_.current||!K)return;const e=_.current.textContent||"";te&&sp(e)?P||q(!0):P&&q(!1)}),(0,t.useEffect)(()=>{B&&_.current&&_.current.focus()},[]);const oe=t.useCallback(t=>{var n;Q||j?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)},[e.onClick,Q,j]);const{compactSize:le,compactItemClassnames:re}=Nd(M,H),ae={large:"lg",small:"sm",middle:void 0},ie=Rd(e=>{var t,n;return null!==(n=null!==(t=null!==I&&void 0!==I?I:le)&&void 0!==t?t:O)&&void 0!==n?n:e}),ge=ie&&null!==(l=ae[ie])&&void 0!==l?l:"",ce=Q?"loading":p,se=Pa(k,["navigate"]),de=Ol()(M,L,D,{[`${M}-${d}`]:"default"!==d&&d,[`${M}-${W}`]:W,[`${M}-dangerous`]:s,[`${M}-color-${X}`]:X,[`${M}-variant-${w}`]:w,[`${M}-${ge}`]:ge,[`${M}-icon-only`]:!b&&0!==b&&!!ce,[`${M}-background-ghost`]:f&&!Cp(w),[`${M}-loading`]:Q,[`${M}-two-chinese-chars`]:P&&K&&!Q,[`${M}-block`]:y,[`${M}-rtl`]:"rtl"===H,[`${M}-icon-end`]:"end"===h},re,m,A,Y),Ie=Object.assign(Object.assign({},N),G),Ce=Ol()(null===Z||void 0===Z?void 0:Z.icon,E.icon),ue=Object.assign(Object.assign({},(null===C||void 0===C?void 0:C.icon)||{}),F.icon||{}),me=p&&!Q?t.createElement(Ap,{prefixCls:M,className:Ce,style:ue},p):r&&"object"===typeof r&&r.icon?t.createElement(Ap,{prefixCls:M,className:Ce,style:ue},r.icon):t.createElement(fp,{existIcon:!!p,prefixCls:M,loading:Q,mount:ne.current}),Ae=b||0===b?up(b,te&&K):null;if(void 0!==se.href)return z(t.createElement("a",Object.assign({},se,{className:Ol()(de,{[`${M}-disabled`]:j}),href:j?void 0:se.href,style:Ie,onClick:oe,ref:ee,tabIndex:j?-1:0}),me,Ae));let be=t.createElement("button",Object.assign({},k,{type:v,className:de,style:Ie,onClick:oe,disabled:j,ref:ee}),me,Ae,re&&t.createElement(Ih,{prefixCls:M}));return Cp(w)||(be=t.createElement(rp,{component:"Button",disabled:Q},be)),z(be)}),Ah=mh;Ah.Group=gp,Ah.__ANT_BUTTON=!0;const bh=Ah,ph=["xxl","xl","lg","md","sm","xs"],hh=(e,t)=>{if(t)for(const n of ph)if(e[n]&&void 0!==(null===t||void 0===t?void 0:t[n]))return t[n]},fh=()=>{const[,e]=Wa(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(ph).reverse();return n.forEach((e,o)=>{const l=e.toUpperCase(),r=`screen${l}Min`,a=`screen${l}`;if(!(t[r]<=t[a]))throw new Error(`${r}<=${a} fails : !(${t[r]}<=${t[a]})`);if(o<n.length-1){const e=`screen${l}Max`;if(!(t[a]<=t[e]))throw new Error(`${a}<=${e} fails : !(${t[a]}<=${t[e]})`);const r=`screen${n[o+1].toUpperCase()}Min`;if(!(t[e]<=t[r]))throw new Error(`${e}<=${r} fails : !(${t[e]}<=${t[r]})`)}}),e})(e));return t.useMemo(()=>{const e=new Map;let t=-1,o={};return{responsiveMap:n,matchHandlers:{},dispatch:t=>(o=t,e.forEach(e=>e(o)),e.size>=1),subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(o),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.entries(n).forEach(e=>{let[t,n]=e;const l=e=>{let{matches:n}=e;this.dispatch(Object.assign(Object.assign({},o),{[t]:n}))},r=window.matchMedia(n);Gi(r,l),this.matchHandlers[n]={mql:r,listener:l},l(r)})},unregister(){Object.values(n).forEach(e=>{const t=this.matchHandlers[e];Si(null===t||void 0===t?void 0:t.mql,null===t||void 0===t?void 0:t.listener)}),e.clear()}}},[e])};function yh(){const[,e]=t.useReducer(e=>e+1,0);return e}const vh=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,t.useRef)(n),l=yh(),r=fh();return Ft(()=>{const t=r.subscribe(t=>{o.current=t,e&&l()});return()=>r.unsubscribe(t)},[]),o.current};const Zh=(0,t.createContext)({}),Gh=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Sh=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:o,gridColumns:l}=e,r={};for(let a=l;a>=0;a--)0===a?(r[`${o}${t}-${a}`]={display:"none"},r[`${o}-push-${a}`]={insetInlineStart:"auto"},r[`${o}-pull-${a}`]={insetInlineEnd:"auto"},r[`${o}${t}-push-${a}`]={insetInlineStart:"auto"},r[`${o}${t}-pull-${a}`]={insetInlineEnd:"auto"},r[`${o}${t}-offset-${a}`]={marginInlineStart:0},r[`${o}${t}-order-${a}`]={order:0}):(r[`${o}${t}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/l*100}%`,maxWidth:a/l*100+"%"}],r[`${o}${t}-push-${a}`]={insetInlineStart:a/l*100+"%"},r[`${o}${t}-pull-${a}`]={insetInlineEnd:a/l*100+"%"},r[`${o}${t}-offset-${a}`]={marginInlineStart:a/l*100+"%"},r[`${o}${t}-order-${a}`]={order:a});return r[`${o}${t}-flex`]={flex:`var(--${n}${t}-flex)`},r})(e,t),Bh=Ui("Grid",e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),kh=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),Wh=Ui("Grid",e=>{const t=Ni(e,{gridColumns:24}),n=kh(t);return delete n.xs,[Gh(t),Sh(t,""),Sh(t,"-xs"),Object.keys(n).map(e=>((e,t,n)=>({[`@media (min-width: ${wt(t)})`]:Object.assign({},Sh(e,n))}))(t,n[e],`-${e}`)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}));var Vh=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function Rh(e,n){const[o,l]=t.useState("string"===typeof e?e:"");return t.useEffect(()=>{(()=>{if("string"===typeof e&&l(e),"object"===typeof e)for(let t=0;t<ph.length;t++){const o=ph[t];if(!n||!n[o])continue;const r=e[o];if(void 0!==r)return void l(r)}})()},[JSON.stringify(e),n]),o}const wh=t.forwardRef((e,n)=>{const{prefixCls:o,justify:l,align:r,className:a,style:i,children:g,gutter:c=0,wrap:s}=e,d=Vh(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:I,direction:C}=t.useContext(Rl),u=vh(!0,null),m=Rh(r,u),A=Rh(l,u),b=I("row",o),[p,h,f]=Bh(b),y=function(e,t){const n=[void 0,void 0],o=Array.isArray(e)?e:[e,void 0],l=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return o.forEach((e,t)=>{if("object"===typeof e&&null!==e)for(let o=0;o<ph.length;o++){const r=ph[o];if(l[r]&&void 0!==e[r]){n[t]=e[r];break}}else n[t]=e}),n}(c,u),v=Ol()(b,{[`${b}-no-wrap`]:!1===s,[`${b}-${A}`]:A,[`${b}-${m}`]:m,[`${b}-rtl`]:"rtl"===C},a,h,f),Z={},G=null!=y[0]&&y[0]>0?y[0]/-2:void 0;G&&(Z.marginLeft=G,Z.marginRight=G);const[S,B]=y;Z.rowGap=B;const k=t.useMemo(()=>({gutter:[S,B],wrap:s}),[S,B,s]);return p(t.createElement(Zh.Provider,{value:k},t.createElement("div",Object.assign({},d,{className:v,style:Object.assign(Object.assign({},Z),i),ref:n}),g)))});const Xh=wh,Jh=Xh;var Hh=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function xh(e){return"number"===typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const Yh=["xs","sm","md","lg","xl","xxl"],Nh=t.forwardRef((e,n)=>{const{getPrefixCls:o,direction:l}=t.useContext(Rl),{gutter:r,wrap:a}=t.useContext(Zh),{prefixCls:i,span:g,order:c,offset:s,push:d,pull:I,className:C,children:u,flex:m,style:A}=e,b=Hh(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),p=o("col",i),[h,f,y]=Wh(p),v={};let Z={};Yh.forEach(t=>{let n={};const o=e[t];"number"===typeof o?n.span=o:"object"===typeof o&&(n=o||{}),delete b[t],Z=Object.assign(Object.assign({},Z),{[`${p}-${t}-${n.span}`]:void 0!==n.span,[`${p}-${t}-order-${n.order}`]:n.order||0===n.order,[`${p}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${p}-${t}-push-${n.push}`]:n.push||0===n.push,[`${p}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${p}-rtl`]:"rtl"===l}),n.flex&&(Z[`${p}-${t}-flex`]=!0,v[`--${p}-${t}-flex`]=xh(n.flex))});const G=Ol()(p,{[`${p}-${g}`]:void 0!==g,[`${p}-order-${c}`]:c,[`${p}-offset-${s}`]:s,[`${p}-push-${d}`]:d,[`${p}-pull-${I}`]:I},C,Z,f,y),S={};if(r&&r[0]>0){const e=r[0]/2;S.paddingLeft=e,S.paddingRight=e}return m&&(S.flex=xh(m),!1!==a||S.minWidth||(S.minWidth=0)),h(t.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign(Object.assign({},S),A),v),className:G,ref:n}),u))});const Eh=Nh,Fh=Eh,Kh=e=>{const{prefixCls:n,className:o,style:l,size:r,shape:a}=e,i=Ol()({[`${n}-lg`]:"large"===r,[`${n}-sm`]:"small"===r}),g=Ol()({[`${n}-circle`]:"circle"===a,[`${n}-square`]:"square"===a,[`${n}-round`]:"round"===a}),c=t.useMemo(()=>"number"===typeof r?{width:r,height:r,lineHeight:`${r}px`}:{},[r]);return t.createElement("span",{className:Ol()(n,i,g,o),style:Object.assign(Object.assign({},c),l)})},Mh=new no("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),zh=e=>({height:e,lineHeight:wt(e)}),Lh=e=>Object.assign({width:e},zh(e)),Dh=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Mh,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Th=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},zh(e)),jh=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:o,controlHeightLG:l,controlHeightSM:r}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Lh(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Lh(l)),[`${t}${t}-sm`]:Object.assign({},Lh(r))}},Oh=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:r,gradientFromColor:a,calc:i}=e;return{[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},Th(t,i)),[`${o}-lg`]:Object.assign({},Th(l,i)),[`${o}-sm`]:Object.assign({},Th(r,i))}},Uh=e=>Object.assign({width:e},zh(e)),Qh=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:o,borderRadiusSM:l,calc:r}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:o,borderRadius:l},Uh(r(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Uh(n)),{maxWidth:r(n).mul(4).equal(),maxHeight:r(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},$h=(e,t,n)=>{const{skeletonButtonCls:o}=e;return{[`${n}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${o}-round`]:{borderRadius:t}}},Ph=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},zh(e)),qh=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:o,controlHeightLG:l,controlHeightSM:r,gradientFromColor:a,calc:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:t,width:i(o).mul(2).equal(),minWidth:i(o).mul(2).equal()},Ph(o,i))},$h(e,o,n)),{[`${n}-lg`]:Object.assign({},Ph(l,i))}),$h(e,l,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},Ph(r,i))}),$h(e,r,`${n}-sm`))},_h=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:r,skeletonInputCls:a,skeletonImageCls:i,controlHeight:g,controlHeightLG:c,controlHeightSM:s,gradientFromColor:d,padding:I,marginSM:C,borderRadius:u,titleHeight:m,blockRadius:A,paragraphLiHeight:b,controlHeightXS:p,paragraphMarginTop:h}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:I,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},Lh(g)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Lh(c)),[`${n}-sm`]:Object.assign({},Lh(s))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[o]:{width:"100%",height:m,background:d,borderRadius:A,[`+ ${l}`]:{marginBlockStart:s}},[l]:{padding:0,"> li":{width:"100%",height:b,listStyle:"none",background:d,borderRadius:A,"+ li":{marginBlockStart:p}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:u}}},[`${t}-with-avatar ${t}-content`]:{[o]:{marginBlockStart:C,[`+ ${l}`]:{marginBlockStart:h}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},qh(e)),jh(e)),Oh(e)),Qh(e)),[`${t}${t}-block`]:{width:"100%",[r]:{width:"100%"},[a]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${o},\n        ${l} > li,\n        ${n},\n        ${r},\n        ${a},\n        ${i}\n      `]:Object.assign({},Dh(e))}}},ef=Ui("Skeleton",e=>{const{componentCls:t,calc:n}=e,o=Ni(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[_h(o)]},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),tf=e=>{const{prefixCls:n,className:o,rootClassName:l,active:r,shape:a="circle",size:i="default"}=e,{getPrefixCls:g}=t.useContext(Rl),c=g("skeleton",n),[s,d,I]=ef(c),C=Pa(e,["prefixCls","className"]),u=Ol()(c,`${c}-element`,{[`${c}-active`]:r},o,l,d,I);return s(t.createElement("div",{className:u},t.createElement(Kh,Object.assign({prefixCls:`${c}-avatar`,shape:a,size:i},C))))},nf=e=>{const{prefixCls:n,className:o,rootClassName:l,active:r,block:a=!1,size:i="default"}=e,{getPrefixCls:g}=t.useContext(Rl),c=g("skeleton",n),[s,d,I]=ef(c),C=Pa(e,["prefixCls"]),u=Ol()(c,`${c}-element`,{[`${c}-active`]:r,[`${c}-block`]:a},o,l,d,I);return s(t.createElement("div",{className:u},t.createElement(Kh,Object.assign({prefixCls:`${c}-button`,size:i},C))))},of=e=>{const{prefixCls:n,className:o,rootClassName:l,style:r,active:a}=e,{getPrefixCls:i}=t.useContext(Rl),g=i("skeleton",n),[c,s,d]=ef(g),I=Ol()(g,`${g}-element`,{[`${g}-active`]:a},o,l,s,d);return c(t.createElement("div",{className:I},t.createElement("div",{className:Ol()(`${g}-image`,o),style:r},t.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${g}-image-svg`},t.createElement("title",null,"Image placeholder"),t.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${g}-image-path`})))))},lf=e=>{const{prefixCls:n,className:o,rootClassName:l,active:r,block:a,size:i="default"}=e,{getPrefixCls:g}=t.useContext(Rl),c=g("skeleton",n),[s,d,I]=ef(c),C=Pa(e,["prefixCls"]),u=Ol()(c,`${c}-element`,{[`${c}-active`]:r,[`${c}-block`]:a},o,l,d,I);return s(t.createElement("div",{className:u},t.createElement(Kh,Object.assign({prefixCls:`${c}-input`,size:i},C))))},rf=e=>{const{prefixCls:n,className:o,rootClassName:l,style:r,active:a,children:i}=e,{getPrefixCls:g}=t.useContext(Rl),c=g("skeleton",n),[s,d,I]=ef(c),C=Ol()(c,`${c}-element`,{[`${c}-active`]:a},d,o,l,I);return s(t.createElement("div",{className:C},t.createElement("div",{className:Ol()(`${c}-image`,o),style:r},i)))},af=(e,t)=>{const{width:n,rows:o=2}=t;return Array.isArray(n)?n[e]:o-1===e?n:void 0},gf=e=>{const{prefixCls:n,className:o,style:l,rows:r=0}=e,a=Array.from({length:r}).map((n,o)=>t.createElement("li",{key:o,style:{width:af(o,e)}}));return t.createElement("ul",{className:Ol()(n,o),style:l},a)},cf=e=>{let{prefixCls:n,className:o,width:l,style:r}=e;return t.createElement("h3",{className:Ol()(n,o),style:Object.assign({width:l},r)})};function sf(e){return e&&"object"===typeof e?e:{}}const df=e=>{const{prefixCls:n,loading:o,className:l,rootClassName:r,style:a,children:i,avatar:g=!1,title:c=!0,paragraph:s=!0,active:d,round:I}=e,{getPrefixCls:C,direction:u,className:m,style:A}=Jl("skeleton"),b=C("skeleton",n),[p,h,f]=ef(b);if(o||!("loading"in e)){const e=!!g,n=!!c,o=!!s;let i,C;if(e){const e=Object.assign(Object.assign({prefixCls:`${b}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(n,o)),sf(g));i=t.createElement("div",{className:`${b}-header`},t.createElement(Kh,Object.assign({},e)))}if(n||o){let l,r;if(n){const n=Object.assign(Object.assign({prefixCls:`${b}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,o)),sf(c));l=t.createElement(cf,Object.assign({},n))}if(o){const o=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,n)),sf(s));r=t.createElement(gf,Object.assign({},o))}C=t.createElement("div",{className:`${b}-content`},l,r)}const y=Ol()(b,{[`${b}-with-avatar`]:e,[`${b}-active`]:d,[`${b}-rtl`]:"rtl"===u,[`${b}-round`]:I},m,l,r,h,f);return p(t.createElement("div",{className:y,style:Object.assign(Object.assign({},A),a)},i,C))}return null!==i&&void 0!==i?i:null};df.Button=nf,df.Avatar=tf,df.Input=lf,df.Image=of,df.Node=rf;const If=df;const Cf={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var uf=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Cf}))};const mf=t.forwardRef(uf);const Af={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var bf=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Af}))};const pf=t.forwardRef(bf),hf=(0,t.createContext)(null);const ff=function(e){var n=e.activeTabOffset,o=e.horizontal,l=e.rtl,r=e.indicator,a=void 0===r?{}:r,i=a.size,g=a.align,c=void 0===g?"center":g,s=He((0,t.useState)(),2),d=s[0],I=s[1],C=(0,t.useRef)(),u=t.useCallback(function(e){return"function"===typeof i?i(e):"number"===typeof i?i:e},[i]);function m(){ea.cancel(C.current)}return(0,t.useEffect)(function(){var e={};if(n)if(o){e.width=u(n.width);var t=l?"right":"left";"start"===c&&(e[t]=n[t]),"center"===c&&(e[t]=n[t]+n.width/2,e.transform=l?"translateX(50%)":"translateX(-50%)"),"end"===c&&(e[t]=n[t]+n.width,e.transform="translateX(-100%)")}else e.height=u(n.height),"start"===c&&(e.top=n.top),"center"===c&&(e.top=n.top+n.height/2,e.transform="translateY(-50%)"),"end"===c&&(e.top=n.top+n.height,e.transform="translateY(-100%)");return m(),C.current=ea(function(){var t=d&&e&&Object.keys(e).every(function(t){var n=e[t],o=d[t];return"number"===typeof n&&"number"===typeof o?Math.round(n)===Math.round(o):n===o});t||I(e)}),m},[JSON.stringify(n),o,l,c,u]),{style:d}};var yf={width:0,height:0,left:0,top:0};function vf(e,n){var o=t.useRef(e),l=He(t.useState({}),2)[1];return[o.current,function(e){var t="function"===typeof e?e(o.current):e;t!==o.current&&n(t,o.current),o.current=t,l({})}]}var Zf=Math.pow(.995,20);function Gf(e){var n=He((0,t.useState)(0),2),o=n[0],l=n[1],r=(0,t.useRef)(0),a=(0,t.useRef)();return a.current=e,Et(function(){var e;null===(e=a.current)||void 0===e||e.call(a)},[o]),function(){r.current===o&&(r.current+=1,l(r.current))}}var Sf={width:0,height:0,left:0,top:0,right:0};function Bf(e){var t;return e instanceof Map?(t={},e.forEach(function(e,n){t[n]=e})):t=e,JSON.stringify(t)}function kf(e){return String(e).replace(/"/g,"TABS_DQ")}function Wf(e,t,n,o){return!(!n||o||!1===e||void 0===e&&(!1===t||null===t))}var Vf=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.editable,r=e.locale,a=e.style;return l&&!1!==l.showAdd?t.createElement("button",{ref:n,type:"button",className:"".concat(o,"-nav-add"),style:a,"aria-label":(null===r||void 0===r?void 0:r.addAriaLabel)||"Add tab",onClick:function(e){l.onEdit("add",{event:e})}},l.addIcon||"+"):null});const Rf=Vf;var wf=t.forwardRef(function(e,n){var o,l=e.position,r=e.prefixCls,a=e.extra;if(!a)return null;var i={};return"object"!==ke(a)||t.isValidElement(a)?i.right=a:i=a,"right"===l&&(o=i.right),"left"===l&&(o=i.left),o?t.createElement("div",{className:"".concat(r,"-extra-content"),ref:n},o):null});const Xf=wf;var Jf=OI.ESC,Hf=OI.TAB;const xf=(0,t.forwardRef)(function(e,n){var o=e.overlay,l=e.arrow,r=e.prefixCls,a=(0,t.useMemo)(function(){return"function"===typeof o?o():o},[o]),i=lr(n,gr(a));return t.createElement(t.Fragment,null,l&&t.createElement("div",{className:"".concat(r,"-arrow")}),t.cloneElement(a,{ref:ar(a)?i:void 0}))});var Yf={adjustX:1,adjustY:1},Nf=[0,0];const Ef={topLeft:{points:["bl","tl"],overflow:Yf,offset:[0,-4],targetOffset:Nf},top:{points:["bc","tc"],overflow:Yf,offset:[0,-4],targetOffset:Nf},topRight:{points:["br","tr"],overflow:Yf,offset:[0,-4],targetOffset:Nf},bottomLeft:{points:["tl","bl"],overflow:Yf,offset:[0,4],targetOffset:Nf},bottom:{points:["tc","bc"],overflow:Yf,offset:[0,4],targetOffset:Nf},bottomRight:{points:["tr","br"],overflow:Yf,offset:[0,4],targetOffset:Nf}};var Ff=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Kf(e,n){var o,l=e.arrow,r=void 0!==l&&l,a=e.prefixCls,i=void 0===a?"rc-dropdown":a,g=e.transitionName,c=e.animation,s=e.align,d=e.placement,I=void 0===d?"bottomLeft":d,C=e.placements,u=void 0===C?Ef:C,m=e.getPopupContainer,A=e.showAction,b=e.hideAction,p=e.overlayClassName,h=e.overlayStyle,f=e.visible,y=e.trigger,v=void 0===y?["hover"]:y,Z=e.autoFocus,G=e.overlay,S=e.children,B=e.onVisibleChange,k=cr(e,Ff),W=He(t.useState(),2),V=W[0],R=W[1],w="visible"in e?f:V,X=t.useRef(null),J=t.useRef(null),H=t.useRef(null);t.useImperativeHandle(n,function(){return X.current});var x=function(e){R(e),null===B||void 0===B||B(e)};!function(e){var n=e.visible,o=e.triggerRef,l=e.onVisibleChange,r=e.autoFocus,a=e.overlayRef,i=t.useRef(!1),g=function(){var e,t;n&&(null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null===l||void 0===l||l(!1))},c=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus)&&(a.current.focus(),i.current=!0,!0)},s=function(e){switch(e.keyCode){case Jf:g();break;case Hf:var t=!1;i.current||(t=c()),t?e.preventDefault():g()}};t.useEffect(function(){return n?(window.addEventListener("keydown",s),r&&ea(c,3),function(){window.removeEventListener("keydown",s),i.current=!1}):function(){i.current=!1}},[n])}({visible:w,triggerRef:H,onVisibleChange:x,autoFocus:Z,overlayRef:J});var Y=function(){return t.createElement(xf,{ref:J,overlay:G,prefixCls:i,arrow:r})},N=t.cloneElement(S,{className:Ol()(null===(o=S.props)||void 0===o?void 0:o.className,w&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(i,"-open")}()),ref:ar(S)?lr(H,gr(S)):void 0}),E=b;return E||-1===v.indexOf("contextMenu")||(E=["click"]),t.createElement(Dc,$t({builtinPlacements:u},k,{prefixCls:i,ref:X,popupClassName:Ol()(p,Ve({},"".concat(i,"-show-arrow"),r)),popupStyle:h,action:v,showAction:A,hideAction:E,popupPlacement:I,popupAlign:s,popupTransitionName:g,popupAnimation:c,popupVisible:w,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof G?Y:Y(),onPopupVisibleChange:x,onPopupClick:function(t){var n=e.onOverlayClick;R(!1),n&&n(t)},getPopupContainer:m}),N)}const Mf=t.forwardRef(Kf);var zf=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.id,r=e.tabs,a=e.locale,i=e.mobile,g=e.more,c=void 0===g?{}:g,s=e.style,d=e.className,I=e.editable,C=e.tabBarGutter,u=e.rtl,m=e.removeAriaLabel,A=e.onTabClick,b=e.getPopupContainer,p=e.popupClassName,h=He((0,t.useState)(!1),2),f=h[0],y=h[1],v=He((0,t.useState)(null),2),Z=v[0],G=v[1],S=c.icon,B=void 0===S?"More":S,k="".concat(l,"-more-popup"),W="".concat(o,"-dropdown"),V=null!==Z?"".concat(k,"-").concat(Z):null,R=null===a||void 0===a?void 0:a.dropdownAriaLabel;var w=t.createElement(QA,{onClick:function(e){var t=e.key,n=e.domEvent;A(t,n),y(!1)},prefixCls:"".concat(W,"-menu"),id:k,tabIndex:-1,role:"listbox","aria-activedescendant":V,selectedKeys:[Z],"aria-label":void 0!==R?R:"expanded dropdown"},r.map(function(e){var n=e.closable,o=e.disabled,r=e.closeIcon,a=e.key,i=e.label,g=Wf(n,r,I,o);return t.createElement(yA,{key:a,id:"".concat(k,"-").concat(a),role:"option","aria-controls":l&&"".concat(l,"-panel-").concat(a),disabled:o},t.createElement("span",null,i),g&&t.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(W,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),I.onEdit("remove",{key:t,event:e})}(e,a)}},r||I.removeIcon||"\xd7"))}));function X(e){for(var t=r.filter(function(e){return!e.disabled}),n=t.findIndex(function(e){return e.key===Z})||0,o=t.length,l=0;l<o;l+=1){var a=t[n=(n+e+o)%o];if(!a.disabled)return void G(a.key)}}(0,t.useEffect)(function(){var e=document.getElementById(V);e&&e.scrollIntoView&&e.scrollIntoView(!1)},[Z]),(0,t.useEffect)(function(){f||G(null)},[f]);var J=Ve({},u?"marginRight":"marginLeft",C);r.length||(J.visibility="hidden",J.order=1);var H=Ol()(Ve({},"".concat(W,"-rtl"),u)),x=i?null:t.createElement(Mf,$t({prefixCls:W,overlay:w,visible:!!r.length&&f,onVisibleChange:y,overlayClassName:Ol()(H,p),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},c),t.createElement("button",{type:"button",className:"".concat(o,"-nav-more"),style:J,"aria-haspopup":"listbox","aria-controls":k,id:"".concat(l,"-more"),"aria-expanded":f,onKeyDown:function(e){var t=e.which;if(f)switch(t){case OI.UP:X(-1),e.preventDefault();break;case OI.DOWN:X(1),e.preventDefault();break;case OI.ESC:y(!1);break;case OI.SPACE:case OI.ENTER:null!==Z&&A(Z,e)}else[OI.DOWN,OI.SPACE,OI.ENTER].includes(t)&&(y(!0),e.preventDefault())}},B));return t.createElement("div",{className:Ol()("".concat(o,"-nav-operations"),d),style:s,ref:n},x,t.createElement(Rf,{prefixCls:o,locale:a,editable:I}))});const Lf=t.memo(zf,function(e,t){return t.tabMoving});const Df=function(e){var n=e.prefixCls,o=e.id,l=e.active,r=e.focus,a=e.tab,i=a.key,g=a.label,c=a.disabled,s=a.closeIcon,d=a.icon,I=e.closable,C=e.renderWrapper,u=e.removeAriaLabel,m=e.editable,A=e.onClick,b=e.onFocus,p=e.onBlur,h=e.onKeyDown,f=e.onMouseDown,y=e.onMouseUp,v=e.style,Z=e.tabCount,G=e.currentPosition,S="".concat(n,"-tab"),B=Wf(I,s,m,c);function k(e){c||A(e)}var W=t.useMemo(function(){return d&&"string"===typeof g?t.createElement("span",null,g):g},[g,d]),V=t.useRef(null);t.useEffect(function(){r&&V.current&&V.current.focus()},[r]);var R=t.createElement("div",{key:i,"data-node-key":kf(i),className:Ol()(S,Ve(Ve(Ve(Ve({},"".concat(S,"-with-remove"),B),"".concat(S,"-active"),l),"".concat(S,"-disabled"),c),"".concat(S,"-focus"),r)),style:v,onClick:k},t.createElement("div",{ref:V,role:"tab","aria-selected":l,id:o&&"".concat(o,"-tab-").concat(i),className:"".concat(S,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(i),"aria-disabled":c,tabIndex:c?null:l?0:-1,onClick:function(e){e.stopPropagation(),k(e)},onKeyDown:h,onMouseDown:f,onMouseUp:y,onFocus:b,onBlur:p},r&&t.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(G," of ").concat(Z)),d&&t.createElement("span",{className:"".concat(S,"-icon")},d),g&&W),B&&t.createElement("button",{type:"button",role:"tab","aria-label":u||"remove",tabIndex:l?0:-1,className:"".concat(S,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),m.onEdit("remove",{key:i,event:t})}},s||m.removeIcon||"\xd7"));return C?C(R):R};var Tf=function(e){var t=e.current||{},n=t.offsetWidth,o=void 0===n?0:n,l=t.offsetHeight,r=void 0===l?0:l;if(e.current){var a=e.current.getBoundingClientRect(),i=a.width,g=a.height;if(Math.abs(i-o)<1)return[i,g]}return[o,r]},jf=function(e,t){return e[t?0:1]},Of=t.forwardRef(function(e,n){var o=e.className,l=e.style,r=e.id,a=e.animated,i=e.activeKey,g=e.rtl,c=e.extra,s=e.editable,d=e.locale,I=e.tabPosition,C=e.tabBarGutter,u=e.children,m=e.onTabClick,A=e.onTabScroll,b=e.indicator,p=t.useContext(hf),h=p.prefixCls,f=p.tabs,y=(0,t.useRef)(null),v=(0,t.useRef)(null),Z=(0,t.useRef)(null),G=(0,t.useRef)(null),S=(0,t.useRef)(null),B=(0,t.useRef)(null),k=(0,t.useRef)(null),W="top"===I||"bottom"===I,V=vf(0,function(e,t){W&&A&&A({direction:e>t?"left":"right"})}),R=He(V,2),w=R[0],X=R[1],J=vf(0,function(e,t){!W&&A&&A({direction:e>t?"top":"bottom"})}),H=He(J,2),x=H[0],Y=H[1],N=He((0,t.useState)([0,0]),2),E=N[0],F=N[1],K=He((0,t.useState)([0,0]),2),M=K[0],z=K[1],L=He((0,t.useState)([0,0]),2),D=L[0],T=L[1],j=He((0,t.useState)([0,0]),2),O=j[0],U=j[1],Q=function(e){var n=(0,t.useRef)([]),o=He((0,t.useState)({}),2)[1],l=(0,t.useRef)("function"===typeof e?e():e),r=Gf(function(){var e=l.current;n.current.forEach(function(t){e=t(e)}),n.current=[],l.current=e,o({})});return[l.current,function(e){n.current.push(e),r()}]}(new Map),$=He(Q,2),P=$[0],q=$[1],_=function(e,n,o){return(0,t.useMemo)(function(){for(var t,o=new Map,l=n.get(null===(t=e[0])||void 0===t?void 0:t.key)||yf,r=l.left+l.width,a=0;a<e.length;a+=1){var i,g=e[a].key,c=n.get(g);c||(c=n.get(null===(i=e[a-1])||void 0===i?void 0:i.key)||yf);var s=o.get(g)||Ee({},c);s.right=r-s.left-s.width,o.set(g,s)}return o},[e.map(function(e){return e.key}).join("_"),n,o])}(f,P,M[0]),ee=jf(E,W),te=jf(M,W),ne=jf(D,W),oe=jf(O,W),le=Math.floor(ee)<Math.floor(te+ne),re=le?ee-oe:ee-ne,ae="".concat(h,"-nav-operations-hidden"),ie=0,ge=0;function ce(e){return e<ie?ie:e>ge?ge:e}W&&g?(ie=0,ge=Math.max(0,te-re)):(ie=Math.min(0,re-te),ge=0);var se=(0,t.useRef)(null),de=He((0,t.useState)(),2),Ie=de[0],Ce=de[1];function ue(){Ce(Date.now())}function me(){se.current&&clearTimeout(se.current)}!function(e,n){var o=He((0,t.useState)(),2),l=o[0],r=o[1],a=He((0,t.useState)(0),2),i=a[0],g=a[1],c=He((0,t.useState)(0),2),s=c[0],d=c[1],I=He((0,t.useState)(),2),C=I[0],u=I[1],m=(0,t.useRef)(),A=(0,t.useRef)(),b=(0,t.useRef)(null);b.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,o=t.screenY;r({x:n,y:o}),window.clearInterval(m.current)},onTouchMove:function(e){if(l){var t=e.touches[0],o=t.screenX,a=t.screenY;r({x:o,y:a});var c=o-l.x,s=a-l.y;n(c,s);var I=Date.now();g(I),d(I-i),u({x:c,y:s})}},onTouchEnd:function(){if(l&&(r(null),u(null),C)){var e=C.x/s,t=C.y/s,o=Math.abs(e),a=Math.abs(t);if(Math.max(o,a)<.1)return;var i=e,g=t;m.current=window.setInterval(function(){Math.abs(i)<.01&&Math.abs(g)<.01?window.clearInterval(m.current):n(20*(i*=Zf),20*(g*=Zf))},20)}},onWheel:function(e){var t=e.deltaX,o=e.deltaY,l=0,r=Math.abs(t),a=Math.abs(o);r===a?l="x"===A.current?t:o:r>a?(l=t,A.current="x"):(l=o,A.current="y"),n(-l,-l)&&e.preventDefault()}},t.useEffect(function(){function t(e){b.current.onTouchMove(e)}function n(e){b.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),e.current.addEventListener("touchstart",function(e){b.current.onTouchStart(e)},{passive:!0}),e.current.addEventListener("wheel",function(e){b.current.onWheel(e)},{passive:!1}),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}},[])}(G,function(e,t){function n(e,t){e(function(e){return ce(e+t)})}return!!le&&(W?n(X,e):n(Y,t),me(),ue(),!0)}),(0,t.useEffect)(function(){return me(),Ie&&(se.current=setTimeout(function(){Ce(0)},100)),me},[Ie]);var Ae=function(e,n,o,l,r,a,i){var g,c,s,d=i.tabs,I=i.tabPosition,C=i.rtl;return["top","bottom"].includes(I)?(g="width",c=C?"right":"left",s=Math.abs(o)):(g="height",c="top",s=-o),(0,t.useMemo)(function(){if(!d.length)return[0,0];for(var t=d.length,o=t,l=0;l<t;l+=1){var r=e.get(d[l].key)||Sf;if(Math.floor(r[c]+r[g])>Math.floor(s+n)){o=l-1;break}}for(var a=0,i=t-1;i>=0;i-=1)if((e.get(d[i].key)||Sf)[c]<s){a=i+1;break}return a>=o?[0,0]:[a,o]},[e,n,l,r,a,s,I,d.map(function(e){return e.key}).join("_"),C])}(_,re,W?w:x,te,ne,oe,Ee(Ee({},e),{},{tabs:f})),be=He(Ae,2),pe=be[0],he=be[1],fe=yr(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=_.get(e)||{width:0,height:0,left:0,right:0,top:0};if(W){var n=w;g?t.right<w?n=t.right:t.right+t.width>w+re&&(n=t.right+t.width-re):t.left<-w?n=-t.left:t.left+t.width>-w+re&&(n=-(t.left+t.width-re)),Y(0),X(ce(n))}else{var o=x;t.top<-x?o=-t.top:t.top+t.height>-x+re&&(o=-(t.top+t.height-re)),X(0),Y(ce(o))}}),ye=He((0,t.useState)(),2),ve=ye[0],Ze=ye[1],Ge=He((0,t.useState)(!1),2),Se=Ge[0],Be=Ge[1],ke=f.filter(function(e){return!e.disabled}).map(function(e){return e.key}),We=function(e){var t=ke.indexOf(ve||i),n=ke.length,o=ke[(t+e+n)%n];Ze(o)},Re=function(e){var t=e.code,n=g&&W,o=ke[0],l=ke[ke.length-1];switch(t){case"ArrowLeft":W&&We(n?1:-1);break;case"ArrowRight":W&&We(n?-1:1);break;case"ArrowUp":e.preventDefault(),W||We(-1);break;case"ArrowDown":e.preventDefault(),W||We(1);break;case"Home":e.preventDefault(),Ze(o);break;case"End":e.preventDefault(),Ze(l);break;case"Enter":case"Space":e.preventDefault(),m(null!==ve&&void 0!==ve?ve:i,e);break;case"Backspace":case"Delete":var r=ke.indexOf(ve),a=f.find(function(e){return e.key===ve});Wf(null===a||void 0===a?void 0:a.closable,null===a||void 0===a?void 0:a.closeIcon,s,null===a||void 0===a?void 0:a.disabled)&&(e.preventDefault(),e.stopPropagation(),s.onEdit("remove",{key:ve,event:e}),r===ke.length-1?We(-1):We(1))}},we={};W?we[g?"marginRight":"marginLeft"]=C:we.marginTop=C;var Xe=f.map(function(e,n){var o=e.key;return t.createElement(Df,{id:r,prefixCls:h,key:o,tab:e,style:0===n?void 0:we,closable:e.closable,editable:s,active:o===i,focus:o===ve,renderWrapper:u,removeAriaLabel:null===d||void 0===d?void 0:d.removeAriaLabel,tabCount:ke.length,currentPosition:n+1,onClick:function(e){m(o,e)},onKeyDown:Re,onFocus:function(){Se||Ze(o),fe(o),ue(),G.current&&(g||(G.current.scrollLeft=0),G.current.scrollTop=0)},onBlur:function(){Ze(void 0)},onMouseDown:function(){Be(!0)},onMouseUp:function(){Be(!1)}})}),Je=function(){return q(function(){var e,t=new Map,n=null===(e=S.current)||void 0===e?void 0:e.getBoundingClientRect();return f.forEach(function(e){var o,l=e.key,r=null===(o=S.current)||void 0===o?void 0:o.querySelector('[data-node-key="'.concat(kf(l),'"]'));if(r){var a=function(e,t){var n=e.offsetWidth,o=e.offsetHeight,l=e.offsetTop,r=e.offsetLeft,a=e.getBoundingClientRect(),i=a.width,g=a.height,c=a.left,s=a.top;return Math.abs(i-n)<1?[i,g,c-t.left,s-t.top]:[n,o,r,l]}(r,n),i=He(a,4),g=i[0],c=i[1],s=i[2],d=i[3];t.set(l,{width:g,height:c,left:s,top:d})}}),t})};(0,t.useEffect)(function(){Je()},[f.map(function(e){return e.key}).join("_")]);var xe=Gf(function(){var e=Tf(y),t=Tf(v),n=Tf(Z);F([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var o=Tf(k);T(o);var l=Tf(B);U(l);var r=Tf(S);z([r[0]-o[0],r[1]-o[1]]),Je()}),Ne=f.slice(0,pe),Fe=f.slice(he+1),Ke=[].concat(Ye(Ne),Ye(Fe)),Me=_.get(i),ze=ff({activeTabOffset:Me,horizontal:W,indicator:b,rtl:g}).style;(0,t.useEffect)(function(){fe()},[i,ie,ge,Bf(Me),Bf(_),W]),(0,t.useEffect)(function(){xe()},[g]);var Le,De,Te,je,Oe=!!Ke.length,Ue="".concat(h,"-nav-wrap");return W?g?(De=w>0,Le=w!==ge):(Le=w<0,De=w!==ie):(Te=x<0,je=x!==ie),t.createElement(qg,{onResize:xe},t.createElement("div",{ref:rr(n,y),role:"tablist","aria-orientation":W?"horizontal":"vertical",className:Ol()("".concat(h,"-nav"),o),style:l,onKeyDown:function(){ue()}},t.createElement(Xf,{ref:v,position:"left",extra:c,prefixCls:h}),t.createElement(qg,{onResize:xe},t.createElement("div",{className:Ol()(Ue,Ve(Ve(Ve(Ve({},"".concat(Ue,"-ping-left"),Le),"".concat(Ue,"-ping-right"),De),"".concat(Ue,"-ping-top"),Te),"".concat(Ue,"-ping-bottom"),je)),ref:G},t.createElement(qg,{onResize:xe},t.createElement("div",{ref:S,className:"".concat(h,"-nav-list"),style:{transform:"translate(".concat(w,"px, ").concat(x,"px)"),transition:Ie?"none":void 0}},Xe,t.createElement(Rf,{ref:k,prefixCls:h,locale:d,editable:s,style:Ee(Ee({},0===Xe.length?void 0:we),{},{visibility:Oe?"hidden":null})}),t.createElement("div",{className:Ol()("".concat(h,"-ink-bar"),Ve({},"".concat(h,"-ink-bar-animated"),a.inkBar)),style:ze}))))),t.createElement(Lf,$t({},e,{removeAriaLabel:null===d||void 0===d?void 0:d.removeAriaLabel,ref:B,prefixCls:h,tabs:Ke,className:!Oe&&ae,tabMoving:!!Ie})),t.createElement(Xf,{ref:Z,position:"right",extra:c,prefixCls:h})))});const Uf=Of;var Qf=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.className,r=e.style,a=e.id,i=e.active,g=e.tabKey,c=e.children;return t.createElement("div",{id:a&&"".concat(a,"-panel-").concat(g),role:"tabpanel",tabIndex:i?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(g),"aria-hidden":!i,style:r,className:Ol()(o,i&&"".concat(o,"-active"),l),ref:n},c)});const $f=Qf;var Pf=["renderTabBar"],qf=["label","key"];const _f=function(e){var n=e.renderTabBar,o=cr(e,Pf),l=t.useContext(hf).tabs;return n?n(Ee(Ee({},o),{},{panes:l.map(function(e){var n=e.label,o=e.key,l=cr(e,qf);return t.createElement($f,$t({tab:n,key:o,tabKey:o},l))})}),Uf):t.createElement(Uf,o)};var ey=["key","forceRender","style","className","destroyInactiveTabPane"];const ty=function(e){var n=e.id,o=e.activeKey,l=e.animated,r=e.tabPosition,a=e.destroyInactiveTabPane,i=t.useContext(hf),g=i.prefixCls,c=i.tabs,s=l.tabPane,d="".concat(g,"-tabpane");return t.createElement("div",{className:Ol()("".concat(g,"-content-holder"))},t.createElement("div",{className:Ol()("".concat(g,"-content"),"".concat(g,"-content-").concat(r),Ve({},"".concat(g,"-content-animated"),s))},c.map(function(e){var r=e.key,i=e.forceRender,g=e.style,c=e.className,I=e.destroyInactiveTabPane,C=cr(e,ey),u=r===o;return t.createElement(pa,$t({key:r,visible:u,forceRender:i,removeOnLeave:!(!a&&!I),leavedClassName:"".concat(d,"-hidden")},l.tabPaneMotion),function(e,o){var l=e.style,a=e.className;return t.createElement($f,$t({},C,{prefixCls:d,id:n,tabKey:r,animated:s,active:u,style:Ee(Ee({},g),l),className:Ol()(c,a),ref:o}))})})))};var ny=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],oy=0,ly=t.forwardRef(function(e,n){var o=e.id,l=e.prefixCls,r=void 0===l?"rc-tabs":l,a=e.className,i=e.items,g=e.direction,c=e.activeKey,s=e.defaultActiveKey,d=e.editable,I=e.animated,C=e.tabPosition,u=void 0===C?"top":C,m=e.tabBarGutter,A=e.tabBarStyle,b=e.tabBarExtraContent,p=e.locale,h=e.more,f=e.destroyInactiveTabPane,y=e.renderTabBar,v=e.onChange,Z=e.onTabClick,G=e.onTabScroll,S=e.getPopupContainer,B=e.popupClassName,k=e.indicator,W=cr(e,ny),V=t.useMemo(function(){return(i||[]).filter(function(e){return e&&"object"===ke(e)&&"key"in e})},[i]),R="rtl"===g,w=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Ee({inkBar:!0},"object"===ke(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(I),X=He((0,t.useState)(!1),2),J=X[0],H=X[1];(0,t.useEffect)(function(){H(hc())},[]);var x=He(Gr(function(){var e;return null===(e=V[0])||void 0===e?void 0:e.key},{value:c,defaultValue:s}),2),Y=x[0],N=x[1],E=He((0,t.useState)(function(){return V.findIndex(function(e){return e.key===Y})}),2),F=E[0],K=E[1];(0,t.useEffect)(function(){var e,t=V.findIndex(function(e){return e.key===Y});-1===t&&(t=Math.max(0,Math.min(F,V.length-1)),N(null===(e=V[t])||void 0===e?void 0:e.key));K(t)},[V.map(function(e){return e.key}).join("_"),Y,F]);var M=He(Gr(null,{value:o}),2),z=M[0],L=M[1];(0,t.useEffect)(function(){o||(L("rc-tabs-".concat(oy)),oy+=1)},[]);var D={id:z,activeKey:Y,animated:w,tabPosition:u,rtl:R,mobile:J},T=Ee(Ee({},D),{},{editable:d,locale:p,more:h,tabBarGutter:m,onTabClick:function(e,t){null===Z||void 0===Z||Z(e,t);var n=e!==Y;N(e),n&&(null===v||void 0===v||v(e))},onTabScroll:G,extra:b,style:A,panes:null,getPopupContainer:S,popupClassName:B,indicator:k});return t.createElement(hf.Provider,{value:{tabs:V,prefixCls:r}},t.createElement("div",$t({ref:n,id:o,className:Ol()(r,"".concat(r,"-").concat(u),Ve(Ve(Ve({},"".concat(r,"-mobile"),J),"".concat(r,"-editable"),d),"".concat(r,"-rtl"),R),a)},W),t.createElement(_f,$t({},T,{renderTabBar:y})),t.createElement(ty,$t({destroyInactiveTabPane:f},D,{animated:w}))))});const ry=ly,ay={motionAppear:!1,motionEnter:!0,motionLeave:!0};var iy=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const gy=function(e,n){if(e)return e.map(e=>{var t;const n=null!==(t=e.destroyOnHidden)&&void 0!==t?t:e.destroyInactiveTabPane;return Object.assign(Object.assign({},e),{destroyInactiveTabPane:n})});const o=_a(n).map(e=>{if(t.isValidElement(e)){const{key:t,props:n}=e,o=n||{},{tab:l}=o,r=iy(o,["tab"]);return Object.assign(Object.assign({key:String(t)},r),{label:l})}return null});return function(e){return e.filter(e=>e)}(o)},cy=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[bb(e,"slide-up"),bb(e,"slide-down")]]},sy=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:o,cardGutter:l,colorBorderSecondary:r,itemSelectedColor:a}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:o,border:`${wt(e.lineWidth)} ${e.lineType} ${r}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:a,background:e.colorBgContainer},[`${t}-tab-focus:has(${t}-tab-btn:focus-visible)`]:Ha(e,-3),[`& ${t}-tab${t}-tab-focus ${t}-tab-btn:focus-visible`]:{outline:"none"},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:wt(l)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:wt(l)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${wt(e.borderRadiusLG)} 0 0 ${wt(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},dy=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:o}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},Ja(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${wt(o)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Xa),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${wt(e.paddingXXS)} ${wt(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Iy=e=>{const{componentCls:t,margin:n,colorBorderSecondary:o,horizontalMargin:l,verticalItemPadding:r,verticalItemMargin:a,calc:i}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:l,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${o}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:i(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:r,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:a},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:wt(i(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:i(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Cy=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:o,cardHeightSM:l,cardHeightLG:r,horizontalItemPaddingSM:a,horizontalItemPaddingLG:i}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i,fontSize:e.titleFontSizeLG,lineHeight:e.lineHeightLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n},[`${t}-nav-add`]:{minWidth:l,minHeight:l}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${wt(e.borderRadius)} ${wt(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${wt(e.borderRadius)} ${wt(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${wt(e.borderRadius)} ${wt(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${wt(e.borderRadius)} 0 0 ${wt(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o},[`${t}-nav-add`]:{minWidth:r,minHeight:r}}}}}},uy=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:o,iconCls:l,tabsHorizontalItemMargin:r,horizontalItemPadding:a,itemSelectedColor:i,itemColor:g}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:g,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},xa(e)),"&:hover":{color:o},[`&${c}-active ${c}-btn`]:{color:i,textShadow:e.tabsActiveTextShadow},[`&${c}-focus ${c}-btn:focus-visible`]:Ha(e),[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${l}`]:{margin:0},[`${l}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:r}}}},my=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:o,cardGutter:l,calc:r}=e,a=`${t}-rtl`;return{[a]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:wt(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:wt(e.marginXS)},marginLeft:{_skip_check_:!0,value:wt(r(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:l},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Ay=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:o,cardGutter:l,itemHoverColor:r,itemActiveColor:a,colorBorderSecondary:i}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:o,minHeight:o,marginLeft:{_skip_check_:!0,value:l},background:"transparent",border:`${wt(e.lineWidth)} ${e.lineType} ${i}`,borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:r},"&:active, &:focus:not(:focus-visible)":{color:a}},xa(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),uy(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},xa(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},by=Ui("Tabs",e=>{const t=Ni(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${wt(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${wt(e.horizontalItemGutter)}`});return[Cy(t),my(t),Iy(t),dy(t),sy(t),Ay(t),cy(t)]},e=>{const{cardHeight:t,cardHeightSM:n,cardHeightLG:o,controlHeight:l,controlHeightLG:r}=e,a=t||r,i=n||l,g=o||r+8;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:a,cardHeightSM:i,cardHeightLG:g,cardPadding:`${(a-e.fontHeight)/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${(i-e.fontHeight)/2-e.lineWidth}px ${e.paddingXS}px`,cardPaddingLG:`${(g-e.fontHeightLG)/2-e.lineWidth}px ${e.padding}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}});var py=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const hy=e=>{var n,o,l,r,a,i,g,c,s,d,I;const{type:C,className:u,rootClassName:m,size:A,onEdit:b,hideAdd:p,centered:h,addIcon:f,removeIcon:y,moreIcon:v,more:Z,popupClassName:G,children:S,items:B,animated:k,style:W,indicatorSize:V,indicator:R,destroyInactiveTabPane:w,destroyOnHidden:X}=e,J=py(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:H}=J,{direction:x,tabs:Y,getPrefixCls:N,getPopupContainer:E}=t.useContext(Rl),F=N("tabs",H),K=fC(F),[M,z,L]=by(F,K);let D;"editable-card"===C&&(D={onEdit:(e,t)=>{let{key:n,event:o}=t;null===b||void 0===b||b("add"===e?o:n,e)},removeIcon:null!==(n=null!==y&&void 0!==y?y:null===Y||void 0===Y?void 0:Y.removeIcon)&&void 0!==n?n:t.createElement(mf,null),addIcon:(null!==f&&void 0!==f?f:null===Y||void 0===Y?void 0:Y.addIcon)||t.createElement(pf,null),showAdd:!0!==p});const T=N();const j=Rd(A),O=gy(B,S),U=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},ay),{motionName:qd(e,"switch")})),t}(F,k),Q=Object.assign(Object.assign({},null===Y||void 0===Y?void 0:Y.style),W),$={align:null!==(o=null===R||void 0===R?void 0:R.align)&&void 0!==o?o:null===(l=null===Y||void 0===Y?void 0:Y.indicator)||void 0===l?void 0:l.align,size:null!==(g=null!==(a=null!==(r=null===R||void 0===R?void 0:R.size)&&void 0!==r?r:V)&&void 0!==a?a:null===(i=null===Y||void 0===Y?void 0:Y.indicator)||void 0===i?void 0:i.size)&&void 0!==g?g:null===Y||void 0===Y?void 0:Y.indicatorSize};return M(t.createElement(ry,Object.assign({direction:x,getPopupContainer:E},J,{items:O,className:Ol()({[`${F}-${j}`]:j,[`${F}-card`]:["card","editable-card"].includes(C),[`${F}-editable-card`]:"editable-card"===C,[`${F}-centered`]:h},null===Y||void 0===Y?void 0:Y.className,u,m,z,L,K),popupClassName:Ol()(G,z,L,K),style:Q,editable:D,more:Object.assign({icon:null!==(I=null!==(d=null!==(s=null===(c=null===Y||void 0===Y?void 0:Y.more)||void 0===c?void 0:c.icon)&&void 0!==s?s:null===Y||void 0===Y?void 0:Y.moreIcon)&&void 0!==d?d:v)&&void 0!==I?I:t.createElement(qA,null),transitionName:`${T}-slide-up`},Z),prefixCls:F,animated:U,indicator:$,destroyInactiveTabPane:null!==X&&void 0!==X?X:w})))};hy.TabPane=()=>null;const fy=hy;var yy=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const vy=e=>{var{prefixCls:n,className:o,hoverable:l=!0}=e,r=yy(e,["prefixCls","className","hoverable"]);const{getPrefixCls:a}=t.useContext(Rl),i=a("card",n),g=Ol()(`${i}-grid`,o,{[`${i}-grid-hoverable`]:l});return t.createElement("div",Object.assign({},r,{className:g}))},Zy=e=>{const{antCls:t,componentCls:n,headerHeight:o,headerPadding:l,tabsMarginBottom:r}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:`0 ${wt(l)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Xa),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:r,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Gy=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:o,lineWidth:l}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${wt(l)} 0 0 0 ${n},\n      0 ${wt(l)} 0 0 ${n},\n      ${wt(l)} ${wt(l)} 0 0 ${n},\n      ${wt(l)} 0 0 0 ${n} inset,\n      0 ${wt(l)} 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},Sy=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:o,cardActionsIconSize:l,colorBorderSecondary:r,actionsBg:a}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${wt(e.lineWidth)} ${e.lineType} ${r}`,display:"flex",borderRadius:`0 0 ${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)}`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorIcon,lineHeight:wt(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:l,lineHeight:wt(e.calc(l).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${wt(e.lineWidth)} ${e.lineType} ${r}`}}})},By=e=>Object.assign(Object.assign({margin:`${wt(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Xa),"&-description":{color:e.colorTextDescription}}),ky=e=>{const{componentCls:t,colorFillAlter:n,headerPadding:o,bodyPadding:l}=e;return{[`${t}-head`]:{padding:`0 ${wt(o)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${wt(e.padding)} ${wt(l)}`}}},Wy=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},Vy=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:o,colorBorderSecondary:l,boxShadowTertiary:r,bodyPadding:a,extraColor:i}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:r},[`${t}-head`]:Zy(e),[`${t}-extra`]:{marginInlineStart:"auto",color:i,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:a,borderRadius:`0 0 ${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)}`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`${t}-grid`]:Gy(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:Sy(e),[`${t}-meta`]:By(e)}),[`${t}-bordered`]:{border:`${wt(e.lineWidth)} ${e.lineType} ${l}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:o}}},[`${t}-type-inner`]:ky(e),[`${t}-loading`]:Wy(e),[`${t}-rtl`]:{direction:"rtl"}}},Ry=e=>{const{componentCls:t,bodyPaddingSM:n,headerPaddingSM:o,headerHeightSM:l,headerFontSizeSM:r}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:l,padding:`0 ${wt(o)}`,fontSize:r,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},wy=Ui("Card",e=>{const t=Ni(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[Vy(t),Ry(t)]},e=>{var t,n;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:null!==(t=e.bodyPadding)&&void 0!==t?t:e.paddingLG,headerPadding:null!==(n=e.headerPadding)&&void 0!==n?n:e.paddingLG}});var Xy=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Jy=e=>{const{actionClasses:n,actions:o=[],actionStyle:l}=e;return t.createElement("ul",{className:n,style:l},o.map((e,n)=>{const l=`action-${n}`;return t.createElement("li",{style:{width:100/o.length+"%"},key:l},t.createElement("span",null,e))}))},Hy=t.forwardRef((e,n)=>{const{prefixCls:o,className:l,rootClassName:r,style:a,extra:i,headStyle:g={},bodyStyle:c={},title:s,loading:d,bordered:I,variant:C,size:u,type:m,cover:A,actions:b,tabList:p,children:h,activeTabKey:f,defaultActiveTabKey:y,tabBarExtraContent:v,hoverable:Z,tabProps:G={},classNames:S,styles:B}=e,k=Xy(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:W,direction:V,card:R}=t.useContext(Rl),[w]=yC("card",C,I);const X=e=>{var t;return Ol()(null===(t=null===R||void 0===R?void 0:R.classNames)||void 0===t?void 0:t[e],null===S||void 0===S?void 0:S[e])},J=e=>{var t;return Object.assign(Object.assign({},null===(t=null===R||void 0===R?void 0:R.styles)||void 0===t?void 0:t[e]),null===B||void 0===B?void 0:B[e])},H=t.useMemo(()=>{let e=!1;return t.Children.forEach(h,t=>{(null===t||void 0===t?void 0:t.type)===vy&&(e=!0)}),e},[h]),x=W("card",o),[Y,N,E]=wy(x),F=t.createElement(If,{loading:!0,active:!0,paragraph:{rows:4},title:!1},h),K=void 0!==f,M=Object.assign(Object.assign({},G),{[K?"activeKey":"defaultActiveKey"]:K?f:y,tabBarExtraContent:v});let z;const L=Rd(u),D=L&&"default"!==L?L:"large",T=p?t.createElement(fy,Object.assign({size:D},M,{className:`${x}-head-tabs`,onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:p.map(e=>{var{tab:t}=e,n=Xy(e,["tab"]);return Object.assign({label:t},n)})})):null;if(s||i||T){const e=Ol()(`${x}-head`,X("header")),n=Ol()(`${x}-head-title`,X("title")),o=Ol()(`${x}-extra`,X("extra")),l=Object.assign(Object.assign({},g),J("header"));z=t.createElement("div",{className:e,style:l},t.createElement("div",{className:`${x}-head-wrapper`},s&&t.createElement("div",{className:n,style:J("title")},s),i&&t.createElement("div",{className:o,style:J("extra")},i)),T)}const j=Ol()(`${x}-cover`,X("cover")),O=A?t.createElement("div",{className:j,style:J("cover")},A):null,U=Ol()(`${x}-body`,X("body")),Q=Object.assign(Object.assign({},c),J("body")),$=t.createElement("div",{className:U,style:Q},d?F:h),P=Ol()(`${x}-actions`,X("actions")),q=(null===b||void 0===b?void 0:b.length)?t.createElement(Jy,{actionClasses:P,actionStyle:J("actions"),actions:b}):null,_=Pa(k,["onTabChange"]),ee=Ol()(x,null===R||void 0===R?void 0:R.className,{[`${x}-loading`]:d,[`${x}-bordered`]:"borderless"!==w,[`${x}-hoverable`]:Z,[`${x}-contain-grid`]:H,[`${x}-contain-tabs`]:null===p||void 0===p?void 0:p.length,[`${x}-${L}`]:L,[`${x}-type-${m}`]:!!m,[`${x}-rtl`]:"rtl"===V},l,r,N,E),te=Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),a);return Y(t.createElement("div",Object.assign({ref:n},_,{className:ee,style:te}),z,O,$,q))});var xy=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Yy=e=>{const{prefixCls:n,className:o,avatar:l,title:r,description:a}=e,i=xy(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:g}=t.useContext(Rl),c=g("card",n),s=Ol()(`${c}-meta`,o),d=l?t.createElement("div",{className:`${c}-meta-avatar`},l):null,I=r?t.createElement("div",{className:`${c}-meta-title`},r):null,C=a?t.createElement("div",{className:`${c}-meta-description`},a):null,u=I||C?t.createElement("div",{className:`${c}-meta-detail`},I,C):null;return t.createElement("div",Object.assign({},i,{className:s}),d,u)},Ny=Hy;Ny.Grid=vy,Ny.Meta=Yy;const Ey=Ny;var Fy="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function Ky(e,t){return 0===e.indexOf(t)}function My(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Ee({},n);var o={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||Ky(n,"aria-"))||t.data&&Ky(n,"data-")||t.attr&&Fy.includes(n))&&(o[n]=e[n])}),o}const zy=e=>{const{value:n,formatter:o,precision:l,decimalSeparator:r,groupSeparator:a="",prefixCls:i}=e;let g;if("function"===typeof o)g=o(n);else{const e=String(n),o=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(o&&"-"!==e){const e=o[1];let n=o[2]||"0",c=o[4]||"";n=n.replace(/\B(?=(\d{3})+(?!\d))/g,a),"number"===typeof l&&(c=c.padEnd(l,"0").slice(0,l>0?l:0)),c&&(c=`${r}${c}`),g=[t.createElement("span",{key:"int",className:`${i}-content-value-int`},e,n),c&&t.createElement("span",{key:"decimal",className:`${i}-content-value-decimal`},c)]}else g=e}return t.createElement("span",{className:`${i}-content-value`},g)},Ly=e=>{const{componentCls:t,marginXXS:n,padding:o,colorTextDescription:l,titleFontSize:r,colorTextHeading:a,contentFontSize:i,fontFamily:g}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{[`${t}-title`]:{marginBottom:n,color:l,fontSize:r},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:a,fontSize:i,fontFamily:g,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}},Dy=Ui("Statistic",e=>{const t=Ni(e,{});return[Ly(t)]},e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}});var Ty=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const jy=t.forwardRef((e,n)=>{const{prefixCls:o,className:l,rootClassName:r,style:a,valueStyle:i,value:g=0,title:c,valueRender:s,prefix:d,suffix:I,loading:C=!1,formatter:u,precision:m,decimalSeparator:A=".",groupSeparator:b=",",onMouseEnter:p,onMouseLeave:h}=e,f=Ty(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:y,direction:v,className:Z,style:G}=Jl("statistic"),S=y("statistic",o),[B,k,W]=Dy(S),V=t.createElement(zy,{decimalSeparator:A,groupSeparator:b,prefixCls:S,formatter:u,precision:m,value:g}),R=Ol()(S,{[`${S}-rtl`]:"rtl"===v},Z,l,r,k,W),w=t.useRef(null);t.useImperativeHandle(n,()=>({nativeElement:w.current}));const X=My(f,{aria:!0,data:!0});return B(t.createElement("div",Object.assign({},X,{ref:w,className:R,style:Object.assign(Object.assign({},G),a),onMouseEnter:p,onMouseLeave:h}),c&&t.createElement("div",{className:`${S}-title`},c),t.createElement(If,{paragraph:!1,loading:C,className:`${S}-skeleton`},t.createElement("div",{style:i,className:`${S}-content`},d&&t.createElement("span",{className:`${S}-content-prefix`},d),s?s(V):V,I&&t.createElement("span",{className:`${S}-content-suffix`},I)))))});const Oy=jy,Uy=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function Qy(e,t,n){const{format:o=""}=t,l=new Date(e).getTime(),r=Date.now();return function(e,t){let n=e;const o=/\[[^\]]*]/g,l=(t.match(o)||[]).map(e=>e.slice(1,-1)),r=t.replace(o,"[]"),a=Uy.reduce((e,t)=>{let[o,l]=t;if(e.includes(o)){const t=Math.floor(n/l);return n-=t*l,e.replace(new RegExp(`${o}+`,"g"),e=>{const n=e.length;return t.toString().padStart(n,"0")})}return e},r);let i=0;return a.replace(o,()=>{const e=l[i];return i+=1,e})}(n?Math.max(l-r,0):Math.max(r-l,0),o)}var $y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Py=e=>{const{value:n,format:o="HH:mm:ss",onChange:l,onFinish:r,type:a}=e,i=$y(e,["value","format","onChange","onFinish","type"]),g="countdown"===a,[c,s]=t.useState(null),d=yr(()=>{const e=Date.now(),t=function(e){return new Date(e).getTime()}(n);s({});return null===l||void 0===l||l(g?t-e:e-t),!(g&&t<e)||(null===r||void 0===r||r(),!1)});t.useEffect(()=>{let e;const t=()=>{e=ea(()=>{d()&&t()})};return t(),()=>ea.cancel(e)},[n,g]),t.useEffect(()=>{s({})},[]);return t.createElement(Oy,Object.assign({},i,{value:n,valueRender:e=>dI(e,{title:void 0}),formatter:(e,t)=>c?Qy(e,Object.assign(Object.assign({},t),{format:o}),g):"-"}))},qy=e=>t.createElement(Py,Object.assign({},e,{type:"countdown"})),_y=t.memo(qy);Oy.Timer=Py,Oy.Countdown=_y;const ev=Oy;const tv=function(){const e={};for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(t=>{t&&Object.keys(t).forEach(n=>{void 0!==t[n]&&(e[n]=t[n])})}),e};const nv=()=>{const[,e]=Wa(),[n]=tc("Empty"),o=new Jo(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return t.createElement("svg",{style:o,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("title",null,(null===n||void 0===n?void 0:n.description)||"Empty"),t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),t.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),t.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),t.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),t.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),t.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const ov=()=>{const[,e]=Wa(),[n]=tc("Empty"),{colorFill:o,colorFillTertiary:l,colorFillQuaternary:r,colorBgContainer:a}=e,{borderColor:i,shadowColor:g,contentColor:c}=(0,t.useMemo)(()=>({borderColor:new Jo(o).onBackground(a).toHexString(),shadowColor:new Jo(l).onBackground(a).toHexString(),contentColor:new Jo(r).onBackground(a).toHexString()}),[o,l,r,a]);return t.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("title",null,(null===n||void 0===n?void 0:n.description)||"Empty"),t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{fill:g,cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{fillRule:"nonzero",stroke:i},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},lv=e=>{const{componentCls:t,margin:n,marginXS:o,marginXL:l,fontSize:r,lineHeight:a}=e;return{[t]:{marginInline:o,fontSize:r,lineHeight:a,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:o,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:l,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:o,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},rv=Ui("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:o}=e,l=Ni(e,{emptyImgCls:`${t}-img`,emptyImgHeight:o(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:o(n).mul(.875).equal()});return[lv(l)]});var av=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const iv=t.createElement(nv,null),gv=t.createElement(ov,null),cv=e=>{const{className:n,rootClassName:o,prefixCls:l,image:r=iv,description:a,children:i,imageStyle:g,style:c,classNames:s,styles:d}=e,I=av(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:C,direction:u,className:m,style:A,classNames:b,styles:p}=Jl("empty"),h=C("empty",l),[f,y,v]=rv(h),[Z]=tc("Empty"),G="undefined"!==typeof a?a:null===Z||void 0===Z?void 0:Z.description,S="string"===typeof G?G:"empty";let B=null;return B="string"===typeof r?t.createElement("img",{alt:S,src:r}):r,f(t.createElement("div",Object.assign({className:Ol()(y,v,h,m,{[`${h}-normal`]:r===gv,[`${h}-rtl`]:"rtl"===u},n,o,b.root,null===s||void 0===s?void 0:s.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},p.root),A),null===d||void 0===d?void 0:d.root),c)},I),t.createElement("div",{className:Ol()(`${h}-image`,b.image,null===s||void 0===s?void 0:s.image),style:Object.assign(Object.assign(Object.assign({},g),p.image),null===d||void 0===d?void 0:d.image)},B),G&&t.createElement("div",{className:Ol()(`${h}-description`,b.description,null===s||void 0===s?void 0:s.description),style:Object.assign(Object.assign({},p.description),null===d||void 0===d?void 0:d.description)},G),i&&t.createElement("div",{className:Ol()(`${h}-footer`,b.footer,null===s||void 0===s?void 0:s.footer),style:Object.assign(Object.assign({},p.footer),null===d||void 0===d?void 0:d.footer)},i)))};cv.PRESENTED_IMAGE_DEFAULT=iv,cv.PRESENTED_IMAGE_SIMPLE=gv;const sv=cv,dv=e=>{const{componentName:n}=e,{getPrefixCls:o}=(0,t.useContext)(Rl),l=o("empty");switch(n){case"Table":case"List":return t.createElement(sv,{image:sv.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(sv,{image:sv.PRESENTED_IMAGE_SIMPLE,className:`${l}-small`});case"Table.filter":return null;default:return t.createElement(sv,null)}};const Iv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};var Cv=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Iv}))};const uv=t.forwardRef(Cv);const mv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var Av=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:mv}))};const bv=t.forwardRef(Av);const pv={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"};var hv=[10,20,50,100];const fv=function(e){var n=e.pageSizeOptions,o=void 0===n?hv:n,l=e.locale,r=e.changeSize,a=e.pageSize,i=e.goButton,g=e.quickGo,c=e.rootPrefixCls,s=e.disabled,d=e.buildOptionText,I=e.showSizeChanger,C=e.sizeChangerRender,u=He(t.useState(""),2),m=u[0],A=u[1],b=function(){return!m||Number.isNaN(m)?void 0:Number(m)},p="function"===typeof d?d:function(e){return"".concat(e," ").concat(l.items_per_page)},h=function(e){""!==m&&(e.keyCode!==OI.ENTER&&"click"!==e.type||(A(""),null===g||void 0===g||g(b())))},f="".concat(c,"-options");if(!I&&!g)return null;var y=null,v=null,Z=null;return I&&C&&(y=C({disabled:s,size:a,onSizeChange:function(e){null===r||void 0===r||r(Number(e))},"aria-label":l.page_size,className:"".concat(f,"-size-changer"),options:(o.some(function(e){return e.toString()===a.toString()})?o:o.concat([a]).sort(function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))})).map(function(e){return{label:p(e),value:e}})})),g&&(i&&(Z="boolean"===typeof i?t.createElement("button",{type:"button",onClick:h,onKeyUp:h,disabled:s,className:"".concat(f,"-quick-jumper-button")},l.jump_to_confirm):t.createElement("span",{onClick:h,onKeyUp:h},i)),v=t.createElement("div",{className:"".concat(f,"-quick-jumper")},l.jump_to,t.createElement("input",{disabled:s,type:"text",value:m,onChange:function(e){A(e.target.value)},onKeyUp:h,onBlur:function(e){i||""===m||(A(""),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(c,"-item"))>=0)||null===g||void 0===g||g(b()))},"aria-label":l.page}),l.page,Z)),t.createElement("li",{className:f},y,v)};const yv=function(e){var n=e.rootPrefixCls,o=e.page,l=e.active,r=e.className,a=e.showTitle,i=e.onClick,g=e.onKeyPress,c=e.itemRender,s="".concat(n,"-item"),d=Ol()(s,"".concat(s,"-").concat(o),Ve(Ve({},"".concat(s,"-active"),l),"".concat(s,"-disabled"),!o),r),I=c(o,"page",t.createElement("a",{rel:"nofollow"},o));return I?t.createElement("li",{title:a?String(o):null,className:d,onClick:function(){i(o)},onKeyDown:function(e){g(e,i,o)},tabIndex:0},I):null};var vv=function(e,t,n){return n};function Zv(){}function Gv(e){var t=Number(e);return"number"===typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Sv(e,t,n){var o="undefined"===typeof e?t:e;return Math.floor((n-1)/o)+1}const Bv=function(e){var n=e.prefixCls,o=void 0===n?"rc-pagination":n,l=e.selectPrefixCls,r=void 0===l?"rc-select":l,a=e.className,i=e.current,g=e.defaultCurrent,c=void 0===g?1:g,s=e.total,d=void 0===s?0:s,I=e.pageSize,C=e.defaultPageSize,u=void 0===C?10:C,m=e.onChange,A=void 0===m?Zv:m,b=e.hideOnSinglePage,p=e.align,h=e.showPrevNextJumpers,f=void 0===h||h,y=e.showQuickJumper,v=e.showLessItems,Z=e.showTitle,G=void 0===Z||Z,S=e.onShowSizeChange,B=void 0===S?Zv:S,k=e.locale,W=void 0===k?pv:k,V=e.style,R=e.totalBoundaryShowSizeChanger,w=void 0===R?50:R,X=e.disabled,J=e.simple,H=e.showTotal,x=e.showSizeChanger,Y=void 0===x?d>w:x,N=e.sizeChangerRender,E=e.pageSizeOptions,F=e.itemRender,K=void 0===F?vv:F,M=e.jumpPrevIcon,z=e.jumpNextIcon,L=e.prevIcon,D=e.nextIcon,T=t.useRef(null),j=He(Gr(10,{value:I,defaultValue:u}),2),O=j[0],U=j[1],Q=He(Gr(1,{value:i,defaultValue:c,postState:function(e){return Math.max(1,Math.min(e,Sv(void 0,O,d)))}}),2),$=Q[0],P=Q[1],q=He(t.useState($),2),_=q[0],ee=q[1];(0,t.useEffect)(function(){ee($)},[$]);var te=Math.max(1,$-(v?3:5)),ne=Math.min(Sv(void 0,O,d),$+(v?3:5));function oe(n,l){var r=n||t.createElement("button",{type:"button","aria-label":l,className:"".concat(o,"-item-link")});return"function"===typeof n&&(r=t.createElement(n,Ee({},e))),r}function le(e){var t=e.target.value,n=Sv(void 0,O,d);return""===t?t:Number.isNaN(Number(t))?_:t>=n?n:Number(t)}var re=d>O&&y;function ae(e){var t=le(e);switch(t!==_&&ee(t),e.keyCode){case OI.ENTER:ie(t);break;case OI.UP:ie(t-1);break;case OI.DOWN:ie(t+1)}}function ie(e){if(function(e){return Gv(e)&&e!==$&&Gv(d)&&d>0}(e)&&!X){var t=Sv(void 0,O,d),n=e;return e>t?n=t:e<1&&(n=1),n!==_&&ee(n),P(n),null===A||void 0===A||A(n,O),n}return $}var ge=$>1,ce=$<Sv(void 0,O,d);function se(){ge&&ie($-1)}function de(){ce&&ie($+1)}function Ie(){ie(te)}function Ce(){ie(ne)}function ue(e,t){if("Enter"===e.key||e.charCode===OI.ENTER||e.keyCode===OI.ENTER){for(var n=arguments.length,o=new Array(n>2?n-2:0),l=2;l<n;l++)o[l-2]=arguments[l];t.apply(void 0,o)}}function me(e){"click"!==e.type&&e.keyCode!==OI.ENTER||ie(_)}var Ae=null,be=My(e,{aria:!0,data:!0}),pe=H&&t.createElement("li",{className:"".concat(o,"-total-text")},H(d,[0===d?0:($-1)*O+1,$*O>d?d:$*O])),he=null,fe=Sv(void 0,O,d);if(b&&d<=O)return null;var ye=[],ve={rootPrefixCls:o,onClick:ie,onKeyPress:ue,showTitle:G,itemRender:K,page:-1},Ze=$-1>0?$-1:0,Ge=$+1<fe?$+1:fe,Se=y&&y.goButton,Be="object"===ke(J)?J.readOnly:!J,We=Se,Re=null;J&&(Se&&(We="boolean"===typeof Se?t.createElement("button",{type:"button",onClick:me,onKeyUp:me},W.jump_to_confirm):t.createElement("span",{onClick:me,onKeyUp:me},Se),We=t.createElement("li",{title:G?"".concat(W.jump_to).concat($,"/").concat(fe):null,className:"".concat(o,"-simple-pager")},We)),Re=t.createElement("li",{title:G?"".concat($,"/").concat(fe):null,className:"".concat(o,"-simple-pager")},Be?_:t.createElement("input",{type:"text","aria-label":W.jump_to,value:_,disabled:X,onKeyDown:function(e){e.keyCode!==OI.UP&&e.keyCode!==OI.DOWN||e.preventDefault()},onKeyUp:ae,onChange:ae,onBlur:function(e){ie(le(e))},size:3}),t.createElement("span",{className:"".concat(o,"-slash")},"/"),fe));var we=v?1:2;if(fe<=3+2*we){fe||ye.push(t.createElement(yv,$t({},ve,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var Xe=1;Xe<=fe;Xe+=1)ye.push(t.createElement(yv,$t({},ve,{key:Xe,page:Xe,active:$===Xe})))}else{var Je=v?W.prev_3:W.prev_5,xe=v?W.next_3:W.next_5,Ye=K(te,"jump-prev",oe(M,"prev page")),Ne=K(ne,"jump-next",oe(z,"next page"));f&&(Ae=Ye?t.createElement("li",{title:G?Je:null,key:"prev",onClick:Ie,tabIndex:0,onKeyDown:function(e){ue(e,Ie)},className:Ol()("".concat(o,"-jump-prev"),Ve({},"".concat(o,"-jump-prev-custom-icon"),!!M))},Ye):null,he=Ne?t.createElement("li",{title:G?xe:null,key:"next",onClick:Ce,tabIndex:0,onKeyDown:function(e){ue(e,Ce)},className:Ol()("".concat(o,"-jump-next"),Ve({},"".concat(o,"-jump-next-custom-icon"),!!z))},Ne):null);var Fe=Math.max(1,$-we),Ke=Math.min($+we,fe);$-1<=we&&(Ke=1+2*we),fe-$<=we&&(Fe=fe-2*we);for(var Me=Fe;Me<=Ke;Me+=1)ye.push(t.createElement(yv,$t({},ve,{key:Me,page:Me,active:$===Me})));if($-1>=2*we&&3!==$&&(ye[0]=t.cloneElement(ye[0],{className:Ol()("".concat(o,"-item-after-jump-prev"),ye[0].props.className)}),ye.unshift(Ae)),fe-$>=2*we&&$!==fe-2){var ze=ye[ye.length-1];ye[ye.length-1]=t.cloneElement(ze,{className:Ol()("".concat(o,"-item-before-jump-next"),ze.props.className)}),ye.push(he)}1!==Fe&&ye.unshift(t.createElement(yv,$t({},ve,{key:1,page:1}))),Ke!==fe&&ye.push(t.createElement(yv,$t({},ve,{key:fe,page:fe})))}var Le=function(e){var n=K(e,"prev",oe(L,"prev page"));return t.isValidElement(n)?t.cloneElement(n,{disabled:!ge}):n}(Ze);if(Le){var De=!ge||!fe;Le=t.createElement("li",{title:G?W.prev_page:null,onClick:se,tabIndex:De?null:0,onKeyDown:function(e){ue(e,se)},className:Ol()("".concat(o,"-prev"),Ve({},"".concat(o,"-disabled"),De)),"aria-disabled":De},Le)}var Te,je,Oe=function(e){var n=K(e,"next",oe(D,"next page"));return t.isValidElement(n)?t.cloneElement(n,{disabled:!ce}):n}(Ge);Oe&&(J?(Te=!ce,je=ge?0:null):je=(Te=!ce||!fe)?null:0,Oe=t.createElement("li",{title:G?W.next_page:null,onClick:de,tabIndex:je,onKeyDown:function(e){ue(e,de)},className:Ol()("".concat(o,"-next"),Ve({},"".concat(o,"-disabled"),Te)),"aria-disabled":Te},Oe));var Ue=Ol()(o,a,Ve(Ve(Ve(Ve(Ve({},"".concat(o,"-start"),"start"===p),"".concat(o,"-center"),"center"===p),"".concat(o,"-end"),"end"===p),"".concat(o,"-simple"),J),"".concat(o,"-disabled"),X));return t.createElement("ul",$t({className:Ue,style:V,ref:T},be),pe,Le,J?Re:ye,Oe,t.createElement(fv,{locale:W,rootPrefixCls:o,disabled:X,selectPrefixCls:r,changeSize:function(e){var t=Sv(e,O,d),n=$>t&&0!==t?t:$;U(e),ee(n),null===B||void 0===B||B($,e),P(n),null===A||void 0===A||A(n,e)},pageSize:O,pageSizeOptions:E,quickGo:re?ie:null,goButton:We,showSizeChanger:Y,sizeChangerRender:N}))};const kv=function(e){var n=e.className,o=e.customizeIcon,l=e.customizeIconProps,r=e.children,a=e.onMouseDown,i=e.onClick,g="function"===typeof o?o(l):o;return t.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),null===a||void 0===a||a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:i,"aria-hidden":!0},void 0!==g?g:t.createElement("span",{className:Ol()(n.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},r))};var Wv=t.createContext(null);function Vv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),o=t.useRef(null);return t.useEffect(function(){return function(){window.clearTimeout(o.current)}},[]),[function(){return n.current},function(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(o.current),o.current=window.setTimeout(function(){n.current=null},e)}]}const Rv=function(e,t,n){var o=Ee(Ee({},e),n?t:{});return Object.keys(t).forEach(function(n){var l=t[n];"function"===typeof l&&(o[n]=function(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return l.apply(void 0,r),null===(t=e[n])||void 0===t?void 0:t.call.apply(t,[e].concat(r))})}),o};var wv=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],Xv=function(e,n){var o=e.prefixCls,l=e.id,r=e.inputElement,a=e.autoFocus,i=e.autoComplete,g=e.editable,c=e.activeDescendantId,s=e.value,d=e.open,I=e.attrs,C=cr(e,wv),u=r||t.createElement("input",null),m=u,A=m.ref,b=m.props;return u.props,u=t.cloneElement(u,Ee(Ee(Ee({type:"search"},Rv(C,b,!0)),{},{id:l,ref:lr(n,A),autoComplete:i||"off",autoFocus:a,className:Ol()("".concat(o,"-selection-search-input"),null===b||void 0===b?void 0:b.className),role:"combobox","aria-expanded":d||!1,"aria-haspopup":"listbox","aria-owns":"".concat(l,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(l,"_list"),"aria-activedescendant":d?c:void 0},I),{},{value:g?s:"",readOnly:!g,unselectable:g?null:"on",style:Ee(Ee({},b.style),{},{opacity:g?null:0})}))};const Jv=t.forwardRef(Xv);function Hv(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var xv="undefined"!==typeof window&&window.document&&window.document.documentElement;function Yv(e){return["string","number"].includes(ke(e))}function Nv(e){var t=void 0;return e&&(Yv(e.title)?t=e.title.toString():Yv(e.label)&&(t=e.label.toString())),t}function Ev(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Fv=function(e){e.preventDefault(),e.stopPropagation()};const Kv=function(e){var n,o,l=e.id,r=e.prefixCls,a=e.values,i=e.open,g=e.searchValue,c=e.autoClearSearchValue,s=e.inputRef,d=e.placeholder,I=e.disabled,C=e.mode,u=e.showSearch,m=e.autoFocus,A=e.autoComplete,b=e.activeDescendantId,p=e.tabIndex,h=e.removeIcon,f=e.maxTagCount,y=e.maxTagTextLength,v=e.maxTagPlaceholder,Z=void 0===v?function(e){return"+ ".concat(e.length," ...")}:v,G=e.tagRender,S=e.onToggleOpen,B=e.onRemove,k=e.onInputChange,W=e.onInputPaste,V=e.onInputKeyDown,R=e.onInputMouseDown,w=e.onInputCompositionStart,X=e.onInputCompositionEnd,J=e.onInputBlur,H=t.useRef(null),x=He((0,t.useState)(0),2),Y=x[0],N=x[1],E=He((0,t.useState)(!1),2),F=E[0],K=E[1],M="".concat(r,"-selection"),z=i||"multiple"===C&&!1===c||"tags"===C?g:"",L="tags"===C||"multiple"===C&&!1===c||u&&(i||F);n=function(){N(H.current.scrollWidth)},o=[z],xv?t.useLayoutEffect(n,o):t.useEffect(n,o);var D=function(e,n,o,l,r){return t.createElement("span",{title:Nv(e),className:Ol()("".concat(M,"-item"),Ve({},"".concat(M,"-item-disabled"),o))},t.createElement("span",{className:"".concat(M,"-item-content")},n),l&&t.createElement(kv,{className:"".concat(M,"-item-remove"),onMouseDown:Fv,onClick:r,customizeIcon:h},"\xd7"))},T=function(e,n,o,l,r,a){return t.createElement("span",{onMouseDown:function(e){Fv(e),S(!i)}},G({label:n,value:e,disabled:o,closable:l,onClose:r,isMaxTag:!!a}))},j=t.createElement("div",{className:"".concat(M,"-search"),style:{width:Y},onFocus:function(){K(!0)},onBlur:function(){K(!1)}},t.createElement(Jv,{ref:s,open:i,prefixCls:r,id:l,inputElement:null,disabled:I,autoFocus:m,autoComplete:A,editable:L,activeDescendantId:b,value:z,onKeyDown:V,onMouseDown:R,onChange:k,onPaste:W,onCompositionStart:w,onCompositionEnd:X,onBlur:J,tabIndex:p,attrs:My(e,!0)}),t.createElement("span",{ref:H,className:"".concat(M,"-search-mirror"),"aria-hidden":!0},z,"\xa0")),O=t.createElement(Wm,{prefixCls:"".concat(M,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,l=!I&&!t,r=n;if("number"===typeof y&&("string"===typeof n||"number"===typeof n)){var a=String(r);a.length>y&&(r="".concat(a.slice(0,y),"..."))}var i=function(t){t&&t.stopPropagation(),B(e)};return"function"===typeof G?T(o,r,t,l,i):D(e,r,t,l,i)},renderRest:function(e){if(!a.length)return null;var t="function"===typeof Z?Z(e):Z;return"function"===typeof G?T(void 0,t,!1,!1,void 0,!0):D({title:t},t,!1)},suffix:j,itemKey:Ev,maxCount:f});return t.createElement("span",{className:"".concat(M,"-wrap")},O,!a.length&&!z&&t.createElement("span",{className:"".concat(M,"-placeholder")},d))};const Mv=function(e){var n=e.inputElement,o=e.prefixCls,l=e.id,r=e.inputRef,a=e.disabled,i=e.autoFocus,g=e.autoComplete,c=e.activeDescendantId,s=e.mode,d=e.open,I=e.values,C=e.placeholder,u=e.tabIndex,m=e.showSearch,A=e.searchValue,b=e.activeValue,p=e.maxLength,h=e.onInputKeyDown,f=e.onInputMouseDown,y=e.onInputChange,v=e.onInputPaste,Z=e.onInputCompositionStart,G=e.onInputCompositionEnd,S=e.onInputBlur,B=e.title,k=He(t.useState(!1),2),W=k[0],V=k[1],R="combobox"===s,w=R||m,X=I[0],J=A||"";R&&b&&!W&&(J=b),t.useEffect(function(){R&&V(!1)},[R,b]);var H=!("combobox"!==s&&!d&&!m)&&!!J,x=void 0===B?Nv(X):B,Y=t.useMemo(function(){return X?null:t.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:H?{visibility:"hidden"}:void 0},C)},[X,H,C,o]);return t.createElement("span",{className:"".concat(o,"-selection-wrap")},t.createElement("span",{className:"".concat(o,"-selection-search")},t.createElement(Jv,{ref:r,prefixCls:o,id:l,open:d,inputElement:n,disabled:a,autoFocus:i,autoComplete:g,editable:w,activeDescendantId:c,value:J,onKeyDown:h,onMouseDown:f,onChange:function(e){V(!0),y(e)},onPaste:v,onCompositionStart:Z,onCompositionEnd:G,onBlur:S,tabIndex:u,attrs:My(e,!0),maxLength:R?p:void 0})),!R&&X?t.createElement("span",{className:"".concat(o,"-selection-item"),title:x,style:H?{visibility:"hidden"}:void 0},X.label):null,Y)};var zv=function(e,n){var o=(0,t.useRef)(null),l=(0,t.useRef)(!1),r=e.prefixCls,a=e.open,i=e.mode,g=e.showSearch,c=e.tokenWithEnter,s=e.disabled,d=e.prefix,I=e.autoClearSearchValue,C=e.onSearch,u=e.onSearchSubmit,m=e.onToggleOpen,A=e.onInputKeyDown,b=e.onInputBlur,p=e.domRef;t.useImperativeHandle(n,function(){return{focus:function(e){o.current.focus(e)},blur:function(){o.current.blur()}}});var h=He(Vv(0),2),f=h[0],y=h[1],v=(0,t.useRef)(null),Z=function(e){!1!==C(e,!0,l.current)&&m(!0)},G={inputRef:o,onInputKeyDown:function(e){var t,n=e.which,r=o.current instanceof HTMLTextAreaElement;(r||!a||n!==OI.UP&&n!==OI.DOWN||e.preventDefault(),A&&A(e),n!==OI.ENTER||"tags"!==i||l.current||a||null===u||void 0===u||u(e.target.value),r&&!a&&~[OI.UP,OI.DOWN,OI.LEFT,OI.RIGHT].indexOf(n))||(t=n)&&![OI.ESC,OI.SHIFT,OI.BACKSPACE,OI.TAB,OI.WIN_KEY,OI.ALT,OI.META,OI.WIN_KEY_RIGHT,OI.CTRL,OI.SEMICOLON,OI.EQUALS,OI.CAPS_LOCK,OI.CONTEXT_MENU,OI.F1,OI.F2,OI.F3,OI.F4,OI.F5,OI.F6,OI.F7,OI.F8,OI.F9,OI.F10,OI.F11,OI.F12].includes(t)&&m(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(c&&v.current&&/[\r\n]/.test(v.current)){var n=v.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,v.current)}v.current=null,Z(t)},onInputPaste:function(e){var t=e.clipboardData,n=null===t||void 0===t?void 0:t.getData("text");v.current=n||""},onInputCompositionStart:function(){l.current=!0},onInputCompositionEnd:function(e){l.current=!1,"combobox"!==i&&Z(e.target.value)},onInputBlur:b},S="multiple"===i||"tags"===i?t.createElement(Kv,$t({},e,G)):t.createElement(Mv,$t({},e,G));return t.createElement("div",{ref:p,className:"".concat(r,"-selector"),onClick:function(e){e.target!==o.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){o.current.focus()}):o.current.focus())},onMouseDown:function(e){var t=f();e.target===o.current||t||"combobox"===i&&s||e.preventDefault(),("combobox"===i||g&&t)&&a||(a&&!1!==I&&C("",!0,!1),m())}},d&&t.createElement("div",{className:"".concat(r,"-prefix")},d),S)};const Lv=t.forwardRef(zv);var Dv=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Tv=function(e,n){var o=e.prefixCls,l=(e.disabled,e.visible),r=e.children,a=e.popupElement,i=e.animation,g=e.transitionName,c=e.dropdownStyle,s=e.dropdownClassName,d=e.direction,I=void 0===d?"ltr":d,C=e.placement,u=e.builtinPlacements,m=e.dropdownMatchSelectWidth,A=e.dropdownRender,b=e.dropdownAlign,p=e.getPopupContainer,h=e.empty,f=e.getTriggerDOMNode,y=e.onPopupVisibleChange,v=e.onPopupMouseEnter,Z=cr(e,Dv),G="".concat(o,"-dropdown"),S=a;A&&(S=A(a));var B=t.useMemo(function(){return u||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(m)},[u,m]),k=i?"".concat(G,"-").concat(i):g,W="number"===typeof m,V=t.useMemo(function(){return W?null:!1===m?"minWidth":"width"},[m,W]),R=c;W&&(R=Ee(Ee({},R),{},{width:m}));var w=t.useRef(null);return t.useImperativeHandle(n,function(){return{getPopupElement:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.popupElement}}}),t.createElement(Dc,$t({},Z,{showAction:y?["click"]:[],hideAction:y?["click"]:[],popupPlacement:C||("rtl"===I?"bottomRight":"bottomLeft"),builtinPlacements:B,prefixCls:G,popupTransitionName:k,popup:t.createElement("div",{onMouseEnter:v},S),ref:w,stretch:V,popupAlign:b,popupVisible:l,getPopupContainer:p,popupClassName:Ol()(s,Ve({},"".concat(G,"-empty"),h)),popupStyle:R,getTriggerDOMNode:f,onPopupVisibleChange:y}),r)};const jv=t.forwardRef(Tv);function Ov(e,t){var n,o=e.key;return"value"in e&&(n=e.value),null!==o&&void 0!==o?o:void 0!==n?n:"rc-index-key-".concat(t)}function Uv(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function Qv(e,t){var n=e||{},o=n.label||(t?"children":"label");return{label:o,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||o}}function $v(e){var t=Ee({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return rt(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const Pv=t.createContext(null);function qv(e){var n=e.visible,o=e.values;if(!n)return null;return t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,50).map(function(e){var t=e.label,n=e.value;return["number","string"].includes(ke(t))?t:n}).join(", ")),o.length>50?", ...":null)}var _v=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],eZ=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],tZ=function(e){return"tags"===e||"multiple"===e},nZ=t.forwardRef(function(e,n){var o,l=e.id,r=e.prefixCls,a=e.className,i=e.showSearch,g=e.tagRender,c=e.direction,s=e.omitDomProps,d=e.displayValues,I=e.onDisplayValuesChange,C=e.emptyOptions,u=e.notFoundContent,m=void 0===u?"Not Found":u,A=e.onClear,b=e.mode,p=e.disabled,h=e.loading,f=e.getInputElement,y=e.getRawInputElement,v=e.open,Z=e.defaultOpen,G=e.onDropdownVisibleChange,S=e.activeValue,B=e.onActiveValueChange,k=e.activeDescendantId,W=e.searchValue,V=e.autoClearSearchValue,R=e.onSearch,w=e.onSearchSplit,X=e.tokenSeparators,J=e.allowClear,H=e.prefix,x=e.suffixIcon,Y=e.clearIcon,N=e.OptionList,E=e.animation,F=e.transitionName,K=e.dropdownStyle,M=e.dropdownClassName,z=e.dropdownMatchSelectWidth,L=e.dropdownRender,D=e.dropdownAlign,T=e.placement,j=e.builtinPlacements,O=e.getPopupContainer,U=e.showAction,Q=void 0===U?[]:U,$=e.onFocus,P=e.onBlur,q=e.onKeyUp,_=e.onKeyDown,ee=e.onMouseDown,te=cr(e,_v),ne=tZ(b),oe=(void 0!==i?i:ne)||"combobox"===b,le=Ee({},te);eZ.forEach(function(e){delete le[e]}),null===s||void 0===s||s.forEach(function(e){delete le[e]});var re=He(t.useState(!1),2),ae=re[0],ie=re[1];t.useEffect(function(){ie(hc())},[]);var ge=t.useRef(null),ce=t.useRef(null),se=t.useRef(null),de=t.useRef(null),Ie=t.useRef(null),Ce=t.useRef(!1),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=He(t.useState(!1),2),o=n[0],l=n[1],r=t.useRef(null),a=function(){window.clearTimeout(r.current)};return t.useEffect(function(){return a},[]),[o,function(t,n){a(),r.current=window.setTimeout(function(){l(t),n&&n()},e)},a]}(),me=He(ue,3),Ae=me[0],be=me[1],pe=me[2];t.useImperativeHandle(n,function(){var e,t;return{focus:null===(e=de.current)||void 0===e?void 0:e.focus,blur:null===(t=de.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Ie.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:ge.current||ce.current}});var he=t.useMemo(function(){var e;if("combobox"!==b)return W;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""},[W,b,d]),fe="combobox"===b&&"function"===typeof f&&f()||null,ye="function"===typeof y&&y(),ve=rr(ce,null===ye||void 0===ye||null===(o=ye.props)||void 0===o?void 0:o.ref),Ze=He(t.useState(!1),2),Ge=Ze[0],Se=Ze[1];Ft(function(){Se(!0)},[]);var Be=He(Gr(!1,{defaultValue:Z,value:v}),2),We=Be[0],Re=Be[1],we=!!Ge&&We,Xe=!m&&C;(p||Xe&&we&&"combobox"===b)&&(we=!1);var Je=!Xe&&we,xe=t.useCallback(function(e){var t=void 0!==e?e:!we;p||(Re(t),we!==t&&(null===G||void 0===G||G(t)))},[p,we,Re,G]),Ne=t.useMemo(function(){return(X||[]).some(function(e){return["\n","\r\n"].includes(e)})},[X]),Fe=t.useContext(Pv)||{},Ke=Fe.maxCount,Me=Fe.rawValues,ze=function(e,t,n){if(!(ne&&Uv(Ke)&&(null===Me||void 0===Me?void 0:Me.size)>=Ke)){var o=!0,l=e;null===B||void 0===B||B(null);var r=function(e,t,n){if(!t||!t.length)return null;var o=!1,l=function e(t,n){var l=ro(n),r=l[0],a=l.slice(1);if(!r)return[t];var i=t.split(r);return o=o||i.length>1,i.reduce(function(t,n){return[].concat(Ye(t),Ye(e(n,a)))},[]).filter(Boolean)}(e,t);return o?"undefined"!==typeof n?l.slice(0,n):l:null}(e,X,Uv(Ke)?Ke-Me.size:void 0),a=n?null:r;return"combobox"!==b&&a&&(l="",null===w||void 0===w||w(a),xe(!1),o=!1),R&&he!==l&&R(l,{source:t?"typing":"effect"}),o}};t.useEffect(function(){we||ne||"combobox"===b||ze("",!1,!1)},[we]),t.useEffect(function(){We&&p&&Re(!1),p&&!Ce.current&&be(!1)},[p]);var Le=He(Vv(),2),De=Le[0],Te=Le[1],je=t.useRef(!1),Oe=t.useRef(!1),Ue=[];t.useEffect(function(){return function(){Ue.forEach(function(e){return clearTimeout(e)}),Ue.splice(0,Ue.length)}},[]);var Qe,$e=He(t.useState({}),2)[1];ye&&(Qe=function(e){xe(e)}),function(e,n,o,l){var r=t.useRef(null);r.current={open:n,triggerOpen:o,customizedTrigger:l},t.useEffect(function(){function t(t){var n;if(null===(n=r.current)||void 0===n||!n.customizedTrigger){var o=t.target;o.shadowRoot&&t.composed&&(o=t.composedPath()[0]||o),r.current.open&&e().filter(function(e){return e}).every(function(e){return!e.contains(o)&&e!==o})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}},[])}(function(){var e;return[ge.current,null===(e=se.current)||void 0===e?void 0:e.getPopupElement()]},Je,xe,!!ye);var Pe,qe=t.useMemo(function(){return Ee(Ee({},e),{},{notFoundContent:m,open:we,triggerOpen:Je,id:l,showSearch:oe,multiple:ne,toggleOpen:xe})},[e,m,Je,we,l,oe,ne,xe]),_e=!!x||h;_e&&(Pe=t.createElement(kv,{className:Ol()("".concat(r,"-arrow"),Ve({},"".concat(r,"-arrow-loading"),h)),customizeIcon:x,customizeIconProps:{loading:h,searchValue:he,open:we,focused:Ae,showSearch:oe}}));var et,tt=function(e,n,o,l,r){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6?arguments[6]:void 0,g=arguments.length>7?arguments[7]:void 0,c=t.useMemo(function(){return"object"===ke(l)?l.clearIcon:r||void 0},[l,r]);return{allowClear:t.useMemo(function(){return!(a||!l||!o.length&&!i||"combobox"===g&&""===i)},[l,a,o.length,i,g]),clearIcon:t.createElement(kv,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"\xd7")}}(r,function(){var e;null===A||void 0===A||A(),null===(e=de.current)||void 0===e||e.focus(),I([],{type:"clear",values:d}),ze("",!1,!1)},d,J,Y,p,he,b),nt=tt.allowClear,ot=tt.clearIcon,lt=t.createElement(N,{ref:Ie}),rt=Ol()(r,a,Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve({},"".concat(r,"-focused"),Ae),"".concat(r,"-multiple"),ne),"".concat(r,"-single"),!ne),"".concat(r,"-allow-clear"),J),"".concat(r,"-show-arrow"),_e),"".concat(r,"-disabled"),p),"".concat(r,"-loading"),h),"".concat(r,"-open"),we),"".concat(r,"-customize-input"),fe),"".concat(r,"-show-search"),oe)),at=t.createElement(jv,{ref:se,disabled:p,prefixCls:r,visible:Je,popupElement:lt,animation:E,transitionName:F,dropdownStyle:K,dropdownClassName:M,direction:c,dropdownMatchSelectWidth:z,dropdownRender:L,dropdownAlign:D,placement:T,builtinPlacements:j,getPopupContainer:O,empty:C,getTriggerDOMNode:function(e){return ce.current||e},onPopupVisibleChange:Qe,onPopupMouseEnter:function(){$e({})}},ye?t.cloneElement(ye,{ref:ve}):t.createElement(Lv,$t({},e,{domRef:ce,prefixCls:r,inputElement:fe,ref:de,id:l,prefix:H,showSearch:oe,autoClearSearchValue:V,mode:b,activeDescendantId:k,tagRender:g,values:d,open:we,onToggleOpen:xe,activeValue:S,searchValue:he,onSearch:ze,onSearchSubmit:function(e){e&&e.trim()&&R(e,{source:"submit"})},onRemove:function(e){var t=d.filter(function(t){return t!==e});I(t,{type:"remove",values:[e]})},tokenWithEnter:Ne,onInputBlur:function(){je.current=!1}})));return et=ye?at:t.createElement("div",$t({className:rt},le,{ref:ge,onMouseDown:function(e){var t,n=e.target,o=null===(t=se.current)||void 0===t?void 0:t.getPopupElement();if(o&&o.contains(n)){var l=setTimeout(function(){var e,t=Ue.indexOf(l);-1!==t&&Ue.splice(t,1),pe(),ae||o.contains(document.activeElement)||null===(e=de.current)||void 0===e||e.focus()});Ue.push(l)}for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];null===ee||void 0===ee||ee.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=De(),o=e.key,l="Enter"===o;if(l&&("combobox"!==b&&e.preventDefault(),we||xe(!0)),Te(!!he),"Backspace"===o&&!n&&ne&&!he&&d.length){for(var r=Ye(d),a=null,i=r.length-1;i>=0;i-=1){var g=r[i];if(!g.disabled){r.splice(i,1),a=g;break}}a&&I(r,{type:"remove",values:[a]})}for(var c=arguments.length,s=new Array(c>1?c-1:0),C=1;C<c;C++)s[C-1]=arguments[C];!we||l&&je.current||(l&&(je.current=!0),null===(t=Ie.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(s))),null===_||void 0===_||_.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var l;we&&(null===(l=Ie.current)||void 0===l||l.onKeyUp.apply(l,[e].concat(n))),"Enter"===e.key&&(je.current=!1),null===q||void 0===q||q.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),p||($&&!Oe.current&&$.apply(void 0,arguments),Q.includes("focus")&&xe(!0)),Oe.current=!0},onBlur:function(){Ce.current=!0,be(!1,function(){Oe.current=!1,Ce.current=!1,xe(!1)}),p||(he&&("tags"===b?R(he,{source:"submit"}):"multiple"===b&&R("",{source:"blur"})),P&&P.apply(void 0,arguments))}}),t.createElement(qv,{visible:Ae&&!we,values:d}),at,Pe,nt&&ot),t.createElement(Wv.Provider,{value:qe},et)});const oZ=nZ;var lZ=function(){return null};lZ.isSelectOptGroup=!0;const rZ=lZ;var aZ=function(){return null};aZ.isSelectOption=!0;const iZ=aZ;var gZ=t.forwardRef(function(e,n){var o=e.height,l=e.offsetY,r=e.offsetX,a=e.children,i=e.prefixCls,g=e.onInnerResize,c=e.innerProps,s=e.rtl,d=e.extra,I={},C={display:"flex",flexDirection:"column"};return void 0!==l&&(I={height:o,position:"relative",overflow:"hidden"},C=Ee(Ee({},C),{},Ve(Ve(Ve(Ve(Ve({transform:"translateY(".concat(l,"px)")},s?"marginRight":"marginLeft",-r),"position","absolute"),"left",0),"right",0),"top",0))),t.createElement("div",{style:I},t.createElement(qg,{onResize:function(e){e.offsetHeight&&g&&g()}},t.createElement("div",$t({style:C,className:Ol()(Ve({},"".concat(i,"-holder-inner"),i)),ref:n},c),a,d)))});gZ.displayName="Filler";const cZ=gZ;function sZ(e){var n=e.children,o=e.setRef,l=t.useCallback(function(e){o(e)},[]);return t.cloneElement(n,{ref:l})}function dZ(e,n,o){var l=He(t.useState(e),2),r=l[0],a=l[1],i=He(t.useState(null),2),g=i[0],c=i[1];return t.useEffect(function(){var t=function(e,t,n){var o,l,r=e.length,a=t.length;if(0===r&&0===a)return null;r<a?(o=e,l=t):(o=t,l=e);var i={__EMPTY_ITEM__:!0};function g(e){return void 0!==e?n(e):i}for(var c=null,s=1!==Math.abs(r-a),d=0;d<l.length;d+=1){var I=g(o[d]);if(I!==g(l[d])){c=d,s=s||I!==g(l[d+1]);break}}return null===c?null:{index:c,multiple:s}}(r||[],e||[],n);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===o||void 0===o||o(t.index),c(e[t.index])),a(e)},[e]),[g]}const IZ="object"===("undefined"===typeof navigator?"undefined":ke(navigator))&&/Firefox/i.test(navigator.userAgent),CZ=function(e,n,o,l){var r=(0,t.useRef)(!1),a=(0,t.useRef)(null);var i=(0,t.useRef)({top:e,bottom:n,left:o,right:l});return i.current.top=e,i.current.bottom=n,i.current.left=o,i.current.right=l,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?t<0&&i.current.left||t>0&&i.current.right:t<0&&i.current.top||t>0&&i.current.bottom;return n&&o?(clearTimeout(a.current),r.current=!1):o&&!r.current||(clearTimeout(a.current),r.current=!0,a.current=setTimeout(function(){r.current=!1},50)),!r.current&&o}};function uZ(e,n,o,l,r,a,i){var g=(0,t.useRef)(0),c=(0,t.useRef)(null),s=(0,t.useRef)(null),d=(0,t.useRef)(!1),I=CZ(n,o,l,r);var C=(0,t.useRef)(null),u=(0,t.useRef)(null);return[function(t){if(e){ea.cancel(u.current),u.current=ea(function(){C.current=null},2);var n=t.deltaX,o=t.deltaY,l=t.shiftKey,r=n,m=o;("sx"===C.current||!C.current&&l&&o&&!n)&&(r=o,m=0,C.current="sx");var A=Math.abs(r),b=Math.abs(m);null===C.current&&(C.current=a&&A>b?"x":"y"),"y"===C.current?function(e,t){if(ea.cancel(c.current),!I(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,g.current+=t,s.current=t,IZ||n.preventDefault(),c.current=ea(function(){var e=d.current?10:1;i(g.current*e,!1),g.current=0}))}}(t,m):function(e,t){i(t,!0),IZ||e.preventDefault()}(t,r)}},function(t){e&&(d.current=t.detail===s.current)}]}const mZ=function(){function e(){it(this,e),Ve(this,"maps",void 0),Ve(this,"id",0),Ve(this,"diffRecords",new Map),this.maps=Object.create(null)}return ct(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function AZ(e){var t=parseFloat(e);return isNaN(t)?0:t}var bZ=14/15;function pZ(e){return Math.floor(Math.pow(e,.5))}function hZ(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var fZ=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.rtl,r=e.scrollOffset,a=e.scrollRange,i=e.onStartMove,g=e.onStopMove,c=e.onScroll,s=e.horizontal,d=e.spinSize,I=e.containerSize,C=e.style,u=e.thumbStyle,m=e.showScrollBar,A=He(t.useState(!1),2),b=A[0],p=A[1],h=He(t.useState(null),2),f=h[0],y=h[1],v=He(t.useState(null),2),Z=v[0],G=v[1],S=!l,B=t.useRef(),k=t.useRef(),W=He(t.useState(m),2),V=W[0],R=W[1],w=t.useRef(),X=function(){!0!==m&&!1!==m&&(clearTimeout(w.current),R(!0),w.current=setTimeout(function(){R(!1)},3e3))},J=a-I||0,H=I-d||0,x=t.useMemo(function(){return 0===r||0===J?0:r/J*H},[r,J,H]),Y=t.useRef({top:x,dragging:b,pageY:f,startTop:Z});Y.current={top:x,dragging:b,pageY:f,startTop:Z};var N=function(e){p(!0),y(hZ(e,s)),G(Y.current.top),i(),e.stopPropagation(),e.preventDefault()};t.useEffect(function(){var e=function(e){e.preventDefault()},t=B.current,n=k.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",N,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",N)}},[]);var E=t.useRef();E.current=J;var F=t.useRef();F.current=H,t.useEffect(function(){if(b){var e,t=function(t){var n=Y.current,o=n.dragging,l=n.pageY,r=n.startTop;ea.cancel(e);var a=B.current.getBoundingClientRect(),i=I/(s?a.width:a.height);if(o){var g=(hZ(t,s)-l)*i,d=r;!S&&s?d-=g:d+=g;var C=E.current,u=F.current,m=u?d/u:0,A=Math.ceil(m*C);A=Math.max(A,0),A=Math.min(A,C),e=ea(function(){c(A,s)})}},n=function(){p(!1),g()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),ea.cancel(e)}}},[b]),t.useEffect(function(){return X(),function(){clearTimeout(w.current)}},[r]),t.useImperativeHandle(n,function(){return{delayHidden:X}});var K="".concat(o,"-scrollbar"),M={position:"absolute",visibility:V?null:"hidden"},z={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return s?(Object.assign(M,{height:8,left:0,right:0,bottom:0}),Object.assign(z,Ve({height:"100%",width:d},S?"left":"right",x))):(Object.assign(M,Ve({width:8,top:0,bottom:0},S?"right":"left",0)),Object.assign(z,{width:"100%",height:d,top:x})),t.createElement("div",{ref:B,className:Ol()(K,Ve(Ve(Ve({},"".concat(K,"-horizontal"),s),"".concat(K,"-vertical"),!s),"".concat(K,"-visible"),V)),style:Ee(Ee({},M),C),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:X},t.createElement("div",{ref:k,className:Ol()("".concat(K,"-thumb"),Ve({},"".concat(K,"-thumb-moving"),b)),style:Ee(Ee({},z),u),onMouseDown:N}))});const yZ=fZ;function vZ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var ZZ=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],GZ=[],SZ={overflowY:"auto",overflowAnchor:"none"};function BZ(e,n){var o=e.prefixCls,l=void 0===o?"rc-virtual-list":o,r=e.className,a=e.height,i=e.itemHeight,g=e.fullHeight,s=void 0===g||g,d=e.style,I=e.data,C=e.children,u=e.itemKey,m=e.virtual,A=e.direction,b=e.scrollWidth,p=e.component,h=void 0===p?"div":p,f=e.onScroll,y=e.onVirtualScroll,v=e.onVisibleChange,Z=e.innerProps,G=e.extraRender,S=e.styles,B=e.showScrollBar,k=void 0===B?"optional":B,W=cr(e,ZZ),V=t.useCallback(function(e){return"function"===typeof u?u(e):null===e||void 0===e?void 0:e[u]},[u]),R=function(e,n,o){var l=He(t.useState(0),2),r=l[0],a=l[1],i=(0,t.useRef)(new Map),g=(0,t.useRef)(new mZ),c=(0,t.useRef)(0);function s(){c.current+=1}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s();var t=function(){var e=!1;i.current.forEach(function(t,n){if(t&&t.offsetParent){var o=t.offsetHeight,l=getComputedStyle(t),r=l.marginTop,a=l.marginBottom,i=o+AZ(r)+AZ(a);g.current.get(n)!==i&&(g.current.set(n,i),e=!0)}}),e&&a(function(e){return e+1})};if(e)t();else{c.current+=1;var n=c.current;Promise.resolve().then(function(){n===c.current&&t()})}}return(0,t.useEffect)(function(){return s},[]),[function(t,l){var r=e(t),a=i.current.get(r);l?(i.current.set(r,l),d()):i.current.delete(r),!a!==!l&&(l?null===n||void 0===n||n(t):null===o||void 0===o||o(t))},d,g.current,r]}(V,null,null),w=He(R,4),X=w[0],J=w[1],H=w[2],x=w[3],Y=!(!1===m||!a||!i),N=t.useMemo(function(){return Object.values(H.maps).reduce(function(e,t){return e+t},0)},[H.id,H.maps]),E=Y&&I&&(Math.max(i*I.length,N)>a||!!b),F="rtl"===A,K=Ol()(l,Ve({},"".concat(l,"-rtl"),F),r),M=I||GZ,z=(0,t.useRef)(),L=(0,t.useRef)(),D=(0,t.useRef)(),T=He((0,t.useState)(0),2),j=T[0],O=T[1],U=He((0,t.useState)(0),2),Q=U[0],$=U[1],P=He((0,t.useState)(!1),2),q=P[0],_=P[1],ee=function(){_(!0)},te=function(){_(!1)},ne={getKey:V};function oe(e){O(function(t){var n=function(e){var t=e;Number.isNaN(fe.current)||(t=Math.min(t,fe.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return z.current.scrollTop=n,n})}var le=(0,t.useRef)({start:0,end:M.length}),re=(0,t.useRef)(),ae=He(dZ(M,V),1)[0];re.current=ae;var ie=t.useMemo(function(){if(!Y)return{scrollHeight:void 0,start:0,end:M.length-1,offset:void 0};var e;if(!E)return{scrollHeight:(null===(e=L.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:M.length-1,offset:void 0};for(var t,n,o,l=0,r=M.length,g=0;g<r;g+=1){var c=M[g],s=V(c),d=H.get(s),I=l+(void 0===d?i:d);I>=j&&void 0===t&&(t=g,n=l),I>j+a&&void 0===o&&(o=g),l=I}return void 0===t&&(t=0,n=0,o=Math.ceil(a/i)),void 0===o&&(o=M.length-1),{scrollHeight:l,start:t,end:o=Math.min(o+1,M.length-1),offset:n}},[E,Y,j,M,x,a]),ge=ie.scrollHeight,ce=ie.start,se=ie.end,de=ie.offset;le.current.start=ce,le.current.end=se,t.useLayoutEffect(function(){var e=H.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),o=M[ce];if(o&&void 0===n)if(V(o)===t){var l=H.get(t)-i;oe(function(e){return e+l})}}H.resetRecord()},[ge]);var Ie=He(t.useState({width:0,height:a}),2),Ce=Ie[0],ue=Ie[1],me=(0,t.useRef)(),Ae=(0,t.useRef)(),be=t.useMemo(function(){return vZ(Ce.width,b)},[Ce.width,b]),pe=t.useMemo(function(){return vZ(Ce.height,ge)},[Ce.height,ge]),he=ge-a,fe=(0,t.useRef)(he);fe.current=he;var ye=j<=0,ve=j>=he,Ze=Q<=0,Ge=Q>=b,Se=CZ(ye,ve,Ze,Ge),Be=function(){return{x:F?-Q:Q,y:j}},We=(0,t.useRef)(Be()),Re=yr(function(e){if(y){var t=Ee(Ee({},Be()),e);We.current.x===t.x&&We.current.y===t.y||(y(t),We.current=t)}});function we(e,t){var n=e;t?((0,c.flushSync)(function(){$(n)}),Re()):oe(n)}var Xe=function(e){var t=e,n=b?b-Ce.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Je=yr(function(e,t){t?((0,c.flushSync)(function(){$(function(t){return Xe(t+(F?-e:e))})}),Re()):oe(function(t){return t+e})}),xe=He(uZ(Y,ye,ve,Ze,Ge,!!b,Je),2),Ye=xe[0],Ne=xe[1];!function(e,n,o){var l,r=(0,t.useRef)(!1),a=(0,t.useRef)(0),i=(0,t.useRef)(0),g=(0,t.useRef)(null),c=(0,t.useRef)(null),s=function(e){if(r.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),l=a.current-t,g=i.current-n,s=Math.abs(l)>Math.abs(g);s?a.current=t:i.current=n;var d=o(s,s?l:g,!1,e);d&&e.preventDefault(),clearInterval(c.current),d&&(c.current=setInterval(function(){s?l*=bZ:g*=bZ;var e=Math.floor(s?l:g);(!o(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)},16))}},d=function(){r.current=!1,l()},I=function(e){l(),1!==e.touches.length||r.current||(r.current=!0,a.current=Math.ceil(e.touches[0].pageX),i.current=Math.ceil(e.touches[0].pageY),g.current=e.target,g.current.addEventListener("touchmove",s,{passive:!1}),g.current.addEventListener("touchend",d,{passive:!0}))};l=function(){g.current&&(g.current.removeEventListener("touchmove",s),g.current.removeEventListener("touchend",d))},Ft(function(){return e&&n.current.addEventListener("touchstart",I,{passive:!0}),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",I),l(),clearInterval(c.current)}},[e])}(Y,z,function(e,t,n,o){var l=o;return!Se(e,t,n)&&((!l||!l._virtualHandled)&&(l&&(l._virtualHandled=!0),Ye({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(e,n,o){t.useEffect(function(){var t=n.current;if(e&&t){var l,r,a=!1,i=function(){ea.cancel(l)},g=function e(){i(),l=ea(function(){o(r),e()})},c=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,a=!0)}},s=function(){a=!1,i()},d=function(e){if(a){var n=hZ(e,!1),o=t.getBoundingClientRect(),l=o.top,c=o.bottom;n<=l?(r=-pZ(l-n),g()):n>=c?(r=pZ(n-c),g()):i()}};return t.addEventListener("mousedown",c),t.ownerDocument.addEventListener("mouseup",s),t.ownerDocument.addEventListener("mousemove",d),function(){t.removeEventListener("mousedown",c),t.ownerDocument.removeEventListener("mouseup",s),t.ownerDocument.removeEventListener("mousemove",d),i()}}},[e])}(E,z,function(e){oe(function(t){return t+e})}),Ft(function(){function e(e){var t=ye&&e.detail<0,n=ve&&e.detail>0;!Y||t||n||e.preventDefault()}var t=z.current;return t.addEventListener("wheel",Ye,{passive:!1}),t.addEventListener("DOMMouseScroll",Ne,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Ye),t.removeEventListener("DOMMouseScroll",Ne),t.removeEventListener("MozMousePixelScroll",e)}},[Y,ye,ve]),Ft(function(){if(b){var e=Xe(Q);$(e),Re({x:e})}},[Ce.width,b]);var Fe=function(){var e,t;null===(e=me.current)||void 0===e||e.delayHidden(),null===(t=Ae.current)||void 0===t||t.delayHidden()},Ke=function(e,n,o,l,r,a,i,g){var c=t.useRef(),s=He(t.useState(null),2),d=s[0],I=s[1];return Ft(function(){if(d&&d.times<10){if(!e.current)return void I(function(e){return Ee({},e)});a();var t=d.targetAlign,g=d.originAlign,c=d.index,s=d.offset,C=e.current.clientHeight,u=!1,m=t,A=null;if(C){for(var b=t||g,p=0,h=0,f=0,y=Math.min(n.length-1,c),v=0;v<=y;v+=1){var Z=r(n[v]);h=p;var G=o.get(Z);p=f=h+(void 0===G?l:G)}for(var S="top"===b?s:C-s,B=y;B>=0;B-=1){var k=r(n[B]),W=o.get(k);if(void 0===W){u=!0;break}if((S-=W)<=0)break}switch(b){case"top":A=h-s;break;case"bottom":A=f-C+s;break;default:var V=e.current.scrollTop;h<V?m="top":f>V+C&&(m="bottom")}null!==A&&i(A),A!==d.lastTop&&(u=!0)}u&&I(Ee(Ee({},d),{},{times:d.times+1,targetAlign:m,lastTop:A}))}},[d,e.current]),function(e){if(null!==e&&void 0!==e){if(ea.cancel(c.current),"number"===typeof e)i(e);else if(e&&"object"===ke(e)){var t,o=e.align;t="index"in e?e.index:n.findIndex(function(t){return r(t)===e.key});var l=e.offset;I({times:0,index:t,offset:void 0===l?0:l,originAlign:o})}}else g()}}(z,M,H,i,V,function(){return J(!0)},oe,Fe);t.useImperativeHandle(n,function(){return{nativeElement:D.current,getScrollInfo:Be,scrollTo:function(e){var t;(t=e)&&"object"===ke(t)&&("left"in t||"top"in t)?(void 0!==e.left&&$(Xe(e.left)),Ke(e.top)):Ke(e)}}}),Ft(function(){if(v){var e=M.slice(ce,se+1);v(e,M)}},[ce,se,M]);var Me=function(e,n,o,l){var r=He(t.useMemo(function(){return[new Map,[]]},[e,o.id,l]),2),a=r[0],i=r[1];return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,g=a.get(t),c=a.get(r);if(void 0===g||void 0===c)for(var s=e.length,d=i.length;d<s;d+=1){var I,C=e[d],u=n(C);a.set(u,d);var m=null!==(I=o.get(u))&&void 0!==I?I:l;if(i[d]=(i[d-1]||0)+m,u===t&&(g=d),u===r&&(c=d),void 0!==g&&void 0!==c)break}return{top:i[g-1]||0,bottom:i[c]}}}(M,V,H,i),ze=null===G||void 0===G?void 0:G({start:ce,end:se,virtual:E,offsetX:Q,offsetY:de,rtl:F,getSize:Me}),Le=function(e,n,o,l,r,a,i,g){var c=g.getKey;return e.slice(n,o+1).map(function(e,o){var g=i(e,n+o,{style:{width:l},offsetX:r}),s=c(e);return t.createElement(sZ,{key:s,setRef:function(t){return a(e,t)}},g)})}(M,ce,se,b,Q,X,C,ne),De=null;a&&(De=Ee(Ve({},s?"height":"maxHeight",a),SZ),Y&&(De.overflowY="hidden",b&&(De.overflowX="hidden"),q&&(De.pointerEvents="none")));var Te={};return F&&(Te.dir="rtl"),t.createElement("div",$t({ref:D,style:Ee(Ee({},d),{},{position:"relative"}),className:K},Te,W),t.createElement(qg,{onResize:function(e){ue({width:e.offsetWidth,height:e.offsetHeight})}},t.createElement(h,{className:"".concat(l,"-holder"),style:De,ref:z,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==j&&oe(t),null===f||void 0===f||f(e),Re()},onMouseEnter:Fe},t.createElement(cZ,{prefixCls:l,height:ge,offsetX:Q,offsetY:de,scrollWidth:b,onInnerResize:J,ref:L,innerProps:Z,rtl:F,extra:ze},Le))),E&&ge>a&&t.createElement(yZ,{ref:me,prefixCls:l,scrollOffset:j,scrollRange:ge,rtl:F,onScroll:we,onStartMove:ee,onStopMove:te,spinSize:pe,containerSize:Ce.height,style:null===S||void 0===S?void 0:S.verticalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.verticalScrollBarThumb,showScrollBar:k}),E&&b>Ce.width&&t.createElement(yZ,{ref:Ae,prefixCls:l,scrollOffset:Q,scrollRange:b,rtl:F,onScroll:we,onStartMove:ee,onStopMove:te,spinSize:be,containerSize:Ce.width,horizontal:!0,style:null===S||void 0===S?void 0:S.horizontalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.horizontalScrollBarThumb,showScrollBar:k}))}var kZ=t.forwardRef(BZ);kZ.displayName="List";const WZ=kZ;var VZ=["disabled","title","children","style","className"];function RZ(e){return"string"===typeof e||"number"===typeof e}var wZ=function(e,n){var o=t.useContext(Wv),l=o.prefixCls,r=o.id,a=o.open,i=o.multiple,g=o.mode,c=o.searchValue,s=o.toggleOpen,d=o.notFoundContent,I=o.onPopupScroll,C=t.useContext(Pv),u=C.maxCount,m=C.flattenOptions,A=C.onActiveValue,b=C.defaultActiveFirstOption,p=C.onSelect,h=C.menuItemSelectedIcon,f=C.rawValues,y=C.fieldNames,v=C.virtual,Z=C.direction,G=C.listHeight,S=C.listItemHeight,B=C.optionRender,k="".concat(l,"-item"),W=qe(function(){return m},[a,m],function(e,t){return t[0]&&e[1]!==t[1]}),V=t.useRef(null),R=t.useMemo(function(){return i&&Uv(u)&&(null===f||void 0===f?void 0:f.size)>=u},[i,u,null===f||void 0===f?void 0:f.size]),w=function(e){e.preventDefault()},X=function(e){var t;null===(t=V.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},J=t.useCallback(function(e){return"combobox"!==g&&f.has(e)},[g,Ye(f).toString(),f.size]),H=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=W.length,o=0;o<n;o+=1){var l=(e+o*t+n)%n,r=W[l]||{},a=r.group,i=r.data;if(!a&&(null===i||void 0===i||!i.disabled)&&(J(i.value)||!R))return l}return-1},x=He(t.useState(function(){return H(0)}),2),Y=x[0],N=x[1],E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N(e);var n={source:t?"keyboard":"mouse"},o=W[e];o?A(o.value,e,n):A(null,-1,n)};(0,t.useEffect)(function(){E(!1!==b?H(0):-1)},[W.length,c]);var F=t.useCallback(function(e){return"combobox"===g?String(e).toLowerCase()===c.toLowerCase():f.has(e)},[g,c,Ye(f).toString(),f.size]);(0,t.useEffect)(function(){var e,t=setTimeout(function(){if(!i&&a&&1===f.size){var e=Array.from(f)[0],t=W.findIndex(function(t){var n=t.data;return c?String(n.value).startsWith(c):n.value===e});-1!==t&&(E(t),X(t))}});a&&(null===(e=V.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}},[a,c]);var K=function(e){void 0!==e&&p(e,{selected:!f.has(e)}),i||s(!1)};if(t.useImperativeHandle(n,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case OI.N:case OI.P:case OI.UP:case OI.DOWN:var o=0;if(t===OI.UP?o=-1:t===OI.DOWN?o=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===OI.N?o=1:t===OI.P&&(o=-1)),0!==o){var l=H(Y+o,o);X(l),E(l,!0)}break;case OI.TAB:case OI.ENTER:var r,i=W[Y];!i||null!==i&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.disabled||R?K(void 0):K(i.value),a&&e.preventDefault();break;case OI.ESC:s(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){X(e)}}}),0===W.length)return t.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(k,"-empty"),onMouseDown:w},d);var M=Object.keys(y).map(function(e){return y[e]}),z=function(e){return e.label};function L(e,t){return{role:e.group?"presentation":"option",id:"".concat(r,"_list_").concat(t)}}var D=function(e){var n=W[e];if(!n)return null;var o=n.data||{},l=o.value,r=n.group,a=My(o,!0),i=z(n);return n?t.createElement("div",$t({"aria-label":"string"!==typeof i||r?null:i},a,{key:e},L(n,e),{"aria-selected":F(l)}),l):null},T={role:"listbox",id:"".concat(r,"_list")};return t.createElement(t.Fragment,null,v&&t.createElement("div",$t({},T,{style:{height:0,width:0,overflow:"hidden"}}),D(Y-1),D(Y),D(Y+1)),t.createElement(WZ,{itemKey:"key",ref:V,data:W,height:G,itemHeight:S,fullHeight:!1,onMouseDown:w,onScroll:I,virtual:v,direction:Z,innerProps:v?null:T},function(e,n){var o=e.group,l=e.groupOption,r=e.data,a=e.label,i=e.value,g=r.key;if(o){var c,s=null!==(c=r.title)&&void 0!==c?c:RZ(a)?a.toString():void 0;return t.createElement("div",{className:Ol()(k,"".concat(k,"-group"),r.className),title:s},void 0!==a?a:g)}var d=r.disabled,I=r.title,C=(r.children,r.style),u=r.className,m=Pa(cr(r,VZ),M),A=J(i),b=d||!A&&R,p="".concat(k,"-option"),f=Ol()(k,p,u,Ve(Ve(Ve(Ve({},"".concat(p,"-grouped"),l),"".concat(p,"-active"),Y===n&&!b),"".concat(p,"-disabled"),b),"".concat(p,"-selected"),A)),y=z(e),Z=!h||"function"===typeof h||A,G="number"===typeof y?y:y||i,S=RZ(G)?G.toString():void 0;return void 0!==I&&(S=I),t.createElement("div",$t({},My(m),v?{}:L(e,n),{"aria-selected":F(i),className:f,title:S,onMouseMove:function(){Y===n||b||E(n)},onClick:function(){b||K(i)},style:C}),t.createElement("div",{className:"".concat(p,"-content")},"function"===typeof B?B(e,{index:n}):G),t.isValidElement(h)||A,Z&&t.createElement(kv,{className:"".concat(k,"-option-state"),customizeIcon:h,customizeIconProps:{value:i,disabled:b,isSelected:A}},A?"\u2713":null))}))};const XZ=t.forwardRef(wZ);function JZ(e,t){return Hv(e).join("").toUpperCase().includes(t)}var HZ=0,xZ=Ke();function YZ(e){var n=He(t.useState(),2),o=n[0],l=n[1];return t.useEffect(function(){l("rc_select_".concat(function(){var e;return xZ?(e=HZ,HZ+=1):e="TEST_OR_SSR",e}()))},[]),e||o}var NZ=["children","value"],EZ=["children"];function FZ(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _a(e).map(function(e,o){if(!t.isValidElement(e)||!e.type)return null;var l=e,r=l.type.isSelectOptGroup,a=l.key,i=l.props,g=i.children,c=cr(i,EZ);return n||!r?function(e){var t=e,n=t.key,o=t.props,l=o.children,r=o.value;return Ee({key:n,value:void 0!==r?r:n,children:l},cr(o,NZ))}(e):Ee(Ee({key:"__RC_SELECT_GRP__".concat(null===a?o:a,"__"),label:a},c),{},{options:FZ(g)})}).filter(function(e){return e})}const KZ=function(e,n,o,l,r){return t.useMemo(function(){var t=e;!e&&(t=FZ(n));var a=new Map,i=new Map,g=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var s=t[c];!s[o.options]||n?(a.set(s[o.value],s),g(i,s,o.label),g(i,s,l),g(i,s,r)):e(s[o.options],!0)}}(t),{options:t,valueOptions:a,labelOptions:i}},[e,n,o,l,r])};function MZ(e){var n=t.useRef();n.current=e;var o=t.useCallback(function(){return n.current.apply(n,arguments)},[]);return o}var zZ=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],LZ=["inputValue"];var DZ=t.forwardRef(function(e,n){var o=e.id,l=e.mode,r=e.prefixCls,a=void 0===r?"rc-select":r,i=e.backfill,g=e.fieldNames,c=e.inputValue,s=e.searchValue,d=e.onSearch,I=e.autoClearSearchValue,C=void 0===I||I,u=e.onSelect,m=e.onDeselect,A=e.dropdownMatchSelectWidth,b=void 0===A||A,p=e.filterOption,h=e.filterSort,f=e.optionFilterProp,y=e.optionLabelProp,v=e.options,Z=e.optionRender,G=e.children,S=e.defaultActiveFirstOption,B=e.menuItemSelectedIcon,k=e.virtual,W=e.direction,V=e.listHeight,R=void 0===V?200:V,w=e.listItemHeight,X=void 0===w?20:w,J=e.labelRender,H=e.value,x=e.defaultValue,Y=e.labelInValue,N=e.onChange,E=e.maxCount,F=cr(e,zZ),K=YZ(o),M=tZ(l),z=!(v||!G),L=t.useMemo(function(){return(void 0!==p||"combobox"!==l)&&p},[p,l]),D=t.useMemo(function(){return Qv(g,z)},[JSON.stringify(g),z]),T=He(Gr("",{value:void 0!==s?s:c,postState:function(e){return e||""}}),2),j=T[0],O=T[1],U=KZ(v,G,D,f,y),Q=U.valueOptions,$=U.labelOptions,P=U.options,q=t.useCallback(function(e){return Hv(e).map(function(e){var t,n,o,l,r,a;(function(e){return!e||"object"!==ke(e)})(e)?t=e:(o=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:o);var i,g=Q.get(t);g&&(void 0===n&&(n=null===g||void 0===g?void 0:g[y||D.label]),void 0===o&&(o=null!==(i=null===g||void 0===g?void 0:g.key)&&void 0!==i?i:t),l=null===g||void 0===g?void 0:g.disabled,r=null===g||void 0===g?void 0:g.title);return{label:n,value:t,key:o,disabled:l,title:r}})},[D,y,Q]),_=He(Gr(x,{value:H}),2),ee=_[0],te=_[1],ne=t.useMemo(function(){var e,t=q(M&&null===ee?[]:ee);return"combobox"===l&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t},[ee,q,l,M]),oe=function(e,n){var o=t.useRef({values:new Map,options:new Map});return[t.useMemo(function(){var t=o.current,l=t.values,r=t.options,a=e.map(function(e){var t;return void 0===e.label?Ee(Ee({},e),{},{label:null===(t=l.get(e.value))||void 0===t?void 0:t.label}):e}),i=new Map,g=new Map;return a.forEach(function(e){i.set(e.value,e),g.set(e.value,n.get(e.value)||r.get(e.value))}),o.current.values=i,o.current.options=g,a},[e,n]),t.useCallback(function(e){return n.get(e)||o.current.options.get(e)},[n])]}(ne,Q),le=He(oe,2),re=le[0],ae=le[1],ie=t.useMemo(function(){if(!l&&1===re.length){var e=re[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return re.map(function(e){var t;return Ee(Ee({},e),{},{label:null!==(t="function"===typeof J?J(e):e.label)&&void 0!==t?t:e.value})})},[l,re,J]),ge=t.useMemo(function(){return new Set(re.map(function(e){return e.value}))},[re]);t.useEffect(function(){if("combobox"===l){var e,t=null===(e=re[0])||void 0===e?void 0:e.value;O(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}},[re]);var ce=MZ(function(e,t){var n=null!==t&&void 0!==t?t:e;return Ve(Ve({},D.value,e),D.label,n)}),se=function(e,n,o,l,r){return t.useMemo(function(){if(!o||!1===l)return e;var t=n.options,a=n.label,i=n.value,g=[],c="function"===typeof l,s=o.toUpperCase(),d=c?l:function(e,n){return r?JZ(n[r],s):n[t]?JZ(n["children"!==a?a:"label"],s):JZ(n[i],s)},I=c?function(e){return $v(e)}:function(e){return e};return e.forEach(function(e){if(e[t])if(d(o,I(e)))g.push(e);else{var n=e[t].filter(function(e){return d(o,I(e))});n.length&&g.push(Ee(Ee({},e),{},Ve({},t,n)))}else d(o,I(e))&&g.push(e)}),g},[e,l,r,o,n])}(t.useMemo(function(){if("tags"!==l)return P;var e=Ye(P);return Ye(re).sort(function(e,t){return e.value<t.value?-1:1}).forEach(function(t){var n=t.value;(function(e){return Q.has(e)})(n)||e.push(ce(n,t.label))}),e},[ce,P,Q,re,l]),D,j,L,f),de=t.useMemo(function(){return"tags"!==l||!j||se.some(function(e){return e[f||"value"]===j})||se.some(function(e){return e[D.value]===j})?se:[ce(j)].concat(Ye(se))},[ce,f,l,se,j,D]),Ie=function e(t){return Ye(t).sort(function(e,t){return h(e,t,{searchValue:j})}).map(function(t){return Array.isArray(t.options)?Ee(Ee({},t),{},{options:t.options.length>0?e(t.options):t.options}):t})},Ce=t.useMemo(function(){return h?Ie(de):de},[de,h,j]),ue=t.useMemo(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,o=t.childrenAsData,l=[],r=Qv(n,!1),a=r.label,i=r.value,g=r.options,c=r.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach(function(t){if(n||!(g in t)){var r=t[i];l.push({key:Ov(t,l.length),groupOption:n,data:t,label:t[a],value:r})}else{var s=t[c];void 0===s&&o&&(s=t.label),l.push({key:Ov(t,l.length),group:!0,data:t,label:s}),e(t[g],!0)}})}(e,!1),l}(Ce,{fieldNames:D,childrenAsData:z})},[Ce,D,z]),me=function(e){var t=q(e);if(te(t),N&&(t.length!==re.length||t.some(function(e,t){var n;return(null===(n=re[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)}))){var n=Y?t:t.map(function(e){return e.value}),o=t.map(function(e){return $v(ae(e.value))});N(M?n:n[0],M?o:o[0])}},Ae=He(t.useState(null),2),be=Ae[0],pe=Ae[1],he=He(t.useState(0),2),fe=he[0],ye=he[1],ve=void 0!==S?S:"combobox"!==l,Ze=t.useCallback(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;ye(t),i&&"combobox"===l&&null!==e&&"keyboard"===o&&pe(String(e))},[i,l]),Ge=function(e,t,n){var o=function(){var t,n=ae(e);return[Y?{label:null===n||void 0===n?void 0:n[D.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,$v(n)]};if(t&&u){var l=He(o(),2),r=l[0],a=l[1];u(r,a)}else if(!t&&m&&"clear"!==n){var i=He(o(),2),g=i[0],c=i[1];m(g,c)}},Se=MZ(function(e,t){var n,o=!M||t.selected;n=o?M?[].concat(Ye(re),[e]):[e]:re.filter(function(t){return t.value!==e}),me(n),Ge(e,o),"combobox"===l?pe(""):tZ&&!C||(O(""),pe(""))}),Be=t.useMemo(function(){var e=!1!==k&&!1!==b;return Ee(Ee({},U),{},{flattenOptions:ue,onActiveValue:Ze,defaultActiveFirstOption:ve,onSelect:Se,menuItemSelectedIcon:B,rawValues:ge,fieldNames:D,virtual:e,direction:W,listHeight:R,listItemHeight:X,childrenAsData:z,maxCount:E,optionRender:Z})},[E,U,ue,Ze,ve,Se,B,ge,D,k,b,W,R,X,z,Z]);return t.createElement(Pv.Provider,{value:Be},t.createElement(oZ,$t({},F,{id:K,prefixCls:a,ref:n,omitDomProps:LZ,mode:l,displayValues:ie,onDisplayValuesChange:function(e,t){me(e);var n=t.type,o=t.values;"remove"!==n&&"clear"!==n||o.forEach(function(e){Ge(e.value,!1,n)})},direction:W,searchValue:j,onSearch:function(e,t){if(O(e),pe(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===l&&me(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(Ye(ge),[n])));me(o),Ge(n,!0),O("")}}},autoClearSearchValue:C,onSearchSplit:function(e){var t=e;"tags"!==l&&(t=e.map(function(e){var t=$.get(e);return null===t||void 0===t?void 0:t.value}).filter(function(e){return void 0!==e}));var n=Array.from(new Set([].concat(Ye(ge),Ye(t))));me(n),n.forEach(function(e){Ge(e,!0)})},dropdownMatchSelectWidth:b,OptionList:XZ,emptyOptions:!ue.length,activeValue:be,activeDescendantId:"".concat(K,"_list_").concat(fe)})))});var TZ=DZ;TZ.Option=iZ,TZ.OptGroup=rZ;const jZ=TZ;function OZ(e){return n=>t.createElement($a,{theme:{token:{motion:!1,zIndexPopupBase:0}}},t.createElement(e,Object.assign({},n)))}const UZ=(e,n,o,l,r)=>OZ(a=>{const{prefixCls:i,style:g}=a,c=t.useRef(null),[s,d]=t.useState(0),[I,C]=t.useState(0),[u,m]=Gr(!1,{value:a.open}),{getPrefixCls:A}=t.useContext(Rl),b=A(l||"select",i);t.useEffect(()=>{if(m(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver(e=>{const t=e[0].target;d(t.offsetHeight+8),C(t.offsetWidth)}),t=setInterval(()=>{var n;const o=r?`.${r(b)}`:`.${b}-dropdown`,l=null===(n=c.current)||void 0===n?void 0:n.querySelector(o);l&&(clearInterval(t),e.observe(l))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let p=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},g),{margin:0}),open:u,visible:u,getPopupContainer:()=>c.current});o&&(p=o(p)),n&&Object.assign(p,{[n]:{overflow:{adjustX:!1,adjustY:!1}}});const h={paddingBottom:s,position:"relative",minWidth:I};return t.createElement("div",{ref:c,style:h},t.createElement(e,Object.assign({},p)))});const QZ=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},$Z=new no("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),PZ=new no("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),qZ=new no("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),_Z=new no("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),eG=new no("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tG=new no("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),nG={"move-up":{inKeyframes:new no("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new no("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:$Z,outKeyframes:PZ},"move-left":{inKeyframes:qZ,outKeyframes:_Z},"move-right":{inKeyframes:eG,outKeyframes:tG}},oG=(e,t)=>{const{antCls:n}=e,o=`${n}-${t}`,{inKeyframes:l,outKeyframes:r}=nG[t];return[uI(o,l,r,e.motionDurationMid),{[`\n        ${o}-enter,\n        ${o}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${o}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},lG=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:o,optionPadding:l}=e;return{position:"relative",display:"block",minHeight:t,padding:l,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:o,boxSizing:"border-box"}},rG=e=>{const{antCls:t,componentCls:n}=e,o=`${n}-item`,l=`&${t}-slide-up-enter${t}-slide-up-enter-active`,r=`&${t}-slide-up-appear${t}-slide-up-appear-active`,a=`&${t}-slide-up-leave${t}-slide-up-leave-active`,i=`${n}-dropdown-placement-`,g=`${o}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Ja(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${l}${i}bottomLeft,\n          ${r}${i}bottomLeft\n        `]:{animationName:gb},[`\n          ${l}${i}topLeft,\n          ${r}${i}topLeft,\n          ${l}${i}topRight,\n          ${r}${i}topRight\n        `]:{animationName:sb},[`${a}${i}bottomLeft`]:{animationName:cb},[`\n          ${a}${i}topLeft,\n          ${a}${i}topRight\n        `]:{animationName:db},"&-hidden":{display:"none"},[o]:Object.assign(Object.assign({},lG(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Xa),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${o}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${o}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${o}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${o}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},lG(e)),{color:e.colorTextDisabled})}),[`${g}:has(+ ${g})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${g}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},bb(e,"slide-up"),bb(e,"slide-down"),oG(e,"move-up"),oG(e,"move-down")]},aG=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:o,INTERNAL_FIXED_ITEM_MARGIN:l}=e,r=e.max(e.calc(n).sub(o).equal(),0);return{basePadding:r,containerPadding:e.max(e.calc(r).sub(l).equal(),0),itemHeight:wt(t),itemLineHeight:wt(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},iG=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:o,motionDurationSlow:l,paddingXS:r,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:i,colorIcon:g,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:s}=e,d=`${t}-selection-overflow`;return{[d]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:s,borderRadius:o,cursor:"default",transition:`font-size ${l}, line-height ${l}, height ${l}`,marginInlineEnd:e.calc(s).mul(2).equal(),paddingInlineStart:r,paddingInlineEnd:e.calc(r).div(2).equal(),[`${t}-disabled&`]:{color:a,borderColor:i,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(r).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:g,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},gG=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:o}=e,l=`${n}-selection-overflow`,r=e.multipleSelectItemHeight,a=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:o}=e;return e.calc(n).sub(t).div(2).sub(o).equal()})(e),i=t?`${n}-${t}`:"",g=aG(e);return{[`${n}-multiple${i}`]:Object.assign(Object.assign({},iG(e)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:g.basePadding,paddingBlock:g.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${wt(o)} 0`,lineHeight:wt(r),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:g.itemHeight,lineHeight:wt(g.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:wt(r),marginBlock:o}},[`${n}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(g.basePadding).equal()},[`${l}-item + ${l}-item,\n        ${n}-prefix + ${n}-selection-wrap\n      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${l}-item-suffix`]:{minHeight:g.itemHeight,marginBlock:o},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:r,fontFamily:e.fontFamily,lineHeight:wt(r),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(g.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function cG(e,t){const{componentCls:n}=e,o=t?`${n}-${t}`:"",l={[`${n}-multiple${o}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[gG(e,t),l]}const sG=e=>{const{componentCls:t}=e,n=Ni(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),o=Ni(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[cG(e),cG(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},cG(o,"lg")]};function dG(e,t){const{componentCls:n,inputPaddingHorizontalBase:o,borderRadius:l}=e,r=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),a=t?`${n}-${t}`:"";return{[`${n}-single${a}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Ja(e,!0)),{display:"flex",borderRadius:l,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:wt(r)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{display:"block",padding:0,lineHeight:wt(r),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-search,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${wt(o)}`,[`${n}-selection-search-input`]:{height:r,fontSize:e.fontSize},"&:after":{lineHeight:wt(r)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${wt(o)}`,"&:after":{display:"none"}}}}}}}function IG(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[dG(e),dG(Ni(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${wt(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},dG(Ni(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const CG=(e,t)=>{const{componentCls:n,antCls:o,controlOutlineWidth:l}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${wt(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${o}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${wt(l)} ${t.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:t.color}}}},uG=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},CG(e,t))}),mG=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},CG(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),uG(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),uG(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),AG=(e,t)=>{const{componentCls:n,antCls:o}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${wt(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${o}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},bG=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},AG(e,t))}),pG=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},AG(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),bG(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),bG(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),hG=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${wt(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),fG=(e,t)=>{const{componentCls:n,antCls:o}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${wt(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${o}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${n}-prefix`]:{color:t.color}}}},yG=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},fG(e,t))}),vG=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},fG(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),yG(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),yG(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),ZG=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},mG(e)),pG(e)),hG(e)),vG(e))}),GG=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},SG=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},BG=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:o,iconCls:l}=e,r={[`${n}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},Ja(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},GG(e)),SG(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Xa),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Xa),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[l]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:e.colorIcon}},"@media(hover:none)":r,"&:hover":r}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(o).add(e.fontSize).add(e.paddingXS).equal()}}}}}},kG=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},BG(e),IG(e),sG(e),rG(e),{[`${t}-rtl`]:{direction:"rtl"}},GC(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},WG=Ui("Select",(e,t)=>{let{rootPrefixCls:n}=t;const o=Ni(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[kG(o),ZG(o)]},e=>{const{fontSize:t,lineHeight:n,lineWidth:o,controlHeight:l,controlHeightSM:r,controlHeightLG:a,paddingXXS:i,controlPaddingHorizontal:g,zIndexPopupBase:c,colorText:s,fontWeightStrong:d,controlItemBgActive:I,controlItemBgHover:C,colorBgContainer:u,colorFillSecondary:m,colorBgContainerDisabled:A,colorTextDisabled:b,colorPrimaryHover:p,colorPrimary:h,controlOutline:f}=e,y=2*i,v=2*o,Z=Math.min(l-y,l-v),G=Math.min(r-y,r-v),S=Math.min(a-y,a-v);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(i/2),zIndexPopup:c+50,optionSelectedColor:s,optionSelectedFontWeight:d,optionSelectedBg:I,optionActiveBg:C,optionPadding:`${(l-t*n)/2}px ${g}px`,optionFontSize:t,optionLineHeight:n,optionHeight:l,selectorBg:u,clearBg:u,singleItemHeightLG:a,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:Z,multipleItemHeightSM:G,multipleItemHeightLG:S,multipleSelectorBgDisabled:A,multipleItemColorDisabled:b,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize),hoverBorderColor:p,activeBorderColor:h,activeOutlineColor:f,selectAffixPadding:i}},{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const VG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var RG=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:VG}))};const wG=t.forwardRef(RG);const XG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var JG=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:XG}))};const HG=t.forwardRef(JG);function xG(e){let{suffixIcon:n,clearIcon:o,menuItemSelectedIcon:l,removeIcon:r,loading:a,multiple:i,hasFeedback:g,prefixCls:c,showSuffixIcon:s,feedbackIcon:d,showArrow:I,componentName:C}=e;const u=null!==o&&void 0!==o?o:t.createElement(AC,null),m=e=>null!==n||g||I?t.createElement(t.Fragment,null,!1!==s&&e,g&&d):null;let A=null;if(void 0!==n)A=m(n);else if(a)A=m(t.createElement(Hu,{spin:!0}));else{const e=`${c}-suffix`;A=n=>{let{open:o,showSearch:l}=n;return m(o&&l?t.createElement(HG,{className:e}):t.createElement(wG,{className:e}))}}let b=null;b=void 0!==l?l:i?t.createElement(Wu,null):null;let p=null;return p=void 0!==r?r:t.createElement(mf,null),{clearIcon:u,suffixIcon:A,itemIcon:b,removeIcon:p}}var YG=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const NG="SECRET_COMBOBOX_MODE_DO_NOT_USE",EG=(e,n)=>{var o,l,r,a,i;const{prefixCls:g,bordered:c,className:s,rootClassName:d,getPopupContainer:I,popupClassName:C,dropdownClassName:u,listHeight:m=256,placement:A,listItemHeight:b,size:p,disabled:h,notFoundContent:f,status:y,builtinPlacements:v,dropdownMatchSelectWidth:Z,popupMatchSelectWidth:G,direction:S,style:B,allowClear:k,variant:W,dropdownStyle:V,transitionName:R,tagRender:w,maxCount:X,prefix:J,dropdownRender:H,popupRender:x,onDropdownVisibleChange:Y,onOpenChange:N,styles:E,classNames:F}=e,K=YG(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:M,getPrefixCls:z,renderEmpty:L,direction:D,virtual:T,popupMatchSelectWidth:j,popupOverflow:O}=t.useContext(Rl),{showSearch:U,style:Q,styles:$,className:P,classNames:q}=Jl("select"),[,_]=Wa(),ee=null!==b&&void 0!==b?b:null===_||void 0===_?void 0:_.controlHeight,te=z("select",g),ne=z(),oe=null!==S&&void 0!==S?S:D,{compactSize:le,compactItemClassnames:re}=Nd(te,oe),[ae,ie]=yC("select",W,c),ge=fC(te),[ce,se,de]=WG(te,ge),Ie=t.useMemo(()=>{const{mode:t}=e;if("combobox"!==t)return t===NG?"combobox":t},[e.mode]),Ce="multiple"===Ie||"tags"===Ie,ue=function(e,t){return void 0!==t?t:null!==e}(e.suffixIcon,e.showArrow),me=null!==(o=null!==G&&void 0!==G?G:Z)&&void 0!==o?o:j,Ae=(null===(l=null===E||void 0===E?void 0:E.popup)||void 0===l?void 0:l.root)||(null===(r=$.popup)||void 0===r?void 0:r.root)||V,be=x||H,pe=N||Y,{status:he,hasFeedback:fe,isFormItemInput:ye,feedbackIcon:ve}=t.useContext(kd),Ze=hC(he,y);let Ge;Ge=void 0!==f?f:"combobox"===Ie?null:(null===L||void 0===L?void 0:L("Select"))||t.createElement(dv,{componentName:"Select"});const{suffixIcon:Se,itemIcon:Be,removeIcon:ke,clearIcon:We}=xG(Object.assign(Object.assign({},K),{multiple:Ce,hasFeedback:fe,feedbackIcon:ve,showSuffixIcon:ue,prefixCls:te,componentName:"Select"})),Ve=!0===k?{clearIcon:We}:k,Re=Pa(K,["suffixIcon","itemIcon"]),we=Ol()((null===(a=null===F||void 0===F?void 0:F.popup)||void 0===a?void 0:a.root)||(null===(i=null===q||void 0===q?void 0:q.popup)||void 0===i?void 0:i.root)||C||u,{[`${te}-dropdown-${oe}`]:"rtl"===oe},d,q.root,null===F||void 0===F?void 0:F.root,de,ge,se),Xe=Rd(e=>{var t;return null!==(t=null!==p&&void 0!==p?p:le)&&void 0!==t?t:e}),Je=t.useContext(El),He=null!==h&&void 0!==h?h:Je,xe=Ol()({[`${te}-lg`]:"large"===Xe,[`${te}-sm`]:"small"===Xe,[`${te}-rtl`]:"rtl"===oe,[`${te}-${ae}`]:ie,[`${te}-in-form-item`]:ye},pC(te,Ze,fe),re,P,s,q.root,null===F||void 0===F?void 0:F.root,d,de,ge,se),Ye=t.useMemo(()=>void 0!==A?A:"rtl"===oe?"bottomRight":"bottomLeft",[A,oe]);const[Ne]=Od("SelectLike",null===Ae||void 0===Ae?void 0:Ae.zIndex);return ce(t.createElement(jZ,Object.assign({ref:n,virtual:T,showSearch:U},Re,{style:Object.assign(Object.assign(Object.assign(Object.assign({},$.root),null===E||void 0===E?void 0:E.root),Q),B),dropdownMatchSelectWidth:me,transitionName:qd(ne,"slide-up",R),builtinPlacements:QZ(v,O),listHeight:m,listItemHeight:ee,mode:Ie,prefixCls:te,placement:Ye,direction:oe,prefix:J,suffixIcon:Se,menuItemSelectedIcon:Be,removeIcon:ke,allowClear:Ve,notFoundContent:Ge,className:xe,getPopupContainer:I||M,dropdownClassName:we,disabled:He,dropdownStyle:Object.assign(Object.assign({},Ae),{zIndex:Ne}),maxCount:Ce?X:void 0,tagRender:Ce?w:void 0,dropdownRender:be,onDropdownVisibleChange:pe})))};const FG=t.forwardRef(EG),KG=UZ(FG,"dropdownAlign");FG.SECRET_COMBOBOX_MODE_DO_NOT_USE=NG,FG.Option=iZ,FG.OptGroup=rZ,FG._InternalPanelDoNotUseOrYouWillBeFired=KG;const MG=FG,zG=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},LG=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:wt(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:wt(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:wt(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:wt(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:wt(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:wt(e.itemSizeSM),input:Object.assign(Object.assign({},TC(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},DG=e=>{const{componentCls:t}=e;return{[`\n    &${t}-simple ${t}-prev,\n    &${t}-simple ${t}-next\n    `]:{height:e.itemSizeSM,lineHeight:wt(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:wt(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${wt(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${wt(e.inputOutlineOffset)} 0 ${wt(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},TG=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:wt(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${wt(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:wt(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},jC(e)),VC(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},WC(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},jG=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:wt(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${wt(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${wt(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},OG=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:wt(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),jG(e)),TG(e)),DG(e)),LG(e)),zG(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},UG=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},xa(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},Ha(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},Ha(e))}}}},QG=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},BC(e)),$G=e=>Ni(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},SC(e)),PG=Ui("Pagination",e=>{const t=$G(e);return[OG(t),UG(t)]},QG),qG=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},_G=$i(["Pagination","bordered"],e=>{const t=$G(e);return[qG(t)]},QG);function eS(e){return(0,t.useMemo)(()=>"boolean"===typeof e?[e,{}]:e&&"object"===typeof e?[!0,e]:[void 0,void 0],[e])}var tS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const nS=e=>{const{align:n,prefixCls:o,selectPrefixCls:l,className:r,rootClassName:a,style:i,size:g,locale:c,responsive:s,showSizeChanger:d,selectComponentClass:I,pageSizeOptions:C}=e,u=tS(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:m}=vh(s),[,A]=Wa(),{getPrefixCls:b,direction:p,showSizeChanger:h,className:f,style:y}=Jl("pagination"),v=b("pagination",o),[Z,G,S]=PG(v),B=Rd(g),k="small"===B||!(!m||B||!s),[W]=tc("Pagination",bo),V=Object.assign(Object.assign({},W),c),[R,w]=eS(d),[X,J]=eS(h),H=null!==R&&void 0!==R?R:X,x=null!==w&&void 0!==w?w:J,Y=I||MG,N=t.useMemo(()=>C?C.map(e=>Number(e)):void 0,[C]);const E=t.useMemo(()=>{const e=t.createElement("span",{className:`${v}-item-ellipsis`},"\u2022\u2022\u2022");return{prevIcon:t.createElement("button",{className:`${v}-item-link`,type:"button",tabIndex:-1},"rtl"===p?t.createElement(Zi,null):t.createElement(fi,null)),nextIcon:t.createElement("button",{className:`${v}-item-link`,type:"button",tabIndex:-1},"rtl"===p?t.createElement(fi,null):t.createElement(Zi,null)),jumpPrevIcon:t.createElement("a",{className:`${v}-item-link`},t.createElement("div",{className:`${v}-item-container`},"rtl"===p?t.createElement(bv,{className:`${v}-item-link-icon`}):t.createElement(uv,{className:`${v}-item-link-icon`}),e)),jumpNextIcon:t.createElement("a",{className:`${v}-item-link`},t.createElement("div",{className:`${v}-item-container`},"rtl"===p?t.createElement(uv,{className:`${v}-item-link-icon`}):t.createElement(bv,{className:`${v}-item-link-icon`}),e))}},[p,v]),F=b("select",l),K=Ol()({[`${v}-${n}`]:!!n,[`${v}-mini`]:k,[`${v}-rtl`]:"rtl"===p,[`${v}-bordered`]:A.wireframe},f,r,a,G,S),M=Object.assign(Object.assign({},y),i);return Z(t.createElement(t.Fragment,null,A.wireframe&&t.createElement(_G,{prefixCls:v}),t.createElement(Bv,Object.assign({},E,u,{style:M,prefixCls:v,selectPrefixCls:F,className:K,locale:V,pageSizeOptions:N,showSizeChanger:H,sizeChangerRender:e=>{var n;const{disabled:o,size:l,onSizeChange:r,"aria-label":a,className:i,options:g}=e,{className:c,onChange:s}=x||{},d=null===(n=g.find(e=>String(e.value)===String(l)))||void 0===n?void 0:n.value;return t.createElement(Y,Object.assign({disabled:o,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:e=>e.parentNode,"aria-label":a,options:g},x,{value:d,onChange:(e,t)=>{null===r||void 0===r||r(e),null===s||void 0===s||s(e,t)},size:k?"small":"middle",className:Ol()(i,c)}))}}))))},oS=nS;function lS(e,t,n){var o=(n||{}).atBegin;return function(e,t,n){var o,l=n||{},r=l.noTrailing,a=void 0!==r&&r,i=l.noLeading,g=void 0!==i&&i,c=l.debounceMode,s=void 0===c?void 0:c,d=!1,I=0;function C(){o&&clearTimeout(o)}function u(){for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];var i=this,c=Date.now()-I;function u(){I=Date.now(),t.apply(i,l)}function m(){o=void 0}d||(g||!s||o||u(),C(),void 0===s&&c>e?g?(I=Date.now(),a||(o=setTimeout(s?m:u,e))):u():!0!==a&&(o=setTimeout(s?m:u,void 0===s?e-c:e)))}return u.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;C(),d=!n},u}(e,t,{debounceMode:!1!==(void 0!==o&&o)})}const rS=80*Math.PI,aS=e=>{const{dotClassName:n,style:o,hasCircleCls:l}=e;return t.createElement("circle",{className:Ol()(`${n}-circle`,{[`${n}-circle-bg`]:l}),r:40,cx:50,cy:50,strokeWidth:20,style:o})},iS=e=>{let{percent:n,prefixCls:o}=e;const l=`${o}-dot`,r=`${l}-holder`,a=`${r}-hidden`,[i,g]=t.useState(!1);Ft(()=>{0!==n&&g(!0)},[0!==n]);const c=Math.max(Math.min(n,100),0);if(!i)return null;const s={strokeDashoffset:""+rS/4,strokeDasharray:`${rS*c/100} ${rS*(100-c)/100}`};return t.createElement("span",{className:Ol()(r,`${l}-progress`,c<=0&&a)},t.createElement("svg",{viewBox:"0 0 100 100",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},t.createElement(aS,{dotClassName:l,hasCircleCls:!0}),t.createElement(aS,{dotClassName:l,style:s})))};function gS(e){const{prefixCls:n,percent:o=0}=e,l=`${n}-dot`,r=`${l}-holder`,a=`${r}-hidden`;return t.createElement(t.Fragment,null,t.createElement("span",{className:Ol()(r,o>0&&a)},t.createElement("span",{className:Ol()(l,`${n}-dot-spin`)},[1,2,3,4].map(e=>t.createElement("i",{className:`${n}-dot-item`,key:e})))),t.createElement(iS,{prefixCls:n,percent:o}))}function cS(e){var n;const{prefixCls:o,indicator:l,percent:r}=e,a=`${o}-dot`;return l&&t.isValidElement(l)?dI(l,{className:Ol()(null===(n=l.props)||void 0===n?void 0:n.className,a),percent:r}):t.createElement(gS,{prefixCls:o,percent:r})}const sS=new no("antSpinMove",{to:{opacity:1}}),dS=new no("antRotate",{to:{transform:"rotate(405deg)"}}),IS=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:sS,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:dS,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>`${t} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},CS=Ui("Spin",e=>{const t=Ni(e,{spinDotDefault:e.colorTextDescription});return[IS(t)]},e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}}),uS=[[30,.05],[70,.03],[96,.01]];var mS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};let AS;const bS=e=>{var n;const{prefixCls:o,spinning:l=!0,delay:r=0,className:a,rootClassName:i,size:g="default",tip:c,wrapperClassName:s,style:d,children:I,fullscreen:C=!1,indicator:u,percent:m}=e,A=mS(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:b,direction:p,className:h,style:f,indicator:y}=Jl("spin"),v=b("spin",o),[Z,G,S]=CS(v),[B,k]=t.useState(()=>l&&!function(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}(l,r)),W=function(e,n){const[o,l]=t.useState(0),r=t.useRef(null),a="auto"===n;return t.useEffect(()=>(a&&e&&(l(0),r.current=setInterval(()=>{l(e=>{const t=100-e;for(let n=0;n<uS.length;n+=1){const[o,l]=uS[n];if(e<=o)return e+t*l}return e})},200)),()=>{clearInterval(r.current)}),[a,e]),a?o:n}(B,m);t.useEffect(()=>{if(l){const e=lS(r,()=>{k(!0)});return e(),()=>{var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}k(!1)},[r,l]);const V=t.useMemo(()=>"undefined"!==typeof I&&!C,[I,C]);const R=Ol()(v,h,{[`${v}-sm`]:"small"===g,[`${v}-lg`]:"large"===g,[`${v}-spinning`]:B,[`${v}-show-text`]:!!c,[`${v}-rtl`]:"rtl"===p},a,!C&&i,G,S),w=Ol()(`${v}-container`,{[`${v}-blur`]:B}),X=null!==(n=null!==u&&void 0!==u?u:y)&&void 0!==n?n:AS,J=Object.assign(Object.assign({},f),d),H=t.createElement("div",Object.assign({},A,{style:J,className:R,"aria-live":"polite","aria-busy":B}),t.createElement(cS,{prefixCls:v,indicator:X,percent:W}),c&&(V||C)?t.createElement("div",{className:`${v}-text`},c):null);return Z(V?t.createElement("div",Object.assign({},A,{className:Ol()(`${v}-nested-loading`,s,G,S)}),B&&t.createElement("div",{key:"loading"},H),t.createElement("div",{className:w,key:"container"},I)):C?t.createElement("div",{className:Ol()(`${v}-fullscreen`,{[`${v}-fullscreen-show`]:B},i,G,S)},H):H)};bS.setDefaultIndicator=e=>{AS=e};const pS=bS,hS=t.createContext({});hS.Consumer;var fS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const yS=t.forwardRef((e,n)=>{const{prefixCls:o,children:l,actions:r,extra:a,styles:i,className:g,classNames:c,colStyle:s}=e,d=fS(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:I,itemLayout:C}=(0,t.useContext)(hS),{getPrefixCls:u,list:m}=(0,t.useContext)(Rl),A=e=>{var t,n;return Ol()(null===(n=null===(t=null===m||void 0===m?void 0:m.item)||void 0===t?void 0:t.classNames)||void 0===n?void 0:n[e],null===c||void 0===c?void 0:c[e])},b=e=>{var t,n;return Object.assign(Object.assign({},null===(n=null===(t=null===m||void 0===m?void 0:m.item)||void 0===t?void 0:t.styles)||void 0===n?void 0:n[e]),null===i||void 0===i?void 0:i[e])},p=u("list",o),h=r&&r.length>0&&t.createElement("ul",{className:Ol()(`${p}-item-action`,A("actions")),key:"actions",style:b("actions")},r.map((e,n)=>t.createElement("li",{key:`${p}-item-action-${n}`},e,n!==r.length-1&&t.createElement("em",{className:`${p}-item-action-split`})))),f=I?"div":"li",y=t.createElement(f,Object.assign({},d,I?{}:{ref:n},{className:Ol()(`${p}-item`,{[`${p}-item-no-flex`]:!("vertical"===C?a:!(()=>{let e=!1;return t.Children.forEach(l,t=>{"string"===typeof t&&(e=!0)}),e&&t.Children.count(l)>1})())},g)}),"vertical"===C&&a?[t.createElement("div",{className:`${p}-item-main`,key:"content"},l,h),t.createElement("div",{className:Ol()(`${p}-item-extra`,A("extra")),key:"extra",style:b("extra")},a)]:[l,h,dI(a,{key:"extra"})]);return I?t.createElement(Eh,{ref:n,flex:1,style:s},y):y}),vS=yS;vS.Meta=e=>{var{prefixCls:n,className:o,avatar:l,title:r,description:a}=e,i=fS(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:g}=(0,t.useContext)(Rl),c=g("list",n),s=Ol()(`${c}-item-meta`,o),d=t.createElement("div",{className:`${c}-item-meta-content`},r&&t.createElement("h4",{className:`${c}-item-meta-title`},r),a&&t.createElement("div",{className:`${c}-item-meta-description`},a));return t.createElement("div",Object.assign({},i,{className:s}),l&&t.createElement("div",{className:`${c}-item-meta-avatar`},l),(r||a)&&d)};const ZS=vS,GS=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:o,margin:l,itemPaddingSM:r,itemPaddingLG:a,marginLG:i,borderRadiusLG:g}=e;return{[t]:{border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:g,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:o},[`${n}-pagination`]:{margin:`${wt(l)} ${wt(i)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:r}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},SS=e=>{const{componentCls:t,screenSM:n,screenMD:o,marginLG:l,marginSM:r,margin:a}=e;return{[`@media screen and (max-width:${o}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:l}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:r}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${wt(a)}`}}}}}},BS=e=>{const{componentCls:t,antCls:n,controlHeight:o,minHeight:l,paddingSM:r,marginLG:a,padding:i,itemPadding:g,colorPrimary:c,itemPaddingSM:s,itemPaddingLG:d,paddingXS:I,margin:C,colorText:u,colorTextDescription:m,motionDurationSlow:A,lineWidth:b,headerBg:p,footerBg:h,emptyTextPadding:f,metaMarginBottom:y,avatarMarginRight:v,titleMarginBottom:Z,descriptionFontSize:G}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:p},[`${t}-footer`]:{background:h},[`${t}-header, ${t}-footer`]:{paddingBlock:r},[`${t}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:l,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g,color:u,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:v},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:u},[`${t}-item-meta-title`]:{margin:`0 0 ${wt(e.marginXXS)} 0`,color:u,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:u,transition:`all ${A}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:m,fontSize:G,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${wt(I)}`,color:m,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:b,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${wt(i)} 0`,color:m,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:f,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:C,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:a},[`${t}-item-meta`]:{marginBlockEnd:y,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:Z,color:u,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:i,marginInlineStart:"auto","> li":{padding:`0 ${wt(i)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:o},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:s},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},kS=Ui("List",e=>{const t=Ni(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[BS(t),GS(t),SS(t)]},e=>({contentWidth:220,itemPadding:`${wt(e.paddingContentVertical)} 0`,itemPaddingSM:`${wt(e.paddingContentVerticalSM)} ${wt(e.paddingContentHorizontal)}`,itemPaddingLG:`${wt(e.paddingContentVerticalLG)} ${wt(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));var WS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function VS(e,n){const{pagination:o=!1,prefixCls:l,bordered:r=!1,split:a=!0,className:i,rootClassName:g,style:c,children:s,itemLayout:d,loadMore:I,grid:C,dataSource:u=[],size:m,header:A,footer:b,loading:p=!1,rowKey:h,renderItem:f,locale:y}=e,v=WS(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),Z=o&&"object"===typeof o?o:{},[G,S]=t.useState(Z.defaultCurrent||1),[B,k]=t.useState(Z.defaultPageSize||10),{getPrefixCls:W,direction:V,className:R,style:w}=Jl("list"),{renderEmpty:X}=t.useContext(Rl),J=e=>(t,n)=>{var l;S(t),k(n),o&&(null===(l=null===o||void 0===o?void 0:o[e])||void 0===l||l.call(o,t,n))},H=J("onChange"),x=J("onShowSizeChange"),Y=(e,n)=>{if(!f)return null;let o;return o="function"===typeof h?h(e):h?e[h]:e.key,o||(o=`list-item-${n}`),t.createElement(t.Fragment,{key:o},f(e,n))},N=!!(I||o||b),E=W("list",l),[F,K,M]=kS(E);let z=p;"boolean"===typeof z&&(z={spinning:z});const L=!!(null===z||void 0===z?void 0:z.spinning);let D="";switch(Rd(m)){case"large":D="lg";break;case"small":D="sm"}const T=Ol()(E,{[`${E}-vertical`]:"vertical"===d,[`${E}-${D}`]:D,[`${E}-split`]:a,[`${E}-bordered`]:r,[`${E}-loading`]:L,[`${E}-grid`]:!!C,[`${E}-something-after-last-item`]:N,[`${E}-rtl`]:"rtl"===V},R,i,g,K,M),j=tv({current:1,total:0,position:"bottom"},{total:u.length,current:G,pageSize:B},o||{}),O=Math.ceil(j.total/j.pageSize);j.current=Math.min(j.current,O);const U=o&&t.createElement("div",{className:Ol()(`${E}-pagination`)},t.createElement(oS,Object.assign({align:"end"},j,{onChange:H,onShowSizeChange:x})));let Q=Ye(u);o&&u.length>(j.current-1)*j.pageSize&&(Q=Ye(u).splice((j.current-1)*j.pageSize,j.pageSize));const $=Object.keys(C||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),P=vh($),q=t.useMemo(()=>{for(let e=0;e<ph.length;e+=1){const t=ph[e];if(P[t])return t}},[P]),_=t.useMemo(()=>{if(!C)return;const e=q&&C[q]?C[q]:C.column;return e?{width:100/e+"%",maxWidth:100/e+"%"}:void 0},[JSON.stringify(C),q]);let ee=L&&t.createElement("div",{style:{minHeight:53}});if(Q.length>0){const e=Q.map(Y);ee=C?t.createElement(Xh,{gutter:C.gutter},t.Children.map(e,e=>t.createElement("div",{key:null===e||void 0===e?void 0:e.key,style:_},e))):t.createElement("ul",{className:`${E}-items`},e)}else s||L||(ee=t.createElement("div",{className:`${E}-empty-text`},(null===y||void 0===y?void 0:y.emptyText)||(null===X||void 0===X?void 0:X("List"))||t.createElement(dv,{componentName:"List"})));const te=j.position,ne=t.useMemo(()=>({grid:C,itemLayout:d}),[JSON.stringify(C),d]);return F(t.createElement(hS.Provider,{value:ne},t.createElement("div",Object.assign({ref:n,style:Object.assign(Object.assign({},w),c),className:T},v),("top"===te||"both"===te)&&U,A&&t.createElement("div",{className:`${E}-header`},A),t.createElement(pS,Object.assign({},z),ee,s),b&&t.createElement("div",{className:`${E}-footer`},b),I||("bottom"===te||"both"===te)&&U)))}const RS=t.forwardRef(VS);RS.Item=ZS;const wS=RS,XS=t.createContext({}),JS=e=>{const{antCls:t,componentCls:n,iconCls:o,avatarBg:l,avatarColor:r,containerSize:a,containerSizeLG:i,containerSizeSM:g,textFontSize:c,textFontSizeLG:s,textFontSizeSM:d,borderRadius:I,borderRadiusLG:C,borderRadiusSM:u,lineWidth:m,lineType:A}=e,b=(e,t,l)=>({width:e,height:e,borderRadius:"50%",[`&${n}-square`]:{borderRadius:l},[`&${n}-icon`]:{fontSize:t,[`> ${o}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:r,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:l,border:`${wt(m)} ${A} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),b(a,c,I)),{"&-lg":Object.assign({},b(i,s,C)),"&-sm":Object.assign({},b(g,d,u)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},HS=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:o,groupSpace:l}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:l}}}},xS=Ui("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,o=Ni(e,{avatarBg:n,avatarColor:t});return[JS(o),HS(o)]},e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:o,fontSize:l,fontSizeLG:r,fontSizeXL:a,fontSizeHeading3:i,marginXS:g,marginXXS:c,colorBorderBg:s}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:o,textFontSize:Math.round((r+a)/2),textFontSizeLG:i,textFontSizeSM:l,groupSpace:c,groupOverlapping:-g,groupBorderColor:s}});var YS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const NS=t.forwardRef((e,n)=>{const{prefixCls:o,shape:l,size:r,src:a,srcSet:i,icon:g,className:c,rootClassName:s,style:d,alt:I,draggable:C,children:u,crossOrigin:m,gap:A=4,onError:b}=e,p=YS(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[h,f]=t.useState(1),[y,v]=t.useState(!1),[Z,G]=t.useState(!0),S=t.useRef(null),B=t.useRef(null),k=lr(n,S),{getPrefixCls:W,avatar:V}=t.useContext(Rl),R=t.useContext(XS),w=()=>{if(!B.current||!S.current)return;const e=B.current.offsetWidth,t=S.current.offsetWidth;0!==e&&0!==t&&2*A<t&&f(t-2*A<e?(t-2*A)/e:1)};t.useEffect(()=>{v(!0)},[]),t.useEffect(()=>{G(!0),f(1)},[a]),t.useEffect(w,[A]);const X=()=>{!1!==(null===b||void 0===b?void 0:b())&&G(!1)},J=Rd(e=>{var t,n;return null!==(n=null!==(t=null!==r&&void 0!==r?r:null===R||void 0===R?void 0:R.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"}),H=Object.keys("object"===typeof J&&J||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),x=vh(H),Y=t.useMemo(()=>{if("object"!==typeof J)return{};const e=ph.find(e=>x[e]),t=J[e];return t?{width:t,height:t,fontSize:t&&(g||u)?t/2:18}:{}},[x,J]);const N=W("avatar",o),E=fC(N),[F,K,M]=xS(N,E),z=Ol()({[`${N}-lg`]:"large"===J,[`${N}-sm`]:"small"===J}),L=t.isValidElement(a),D=l||(null===R||void 0===R?void 0:R.shape)||"circle",T=Ol()(N,z,null===V||void 0===V?void 0:V.className,`${N}-${D}`,{[`${N}-image`]:L||a&&Z,[`${N}-icon`]:!!g},M,E,c,s,K),j="number"===typeof J?{width:J,height:J,fontSize:g?J/2:18}:{};let O;if("string"===typeof a&&Z)O=t.createElement("img",{src:a,draggable:C,srcSet:i,onError:X,alt:I,crossOrigin:m});else if(L)O=a;else if(g)O=g;else if(y||1!==h){const e=`scale(${h})`,n={msTransform:e,WebkitTransform:e,transform:e};O=t.createElement(qg,{onResize:w},t.createElement("span",{className:`${N}-string`,ref:B,style:Object.assign({},n)},u))}else O=t.createElement("span",{className:`${N}-string`,style:{opacity:0},ref:B},u);return F(t.createElement("span",Object.assign({},p,{style:Object.assign(Object.assign(Object.assign(Object.assign({},j),Y),null===V||void 0===V?void 0:V.style),d),className:T,ref:k}),O))});const ES=NS,FS=e=>e?"function"===typeof e?e():e:null,KS=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:o,fontWeightStrong:l,innerPadding:r,boxShadowSecondary:a,colorTextHeading:i,borderRadiusLG:g,zIndexPopup:c,titleMarginBottom:s,colorBgElevated:d,popoverBg:I,titleBorderBottom:C,innerContentPadding:u,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},Ja(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:I,backgroundClip:"padding-box",borderRadius:g,boxShadow:a,padding:r},[`${t}-title`]:{minWidth:o,marginBottom:s,color:i,fontWeight:l,borderBottom:C,padding:m},[`${t}-inner-content`]:{color:n,padding:u}})},lI(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},MS=e=>{const{componentCls:t}=e;return{[t]:VI.map(n=>{const o=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":o,[`${t}-inner`]:{backgroundColor:o},[`${t}-arrow`]:{background:"transparent"}}}})}},zS=Ui("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,o=Ni(e,{popoverBg:t,popoverColor:n});return[KS(o),MS(o),WI(o,"zoom-big")]},e=>{const{lineWidth:t,controlHeight:n,fontHeight:o,padding:l,wireframe:r,zIndexPopupBase:a,borderRadiusLG:i,marginXS:g,lineType:c,colorSplit:s,paddingSM:d}=e,I=n-o,C=I/2,u=I/2-t,m=l;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},eI(e)),nI({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:r?0:12,titleMarginBottom:r?0:g,titlePadding:r?`${C}px ${m}px ${u}px`:0,titleBorderBottom:r?`${t}px ${c} ${s}`:"none",innerContentPadding:r?`${d}px ${m}px`:0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var LS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const DS=e=>{let{title:n,content:o,prefixCls:l}=e;return n||o?t.createElement(t.Fragment,null,n&&t.createElement("div",{className:`${l}-title`},n),o&&t.createElement("div",{className:`${l}-inner-content`},o)):null},TS=e=>{const{hashId:n,prefixCls:o,className:l,style:r,placement:a="top",title:i,content:g,children:c}=e,s=FS(i),d=FS(g),I=Ol()(n,o,`${o}-pure`,`${o}-placement-${a}`,l);return t.createElement("div",{className:I,style:r},t.createElement("div",{className:`${o}-arrow`}),t.createElement(nc,Object.assign({},e,{className:n,prefixCls:o}),c||t.createElement(DS,{prefixCls:o,title:s,content:d})))},jS=e=>{const{prefixCls:n,className:o}=e,l=LS(e,["prefixCls","className"]),{getPrefixCls:r}=t.useContext(Rl),a=r("popover",n),[i,g,c]=zS(a);return i(t.createElement(TS,Object.assign({},l,{prefixCls:a,hashId:g,className:Ol()(o,c)})))};var OS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const US=t.forwardRef((e,n)=>{var o,l;const{prefixCls:r,title:a,content:i,overlayClassName:g,placement:c="top",trigger:s="hover",children:d,mouseEnterDelay:I=.1,mouseLeaveDelay:C=.1,onOpenChange:u,overlayStyle:m={},styles:A,classNames:b}=e,p=OS(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:h,className:f,style:y,classNames:v,styles:Z}=Jl("popover"),G=h("popover",r),[S,B,k]=zS(G),W=h(),V=Ol()(g,B,k,f,v.root,null===b||void 0===b?void 0:b.root),R=Ol()(v.body,null===b||void 0===b?void 0:b.body),[w,X]=Gr(!1,{value:null!==(o=e.open)&&void 0!==o?o:e.visible,defaultValue:null!==(l=e.defaultOpen)&&void 0!==l?l:e.defaultVisible}),J=(e,t)=>{X(e,!0),null===u||void 0===u||u(e,t)},H=FS(a),x=FS(i);return S(t.createElement(zI,Object.assign({placement:c,trigger:s,mouseEnterDelay:I,mouseLeaveDelay:C},p,{prefixCls:G,classNames:{root:V,body:R},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},Z.root),y),m),null===A||void 0===A?void 0:A.root),body:Object.assign(Object.assign({},Z.body),null===A||void 0===A?void 0:A.body)},ref:n,open:w,onOpenChange:e=>{J(e)},overlay:H||x?t.createElement(DS,{prefixCls:G,title:H,content:x}):null,transitionName:qd(W,"zoom-big",p.transitionName),"data-popover-inject":!0}),dI(d,{onKeyDown:e=>{var n,o;(0,t.isValidElement)(d)&&(null===(o=null===d||void 0===d?void 0:(n=d.props).onKeyDown)||void 0===o||o.call(n,e)),(e=>{e.keyCode===OI.ESC&&J(!1,e)})(e)}})))}),QS=US;QS._InternalPanelDoNotUseOrYouWillBeFired=jS;const $S=QS,PS=e=>{const{size:n,shape:o}=t.useContext(XS),l=t.useMemo(()=>({size:e.size||n,shape:e.shape||o}),[e.size,e.shape,n,o]);return t.createElement(XS.Provider,{value:l},e.children)},qS=e=>{var n,o,l,r;const{getPrefixCls:a,direction:i}=t.useContext(Rl),{prefixCls:g,className:c,rootClassName:s,style:d,maxCount:I,maxStyle:C,size:u,shape:m,maxPopoverPlacement:A,maxPopoverTrigger:b,children:p,max:h}=e;const f=a("avatar",g),y=`${f}-group`,v=fC(f),[Z,G,S]=xS(f,v),B=Ol()(y,{[`${y}-rtl`]:"rtl"===i},S,v,c,s,G),k=_a(p).map((e,t)=>dI(e,{key:`avatar-key-${t}`})),W=(null===h||void 0===h?void 0:h.count)||I,V=k.length;if(W&&W<V){const e=k.slice(0,W),a=k.slice(W,V),i=(null===h||void 0===h?void 0:h.style)||C,g=(null===(n=null===h||void 0===h?void 0:h.popover)||void 0===n?void 0:n.trigger)||b||"hover",c=(null===(o=null===h||void 0===h?void 0:h.popover)||void 0===o?void 0:o.placement)||A||"top",s=Object.assign(Object.assign({content:a},null===h||void 0===h?void 0:h.popover),{classNames:{root:Ol()(`${y}-popover`,null===(r=null===(l=null===h||void 0===h?void 0:h.popover)||void 0===l?void 0:l.classNames)||void 0===r?void 0:r.root)},placement:c,trigger:g});return e.push(t.createElement($S,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},s),t.createElement(ES,{style:i},"+"+(V-W)))),Z(t.createElement(PS,{shape:m,size:u},t.createElement("div",{className:B,style:d},e)))}return Z(t.createElement(PS,{shape:m,size:u},t.createElement("div",{className:B,style:d},k)))},_S=ES;_S.Group=qS;const eB=_S,tB=t.createContext({});const nB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var oB=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:nB}))};const lB=t.forwardRef(oB);const rB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var aB=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:rB}))};const iB=t.forwardRef(aB);const gB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var cB=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:gB}))};const sB=t.forwardRef(cB);var dB=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.style,r=e.className,a=e.duration,i=void 0===a?4.5:a,g=e.showProgress,c=e.pauseOnHover,s=void 0===c||c,d=e.eventKey,I=e.content,C=e.closable,u=e.closeIcon,m=void 0===u?"x":u,A=e.props,b=e.onClick,p=e.onNoticeClose,h=e.times,f=e.hovering,y=He(t.useState(!1),2),v=y[0],Z=y[1],G=He(t.useState(0),2),S=G[0],B=G[1],k=He(t.useState(0),2),W=k[0],V=k[1],R=f||v,w=i>0&&g,X=function(){p(d)};t.useEffect(function(){if(!R&&i>0){var e=Date.now()-W,t=setTimeout(function(){X()},1e3*i-W);return function(){s&&clearTimeout(t),V(Date.now()-e)}}},[i,R,h]),t.useEffect(function(){if(!R&&w&&(s||0===W)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var o=e+W-t,l=Math.min(o/(1e3*i),1);B(100*l),l<1&&n()})}(),function(){s&&cancelAnimationFrame(e)}}},[i,W,R,w,h]);var J=t.useMemo(function(){return"object"===ke(C)&&null!==C?C:C?{closeIcon:m}:{}},[C,m]),H=My(J,!0),x=100-(!S||S<0?0:S>100?100:S),Y="".concat(o,"-notice");return t.createElement("div",$t({},A,{ref:n,className:Ol()(Y,r,Ve({},"".concat(Y,"-closable"),C)),style:l,onMouseEnter:function(e){var t;Z(!0),null===A||void 0===A||null===(t=A.onMouseEnter)||void 0===t||t.call(A,e)},onMouseLeave:function(e){var t;Z(!1),null===A||void 0===A||null===(t=A.onMouseLeave)||void 0===t||t.call(A,e)},onClick:b}),t.createElement("div",{className:"".concat(Y,"-content")},I),C&&t.createElement("a",$t({tabIndex:0,className:"".concat(Y,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==OI.ENTER||X()},"aria-label":"Close"},H,{onClick:function(e){e.preventDefault(),e.stopPropagation(),X()}}),J.closeIcon),w&&t.createElement("progress",{className:"".concat(Y,"-progress"),max:"100",value:x},x+"%"))});const IB=dB;var CB=t.createContext({});const uB=function(e){var n=e.children,o=e.classNames;return t.createElement(CB.Provider,{value:{classNames:o}},n)};const mB=function(e){var t,n,o,l={offset:8,threshold:3,gap:16};e&&"object"===ke(e)&&(l.offset=null!==(t=e.offset)&&void 0!==t?t:8,l.threshold=null!==(n=e.threshold)&&void 0!==n?n:3,l.gap=null!==(o=e.gap)&&void 0!==o?o:16);return[!!e,l]};var AB=["className","style","classNames","styles"];const bB=function(e){var n=e.configList,o=e.placement,l=e.prefixCls,r=e.className,a=e.style,i=e.motion,g=e.onAllNoticeRemoved,c=e.onNoticeClose,s=e.stack,d=(0,t.useContext)(CB).classNames,I=(0,t.useRef)({}),C=He((0,t.useState)(null),2),u=C[0],m=C[1],A=He((0,t.useState)([]),2),b=A[0],p=A[1],h=n.map(function(e){return{config:e,key:String(e.key)}}),f=He(mB(s),2),y=f[0],v=f[1],Z=v.offset,G=v.threshold,S=v.gap,B=y&&(b.length>0||h.length<=G),k="function"===typeof i?i(o):i;return(0,t.useEffect)(function(){y&&b.length>1&&p(function(e){return e.filter(function(e){return h.some(function(t){var n=t.key;return e===n})})})},[b,h,y]),(0,t.useEffect)(function(){var e,t;y&&I.current[null===(e=h[h.length-1])||void 0===e?void 0:e.key]&&m(I.current[null===(t=h[h.length-1])||void 0===t?void 0:t.key])},[h,y]),t.createElement(ba,$t({key:o,className:Ol()(l,"".concat(l,"-").concat(o),null===d||void 0===d?void 0:d.list,r,Ve(Ve({},"".concat(l,"-stack"),!!y),"".concat(l,"-stack-expanded"),B)),style:a,keys:h,motionAppear:!0},k,{onAllRemoved:function(){g(o)}}),function(e,n){var r=e.config,a=e.className,i=e.style,g=e.index,s=r,C=s.key,m=s.times,A=String(C),f=r,v=f.className,G=f.style,k=f.classNames,W=f.styles,V=cr(f,AB),R=h.findIndex(function(e){return e.key===A}),w={};if(y){var X=h.length-1-(R>-1?R:g-1),J="top"===o||"bottom"===o?"-50%":"0";if(X>0){var H,x,Y;w.height=B?null===(H=I.current[A])||void 0===H?void 0:H.offsetHeight:null===u||void 0===u?void 0:u.offsetHeight;for(var N=0,E=0;E<X;E++){var F;N+=(null===(F=I.current[h[h.length-1-E].key])||void 0===F?void 0:F.offsetHeight)+S}var K=(B?N:X*Z)*(o.startsWith("top")?1:-1),M=!B&&null!==u&&void 0!==u&&u.offsetWidth&&null!==(x=I.current[A])&&void 0!==x&&x.offsetWidth?((null===u||void 0===u?void 0:u.offsetWidth)-2*Z*(X<3?X:3))/(null===(Y=I.current[A])||void 0===Y?void 0:Y.offsetWidth):1;w.transform="translate3d(".concat(J,", ").concat(K,"px, 0) scaleX(").concat(M,")")}else w.transform="translate3d(".concat(J,", 0, 0)")}return t.createElement("div",{ref:n,className:Ol()("".concat(l,"-notice-wrapper"),a,null===k||void 0===k?void 0:k.wrapper),style:Ee(Ee(Ee({},i),w),null===W||void 0===W?void 0:W.wrapper),onMouseEnter:function(){return p(function(e){return e.includes(A)?e:[].concat(Ye(e),[A])})},onMouseLeave:function(){return p(function(e){return e.filter(function(e){return e!==A})})}},t.createElement(IB,$t({},V,{ref:function(e){R>-1?I.current[A]=e:delete I.current[A]},prefixCls:l,classNames:k,styles:W,className:Ol()(v,null===d||void 0===d?void 0:d.notice),style:G,times:m,key:C,eventKey:C,onNoticeClose:c,hovering:y&&b.length>0})))})};var pB=t.forwardRef(function(e,n){var o=e.prefixCls,l=void 0===o?"rc-notification":o,r=e.container,a=e.motion,i=e.maxCount,g=e.className,s=e.style,d=e.onAllRemoved,I=e.stack,C=e.renderNotifications,u=He(t.useState([]),2),m=u[0],A=u[1],b=function(e){var t,n=m.find(function(t){return t.key===e});null===n||void 0===n||null===(t=n.onClose)||void 0===t||t.call(n),A(function(t){return t.filter(function(t){return t.key!==e})})};t.useImperativeHandle(n,function(){return{open:function(e){A(function(t){var n,o=Ye(t),l=o.findIndex(function(t){return t.key===e.key}),r=Ee({},e);l>=0?(r.times=((null===(n=t[l])||void 0===n?void 0:n.times)||0)+1,o[l]=r):(r.times=0,o.push(r));return i>0&&o.length>i&&(o=o.slice(-i)),o})},close:function(e){b(e)},destroy:function(){A([])}}});var p=He(t.useState({}),2),h=p[0],f=p[1];t.useEffect(function(){var e={};m.forEach(function(t){var n=t.placement,o=void 0===n?"topRight":n;o&&(e[o]=e[o]||[],e[o].push(t))}),Object.keys(h).forEach(function(t){e[t]=e[t]||[]}),f(e)},[m]);var y=function(e){f(function(t){var n=Ee({},t);return(n[e]||[]).length||delete n[e],n})},v=t.useRef(!1);if(t.useEffect(function(){Object.keys(h).length>0?v.current=!0:v.current&&(null===d||void 0===d||d(),v.current=!1)},[h]),!r)return null;var Z=Object.keys(h);return(0,c.createPortal)(t.createElement(t.Fragment,null,Z.map(function(e){var n=h[e],o=t.createElement(bB,{key:e,configList:n,placement:e,prefixCls:l,className:null===g||void 0===g?void 0:g(e),style:null===s||void 0===s?void 0:s(e),motion:a,onNoticeClose:b,onAllNoticeRemoved:y,stack:I});return C?C(o,{prefixCls:l,key:e}):o})),r)});const hB=pB;var fB=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],yB=function(){return document.body},vB=0;function ZB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getContainer,o=void 0===n?yB:n,l=e.motion,r=e.prefixCls,a=e.maxCount,i=e.className,g=e.style,c=e.onAllRemoved,s=e.stack,d=e.renderNotifications,I=cr(e,fB),C=He(t.useState(),2),u=C[0],m=C[1],A=t.useRef(),b=t.createElement(hB,{container:u,ref:A,prefixCls:r,motion:l,maxCount:a,className:i,style:g,onAllRemoved:c,stack:s,renderNotifications:d}),p=He(t.useState([]),2),h=p[0],f=p[1],y=yr(function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var o=t[n];void 0!==o&&(e[n]=o)})}),e}(I,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(vB),vB+=1),f(function(e){return[].concat(Ye(e),[{type:"open",config:t}])})}),v=t.useMemo(function(){return{open:y,close:function(e){f(function(t){return[].concat(Ye(t),[{type:"close",key:e}])})},destroy:function(){f(function(e){return[].concat(Ye(e),[{type:"destroy"}])})}}},[]);return t.useEffect(function(){m(o())}),t.useEffect(function(){var e,t;A.current&&h.length&&(h.forEach(function(e){switch(e.type){case"open":A.current.open(e.config);break;case"close":A.current.close(e.key);break;case"destroy":A.current.destroy()}}),f(function(n){return e===n&&t||(e=n,t=n.filter(function(e){return!h.includes(e)})),t}))},[h]),[v,b]}const GB=e=>{const{componentCls:t,iconCls:n,boxShadow:o,colorText:l,colorSuccess:r,colorError:a,colorWarning:i,colorInfo:g,fontSizeLG:c,motionEaseInOutCirc:s,motionDurationSlow:d,marginXS:I,paddingXS:C,borderRadiusLG:u,zIndexPopup:m,contentPadding:A,contentBg:b}=e,p=`${t}-notice`,h=new no("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:C,transform:"translateY(0)",opacity:1}}),f=new no("MessageMoveOut",{"0%":{maxHeight:e.height,padding:C,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),y={padding:C,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:I,fontSize:c},[`${p}-content`]:{display:"inline-block",padding:A,background:b,borderRadius:u,boxShadow:o,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:r},[`${t}-error > ${n}`]:{color:a},[`${t}-warning > ${n}`]:{color:i},[`${t}-info > ${n},\n      ${t}-loading > ${n}`]:{color:g}};return[{[t]:Object.assign(Object.assign({},Ja(e)),{color:l,position:"fixed",top:I,width:"100%",pointerEvents:"none",zIndex:m,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:h,animationDuration:d,animationPlayState:"paused",animationTimingFunction:s},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:f,animationDuration:d,animationPlayState:"paused",animationTimingFunction:s},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${p}-wrapper`]:Object.assign({},y)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},y),{padding:0,textAlign:"start"})}]},SB=Ui("Message",e=>{const t=Ni(e,{height:150});return[GB(t)]},e=>({zIndexPopup:e.zIndexPopupBase+Dd+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));var BB=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const kB={info:t.createElement(sB,null),success:t.createElement(lB,null),error:t.createElement(AC,null),warning:t.createElement(iB,null),loading:t.createElement(Hu,null)},WB=e=>{let{prefixCls:n,type:o,icon:l,children:r}=e;return t.createElement("div",{className:Ol()(`${n}-custom-content`,`${n}-${o}`)},l||kB[o],t.createElement("span",null,r))},VB=e=>{const{prefixCls:n,className:o,type:l,icon:r,content:a}=e,i=BB(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:g}=t.useContext(Rl),c=n||g("message"),s=fC(c),[d,I,C]=SB(c,s);return d(t.createElement(IB,Object.assign({},i,{prefixCls:c,className:Ol()(o,I,`${c}-notice-pure-panel`,C,s),eventKey:"pure",duration:null,content:t.createElement(WB,{prefixCls:c,type:l,icon:r},a)})))};function RB(e){let t;const n=new Promise(n=>{t=e(()=>{n(!0)})}),o=()=>{null===t||void 0===t||t()};return o.then=(e,t)=>n.then(e,t),o.promise=n,o}var wB=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const XB=3,JB=e=>{let{children:n,prefixCls:o}=e;const l=fC(o),[r,a,i]=SB(o,l);return r(t.createElement(uB,{classNames:{list:Ol()(a,i,l)}},n))},HB=(e,n)=>{let{prefixCls:o,key:l}=n;return t.createElement(JB,{prefixCls:o,key:l},e)},xB=t.forwardRef((e,n)=>{const{top:o,prefixCls:l,getContainer:r,maxCount:a,duration:i=XB,rtl:g,transitionName:c,onAllRemoved:s}=e,{getPrefixCls:d,getPopupContainer:I,message:C,direction:u}=t.useContext(Rl),m=l||d("message"),A=t.createElement("span",{className:`${m}-close-x`},t.createElement(mf,{className:`${m}-close-icon`})),[b,p]=ZB({prefixCls:m,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!==o&&void 0!==o?o:8}),className:()=>Ol()({[`${m}-rtl`]:null!==g&&void 0!==g?g:"rtl"===u}),motion:()=>function(e,t){return{motionName:null!==t&&void 0!==t?t:`${e}-move-up`}}(m,c),closable:!1,closeIcon:A,duration:i,getContainer:()=>(null===r||void 0===r?void 0:r())||(null===I||void 0===I?void 0:I())||document.body,maxCount:a,onAllRemoved:s,renderNotifications:HB});return t.useImperativeHandle(n,()=>Object.assign(Object.assign({},b),{prefixCls:m,message:C})),p});let YB=0;function NB(e){const n=t.useRef(null),o=(mo("Message"),t.useMemo(()=>{const e=e=>{var t;null===(t=n.current)||void 0===t||t.close(e)},o=o=>{if(!n.current){const e=()=>{};return e.then=()=>{},e}const{open:l,prefixCls:r,message:a}=n.current,i=`${r}-notice`,{content:g,icon:c,type:s,key:d,className:I,style:C,onClose:u}=o,m=wB(o,["content","icon","type","key","className","style","onClose"]);let A=d;return void 0!==A&&null!==A||(YB+=1,A=`antd-message-${YB}`),RB(n=>(l(Object.assign(Object.assign({},m),{key:A,content:t.createElement(WB,{prefixCls:r,type:s,icon:c},g),placement:"top",className:Ol()(s&&`${i}-${s}`,I,null===a||void 0===a?void 0:a.className),style:Object.assign(Object.assign({},null===a||void 0===a?void 0:a.style),C),onClose:()=>{null===u||void 0===u||u(),n()}})),()=>{e(A)}))},l={open:o,destroy:t=>{var o;void 0!==t?e(t):null===(o=n.current)||void 0===o||o.destroy()}};return["info","success","warning","error","loading"].forEach(e=>{l[e]=(t,n,l)=>{let r,a,i;r=t&&"object"===typeof t&&"content"in t?t:{content:t},"function"===typeof n?i=n:(a=n,i=l);const g=Object.assign(Object.assign({onClose:i,duration:a},r),{type:e});return o(g)}}),l},[]));return[o,t.createElement(xB,Object.assign({key:"message-holder"},e,{ref:n}))]}let EB=null,FB=e=>e(),KB=[],MB={};function zB(){const{getContainer:e,duration:t,rtl:n,maxCount:o,top:l}=MB,r=(null===e||void 0===e?void 0:e())||document.body;return{getContainer:()=>r,duration:t,rtl:n,maxCount:o,top:l}}const LB=t.forwardRef((e,n)=>{const{messageConfig:o,sync:l}=e,{getPrefixCls:r}=(0,t.useContext)(Rl),a=MB.prefixCls||r("message"),i=(0,t.useContext)(tB),[g,c]=NB(Object.assign(Object.assign(Object.assign({},o),{prefixCls:a}),i.message));return t.useImperativeHandle(n,()=>{const e=Object.assign({},g);return Object.keys(e).forEach(t=>{e[t]=function(){l();for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return g[t].apply(g,n)}}),{instance:e,sync:l}}),c}),DB=t.forwardRef((e,n)=>{const[o,l]=t.useState(zB),r=()=>{l(zB)};t.useEffect(r,[]);const a=Oa(),i=a.getRootPrefixCls(),g=a.getIconPrefixCls(),c=a.getTheme(),s=t.createElement(LB,{ref:n,sync:r,messageConfig:o});return t.createElement($a,{prefixCls:i,iconPrefixCls:g,theme:c},a.holderRender?a.holderRender(s):s)});function TB(){if(!EB){const e=document.createDocumentFragment(),n={fragment:e};return EB=n,void FB(()=>{_b()(t.createElement(DB,{ref:e=>{const{instance:t,sync:o}=e||{};Promise.resolve().then(()=>{!n.instance&&t&&(n.instance=t,n.sync=o,TB())})}}),e)})}EB.instance&&(KB.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":FB(()=>{const t=EB.instance.open(Object.assign(Object.assign({},MB),e.config));null===t||void 0===t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":FB(()=>{null===EB||void 0===EB||EB.instance.destroy(e.key)});break;default:FB(()=>{var n;const o=(n=EB.instance)[t].apply(n,Ye(e.args));null===o||void 0===o||o.then(e.resolve),e.setCloseFn(o)})}}),KB=[])}const jB={open:function(e){const t=RB(t=>{let n;const o={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return KB.push(o),()=>{n?FB(()=>{n()}):o.skipped=!0}});return TB(),t},destroy:e=>{KB.push({type:"destroy",key:e}),TB()},config:function(e){MB=Object.assign(Object.assign({},MB),e),FB(()=>{var e;null===(e=null===EB||void 0===EB?void 0:EB.sync)||void 0===e||e.call(EB)})},useMessage:function(e){return NB(e)},_InternalPanelDoNotUseOrYouWillBeFired:VB};["success","info","warning","error","loading"].forEach(e=>{jB[e]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(e,t){Oa();const n=RB(n=>{let o;const l={type:e,args:t,resolve:n,setCloseFn:e=>{o=e}};return KB.push(l),()=>{o?FB(()=>{o()}):l.skipped=!0}});return TB(),n}(e,n)}});const OB=jB;function UB(e){return["small","middle","large"].includes(e)}function QB(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}const $B=t.createContext({latestIndex:0}),PB=$B.Provider,qB=e=>{let{className:n,index:o,children:l,split:r,style:a}=e;const{latestIndex:i}=t.useContext($B);return null===l||void 0===l?null:t.createElement(t.Fragment,null,t.createElement("div",{className:n,style:a},l),o<i&&r&&t.createElement("span",{className:`${n}-split`},r))};var _B=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const ek=t.forwardRef((e,n)=>{var o;const{getPrefixCls:l,direction:r,size:a,className:i,style:g,classNames:c,styles:s}=Jl("space"),{size:d=(null!==a&&void 0!==a?a:"small"),align:I,className:C,rootClassName:u,children:m,direction:A="horizontal",prefixCls:b,split:p,style:h,wrap:f=!1,classNames:y,styles:v}=e,Z=_B(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[G,S]=Array.isArray(d)?d:[d,d],B=UB(S),k=UB(G),W=QB(S),V=QB(G),R=_a(m,{keepEmpty:!0}),w=void 0===I&&"horizontal"===A?"center":I,X=l("space",b),[J,H,x]=Hd(X),Y=Ol()(X,i,H,`${X}-${A}`,{[`${X}-rtl`]:"rtl"===r,[`${X}-align-${w}`]:w,[`${X}-gap-row-${S}`]:B,[`${X}-gap-col-${G}`]:k},C,u,x),N=Ol()(`${X}-item`,null!==(o=null===y||void 0===y?void 0:y.item)&&void 0!==o?o:c.item);let E=0;const F=R.map((e,n)=>{var o;null!==e&&void 0!==e&&(E=n);const l=(null===e||void 0===e?void 0:e.key)||`${N}-${n}`;return t.createElement(qB,{className:N,key:l,index:n,split:p,style:null!==(o=null===v||void 0===v?void 0:v.item)&&void 0!==o?o:s.item},e)}),K=t.useMemo(()=>({latestIndex:E}),[E]);if(0===R.length)return null;const M={};return f&&(M.flexWrap="wrap"),!k&&V&&(M.columnGap=G),!B&&W&&(M.rowGap=S),J(t.createElement("div",Object.assign({ref:n,className:Y,style:Object.assign(Object.assign(Object.assign({},M),g),h)},Z),t.createElement(PB,{value:K},F)))}),tk=ek;tk.Compact=Kd;const nk=tk;var ok={},lk="rc-table-internal-hook";function rk(e){var n=t.createContext(void 0);return{Context:n,Provider:function(e){var o=e.value,l=e.children,r=t.useRef(o);r.current=o;var a=He(t.useState(function(){return{getValue:function(){return r.current},listeners:new Set}}),1)[0];return Ft(function(){(0,c.unstable_batchedUpdates)(function(){a.listeners.forEach(function(e){e(o)})})},[o]),t.createElement(n.Provider,{value:a},l)},defaultValue:e}}function ak(e,n){var o=yr("function"===typeof n?n:function(e){if(void 0===n)return e;if(!Array.isArray(n))return e[n];var t={};return n.forEach(function(n){t[n]=e[n]}),t}),l=t.useContext(null===e||void 0===e?void 0:e.Context),r=l||{},a=r.listeners,i=r.getValue,g=t.useRef();g.current=o(l?i():null===e||void 0===e?void 0:e.defaultValue);var c=He(t.useState({}),2)[1];return Ft(function(){if(l)return a.add(e),function(){a.delete(e)};function e(e){var t=o(e);at(g.current,t,!0)||c({})}},[l]),g.current}function ik(){var e=t.createContext(null);function n(){return t.useContext(e)}return{makeImmutable:function(o,l){var r=ar(o),a=function(a,i){var g=r?{ref:i}:{},c=t.useRef(0),s=t.useRef(a);return null!==n()?t.createElement(o,$t({},a,g)):(l&&!l(s.current,a)||(c.current+=1),s.current=a,t.createElement(e.Provider,{value:c.current},t.createElement(o,$t({},a,g))))};return r?t.forwardRef(a):a},responseImmutable:function(e,o){var l=ar(e),r=function(o,r){var a=l?{ref:r}:{};return n(),t.createElement(e,$t({},o,a))};return l?t.memo(t.forwardRef(r),o):t.memo(r,o)},useImmutableMark:n}}var gk=ik(),ck=(gk.makeImmutable,gk.responseImmutable,gk.useImmutableMark,ik()),sk=ck.makeImmutable,dk=ck.responseImmutable,Ik=ck.useImmutableMark;const Ck=rk();const uk=t.createContext({renderWithProps:!1});function mk(e){var t=[],n={};return e.forEach(function(e){for(var o,l=e||{},r=l.key,a=l.dataIndex,i=r||(o=a,void 0===o||null===o?[]:Array.isArray(o)?o:[o]).join("-")||"RC_TABLE_KEY";n[i];)i="".concat(i,"_next");n[i]=!0,t.push(i)}),t}function Ak(e){return null!==e&&void 0!==e}function bk(e,n,o,l,r,a){var i=t.useContext(uk),g=qe(function(){if(Ak(l))return[l];var a=null===n||void 0===n||""===n?[]:Array.isArray(n)?n:[n],g=ao(e,a),c=g,s=void 0;if(r){var d=r(g,e,o);!function(e){return e&&"object"===ke(e)&&!Array.isArray(e)&&!t.isValidElement(e)}(d)?c=d:(c=d.children,s=d.props,i.renderWithProps=!0)}return[c,s]},[Ik(),e,l,n,r,o],function(e,t){if(a){var n=He(e,2)[1],o=He(t,2)[1];return a(o,n)}return!!i.renderWithProps||!at(e,t,!0)});return g}function pk(e){var n,o,l,r,a,i,g,c;var s=e.component,d=e.children,I=e.ellipsis,C=e.scope,u=e.prefixCls,m=e.className,A=e.align,b=e.record,p=e.render,h=e.dataIndex,f=e.renderIndex,y=e.shouldCellUpdate,v=e.index,Z=e.rowType,G=e.colSpan,S=e.rowSpan,B=e.fixLeft,k=e.fixRight,W=e.firstFixLeft,V=e.lastFixLeft,R=e.firstFixRight,w=e.lastFixRight,X=e.appendNode,J=e.additionalProps,H=void 0===J?{}:J,x=e.isSticky,Y="".concat(u,"-cell"),N=ak(Ck,["supportSticky","allColumnsFixedLeft","rowHoverable"]),E=N.supportSticky,F=N.allColumnsFixedLeft,K=N.rowHoverable,M=He(bk(b,h,f,d,p,y),2),z=M[0],L=M[1],D={},T="number"===typeof B&&E,j="number"===typeof k&&E;T&&(D.position="sticky",D.left=B),j&&(D.position="sticky",D.right=k);var O=null!==(n=null!==(o=null!==(l=null===L||void 0===L?void 0:L.colSpan)&&void 0!==l?l:H.colSpan)&&void 0!==o?o:G)&&void 0!==n?n:1,U=null!==(r=null!==(a=null!==(i=null===L||void 0===L?void 0:L.rowSpan)&&void 0!==i?i:H.rowSpan)&&void 0!==a?a:S)&&void 0!==r?r:1,Q=function(e,t){return ak(Ck,function(n){var o,l,r,a;return[(o=e,l=t||1,r=n.hoverStartRow,a=n.hoverEndRow,o<=a&&o+l-1>=r),n.onHover]})}(v,U),$=He(Q,2),P=$[0],q=$[1],_=yr(function(e){var t;b&&q(v,v+U-1),null===H||void 0===H||null===(t=H.onMouseEnter)||void 0===t||t.call(H,e)}),ee=yr(function(e){var t;b&&q(-1,-1),null===H||void 0===H||null===(t=H.onMouseLeave)||void 0===t||t.call(H,e)});if(0===O||0===U)return null;var te=null!==(g=H.title)&&void 0!==g?g:function(e){var n,o=e.ellipsis,l=e.rowType,r=e.children,a=!0===o?{showTitle:!0}:o;return a&&(a.showTitle||"header"===l)&&("string"===typeof r||"number"===typeof r?n=r.toString():t.isValidElement(r)&&"string"===typeof r.props.children&&(n=r.props.children)),n}({rowType:Z,ellipsis:I,children:z}),ne=Ol()(Y,m,(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(c={},"".concat(Y,"-fix-left"),T&&E),"".concat(Y,"-fix-left-first"),W&&E),"".concat(Y,"-fix-left-last"),V&&E),"".concat(Y,"-fix-left-all"),V&&F&&E),"".concat(Y,"-fix-right"),j&&E),"".concat(Y,"-fix-right-first"),R&&E),"".concat(Y,"-fix-right-last"),w&&E),"".concat(Y,"-ellipsis"),I),"".concat(Y,"-with-append"),X),"".concat(Y,"-fix-sticky"),(T||j)&&x&&E),Ve(c,"".concat(Y,"-row-hover"),!L&&P)),H.className,null===L||void 0===L?void 0:L.className),oe={};A&&(oe.textAlign=A);var le=Ee(Ee(Ee(Ee({},null===L||void 0===L?void 0:L.style),D),oe),H.style),re=z;return"object"!==ke(re)||Array.isArray(re)||t.isValidElement(re)||(re=null),I&&(V||R)&&(re=t.createElement("span",{className:"".concat(Y,"-content")},re)),t.createElement(s,$t({},L,H,{className:ne,style:le,title:te,scope:C,onMouseEnter:K?_:void 0,onMouseLeave:K?ee:void 0,colSpan:1!==O?O:null,rowSpan:1!==U?U:null}),X,re)}const hk=t.memo(pk);function fk(e,t,n,o,l){var r,a,i=n[e]||{},g=n[t]||{};"left"===i.fixed?r=o.left["rtl"===l?t:e]:"right"===g.fixed&&(a=o.right["rtl"===l?e:t]);var c=!1,s=!1,d=!1,I=!1,C=n[t+1],u=n[e-1],m=C&&!C.fixed||u&&!u.fixed||n.every(function(e){return"left"===e.fixed});if("rtl"===l){if(void 0!==r)I=!(u&&"left"===u.fixed)&&m;else if(void 0!==a){d=!(C&&"right"===C.fixed)&&m}}else if(void 0!==r){c=!(C&&"left"===C.fixed)&&m}else if(void 0!==a){s=!(u&&"right"===u.fixed)&&m}return{fixLeft:r,fixRight:a,lastFixLeft:c,firstFixRight:s,lastFixRight:d,firstFixLeft:I,isSticky:o.isSticky}}const yk=t.createContext({});var vk=["children"];function Zk(e){return e.children}Zk.Row=function(e){var n=e.children,o=cr(e,vk);return t.createElement("tr",o,n)},Zk.Cell=function(e){var n=e.className,o=e.index,l=e.children,r=e.colSpan,a=void 0===r?1:r,i=e.rowSpan,g=e.align,c=ak(Ck,["prefixCls","direction"]),s=c.prefixCls,d=c.direction,I=t.useContext(yk),C=I.scrollColumnIndex,u=I.stickyOffsets,m=o+a-1+1===C?a+1:a,A=fk(o,o+m-1,I.flattenColumns,u,d);return t.createElement(hk,$t({className:n,index:o,component:"td",prefixCls:s,record:null,dataIndex:null,align:g,colSpan:m,rowSpan:i,render:function(){return l}},A))};const Gk=Zk;const Sk=dk(function(e){var n=e.children,o=e.stickyOffsets,l=e.flattenColumns,r=ak(Ck,"prefixCls"),a=l.length-1,i=l[a],g=t.useMemo(function(){return{stickyOffsets:o,flattenColumns:l,scrollColumnIndex:null!==i&&void 0!==i&&i.scrollbar?a:null}},[i,l,a,o]);return t.createElement(yk.Provider,{value:g},t.createElement("tfoot",{className:"".concat(r,"-summary")},n))});var Bk=Gk;function kk(e,t,n,o,l,r,a){var i=r(t,a);e.push({record:t,indent:n,index:a,rowKey:i});var g=null===l||void 0===l?void 0:l.has(i);if(t&&Array.isArray(t[o])&&g)for(var c=0;c<t[o].length;c+=1)kk(e,t[o][c],n+1,o,l,r,c)}function Wk(e,n,o,l){var r=t.useMemo(function(){if(null!==o&&void 0!==o&&o.size){for(var t=[],r=0;r<(null===e||void 0===e?void 0:e.length);r+=1){kk(t,e[r],0,n,o,l,r)}return t}return null===e||void 0===e?void 0:e.map(function(e,t){return{record:e,indent:0,index:t,rowKey:l(e,t)}})},[e,n,o,l]);return r}function Vk(e,t,n,o){var l,r=ak(Ck,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),a=r.flattenColumns,i=r.expandableType,g=r.expandedKeys,c=r.childrenColumnName,s=r.onTriggerExpand,d=r.rowExpandable,I=r.onRow,C=r.expandRowByClick,u=r.rowClassName,m="nest"===i,A="row"===i&&(!d||d(e)),b=A||m,p=g&&g.has(t),h=c&&e&&e[c],f=yr(s),y=null===I||void 0===I?void 0:I(e,n),v=null===y||void 0===y?void 0:y.onClick;"string"===typeof u?l=u:"function"===typeof u&&(l=u(e,n,o));var Z=mk(a);return Ee(Ee({},r),{},{columnsKey:Z,nestExpandable:m,expanded:p,hasNestChildren:h,record:e,onTriggerExpand:f,rowSupportExpand:A,expandable:b,rowProps:Ee(Ee({},y),{},{className:Ol()(l,null===y||void 0===y?void 0:y.className),onClick:function(t){C&&b&&s(e,t);for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];null===v||void 0===v||v.apply(void 0,[t].concat(o))}})})}const Rk=function(e){var n=e.prefixCls,o=e.children,l=e.component,r=e.cellComponent,a=e.className,i=e.expanded,g=e.colSpan,c=e.isEmpty,s=e.stickyOffset,d=void 0===s?0:s,I=ak(Ck,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),C=I.scrollbarSize,u=I.fixHeader,m=I.fixColumn,A=I.componentWidth,b=I.horizonScroll,p=o;return(c?b&&A:m)&&(p=t.createElement("div",{style:{width:A-d-(u&&!c?C:0),position:"sticky",left:d,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},p)),t.createElement(l,{className:a,style:{display:i?null:"none"}},t.createElement(hk,{component:r,prefixCls:n,colSpan:g},p))};function wk(e){var n=e.prefixCls,o=e.record,l=e.onExpand,r=e.expanded,a=e.expandable,i="".concat(n,"-row-expand-icon");if(!a)return t.createElement("span",{className:Ol()(i,"".concat(n,"-row-spaced"))});return t.createElement("span",{className:Ol()(i,Ve(Ve({},"".concat(n,"-row-expanded"),r),"".concat(n,"-row-collapsed"),!r)),onClick:function(e){l(o,e),e.stopPropagation()}})}function Xk(e,t,n,o){return"string"===typeof e?e:"function"===typeof e?e(t,n,o):""}function Jk(e,n,o,l,r){var a,i,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=e.record,d=e.prefixCls,I=e.columnsKey,C=e.fixedInfoList,u=e.expandIconColumnIndex,m=e.nestExpandable,A=e.indentSize,b=e.expandIcon,p=e.expanded,h=e.hasNestChildren,f=e.onTriggerExpand,y=e.expandable,v=e.expandedKeys,Z=I[o],G=C[o];o===(u||0)&&m&&(i=t.createElement(t.Fragment,null,t.createElement("span",{style:{paddingLeft:"".concat(A*l,"px")},className:"".concat(d,"-row-indent indent-level-").concat(l)}),b({prefixCls:d,expanded:p,expandable:h,record:s,onExpand:f})));var S=(null===(a=n.onCell)||void 0===a?void 0:a.call(n,s,r))||{};if(c){var B=S.rowSpan,k=void 0===B?1:B;if(y&&k&&o<c){for(var W=k,V=r;V<r+k;V+=1){var R=g[V];v.has(R)&&(W+=1)}S.rowSpan=W}}return{key:Z,fixedInfo:G,appendCellNode:i,additionalCellProps:S}}const Hk=dk(function(e){var n=e.className,o=e.style,l=e.record,r=e.index,a=e.renderIndex,i=e.rowKey,g=e.rowKeys,c=e.indent,s=void 0===c?0:c,d=e.rowComponent,I=e.cellComponent,C=e.scopeCellComponent,u=e.expandedRowInfo,m=Vk(l,i,r,s),A=m.prefixCls,b=m.flattenColumns,p=m.expandedRowClassName,h=m.expandedRowRender,f=m.rowProps,y=m.expanded,v=m.rowSupportExpand,Z=t.useRef(!1);Z.current||(Z.current=y);var G,S=Xk(p,l,r,s),B=t.createElement(d,$t({},f,{"data-row-key":i,className:Ol()(n,"".concat(A,"-row"),"".concat(A,"-row-level-").concat(s),null===f||void 0===f?void 0:f.className,Ve({},S,s>=1)),style:Ee(Ee({},o),null===f||void 0===f?void 0:f.style)}),b.map(function(e,n){var o=e.render,i=e.dataIndex,c=e.className,d=Jk(m,e,n,s,r,g,null===u||void 0===u?void 0:u.offset),b=d.key,p=d.fixedInfo,h=d.appendCellNode,f=d.additionalCellProps;return t.createElement(hk,$t({className:c,ellipsis:e.ellipsis,align:e.align,scope:e.rowScope,component:e.rowScope?C:I,prefixCls:A,key:b,record:l,index:r,renderIndex:a,dataIndex:i,render:o,shouldCellUpdate:e.shouldCellUpdate},p,{appendNode:h,additionalProps:f}))}));if(v&&(Z.current||y)){var k=h(l,r,s+1,y);G=t.createElement(Rk,{expanded:y,className:Ol()("".concat(A,"-expanded-row"),"".concat(A,"-expanded-row-level-").concat(s+1),S),prefixCls:A,component:d,cellComponent:I,colSpan:u?u.colSpan:b.length,stickyOffset:null===u||void 0===u?void 0:u.sticky,isEmpty:!1},k)}return t.createElement(t.Fragment,null,B,G)});function xk(e){var n=e.columnKey,o=e.onColumnResize,l=t.useRef();return Ft(function(){l.current&&o(n,l.current.offsetWidth)},[]),t.createElement(qg,{data:n},t.createElement("td",{ref:l,style:{padding:0,border:0,height:0}},t.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function Yk(e){var n=e.prefixCls,o=e.columnsKey,l=e.onColumnResize,r=t.useRef(null);return t.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0},ref:r},t.createElement(qg.Collection,{onBatchResize:function(e){Rc(r.current)&&e.forEach(function(e){var t=e.data,n=e.size;l(t,n.offsetWidth)})}},o.map(function(e){return t.createElement(xk,{key:e,columnKey:e,onColumnResize:l})})))}const Nk=dk(function(e){var n,o=e.data,l=e.measureColumnWidth,r=ak(Ck,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),a=r.prefixCls,i=r.getComponent,g=r.onColumnResize,c=r.flattenColumns,s=r.getRowKey,d=r.expandedKeys,I=r.childrenColumnName,C=r.emptyNode,u=r.expandedRowOffset,m=void 0===u?0:u,A=r.colWidths,b=Wk(o,I,d,s),p=t.useMemo(function(){return b.map(function(e){return e.rowKey})},[b]),h=t.useRef({renderWithProps:!1}),f=t.useMemo(function(){for(var e=c.length-m,t=0,n=0;n<m;n+=1)t+=A[n]||0;return{offset:m,colSpan:e,sticky:t}},[c.length,m,A]),y=i(["body","wrapper"],"tbody"),v=i(["body","row"],"tr"),Z=i(["body","cell"],"td"),G=i(["body","cell"],"th");n=o.length?b.map(function(e,n){var o=e.record,l=e.indent,r=e.index,a=e.rowKey;return t.createElement(Hk,{key:a,rowKey:a,rowKeys:p,record:o,index:n,renderIndex:r,rowComponent:v,cellComponent:Z,scopeCellComponent:G,indent:l,expandedRowInfo:f})}):t.createElement(Rk,{expanded:!0,className:"".concat(a,"-placeholder"),prefixCls:a,component:v,cellComponent:Z,colSpan:c.length,isEmpty:!0},C);var S=mk(c);return t.createElement(uk.Provider,{value:h.current},t.createElement(y,{className:"".concat(a,"-tbody")},l&&t.createElement(Yk,{prefixCls:a,columnsKey:S,onColumnResize:g}),n))});var Ek=["expandable"],Fk="RC_TABLE_INTERNAL_COL_DEFINE";var Kk=["columnType"];const Mk=function(e){for(var n=e.colWidths,o=e.columns,l=e.columCount,r=ak(Ck,["tableLayout"]).tableLayout,a=[],i=!1,g=(l||o.length)-1;g>=0;g-=1){var c=n[g],s=o&&o[g],d=void 0,I=void 0;if(s&&(d=s[Fk],"auto"===r&&(I=s.minWidth)),c||I||d||i){var C=d||{},u=(C.columnType,cr(C,Kk));a.unshift(t.createElement("col",$t({key:g,style:{width:c,minWidth:I}},u))),i=!0}}return t.createElement("colgroup",null,a)};var zk=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var Lk=t.forwardRef(function(e,n){var o=e.className,l=e.noData,r=e.columns,a=e.flattenColumns,i=e.colWidths,g=e.columCount,c=e.stickyOffsets,s=e.direction,d=e.fixHeader,I=e.stickyTopOffset,C=e.stickyBottomOffset,u=e.stickyClassName,m=e.onScroll,A=e.maxContentScroll,b=e.children,p=cr(e,zk),h=ak(Ck,["prefixCls","scrollbarSize","isSticky","getComponent"]),f=h.prefixCls,y=h.scrollbarSize,v=h.isSticky,Z=(0,h.getComponent)(["header","table"],"table"),G=v&&!d?0:y,S=t.useRef(null),B=t.useCallback(function(e){or(n,e),or(S,e)},[]);t.useEffect(function(){function e(e){var t=e,n=t.currentTarget,o=t.deltaX;o&&(m({currentTarget:n,scrollLeft:n.scrollLeft+o}),e.preventDefault())}var t=S.current;return null===t||void 0===t||t.addEventListener("wheel",e,{passive:!1}),function(){null===t||void 0===t||t.removeEventListener("wheel",e)}},[]);var k=t.useMemo(function(){return a.every(function(e){return e.width})},[a]),W=a[a.length-1],V={fixed:W?W.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(f,"-cell-scrollbar")}}},R=(0,t.useMemo)(function(){return G?[].concat(Ye(r),[V]):r},[G,r]),w=(0,t.useMemo)(function(){return G?[].concat(Ye(a),[V]):a},[G,a]),X=(0,t.useMemo)(function(){var e=c.right,t=c.left;return Ee(Ee({},c),{},{left:"rtl"===s?[].concat(Ye(t.map(function(e){return e+G})),[0]):t,right:"rtl"===s?e:[].concat(Ye(e.map(function(e){return e+G})),[0]),isSticky:v})},[G,c,v]),J=function(e,n){return(0,t.useMemo)(function(){for(var t=[],o=0;o<n;o+=1){var l=e[o];if(void 0===l)return null;t[o]=l}return t},[e.join("_"),n])}(i,g);return t.createElement("div",{style:Ee({overflow:"hidden"},v?{top:I,bottom:C}:{}),ref:B,className:Ol()(o,Ve({},u,!!u))},t.createElement(Z,{style:{tableLayout:"fixed",visibility:l||J?null:"hidden"}},(!l||!A||k)&&t.createElement(Mk,{colWidths:J?[].concat(Ye(J),[G]):[],columCount:g+1,columns:w}),b(Ee(Ee({},p),{},{stickyOffsets:X,columns:R,flattenColumns:w}))))});const Dk=t.memo(Lk);const Tk=function(e){var n,o=e.cells,l=e.stickyOffsets,r=e.flattenColumns,a=e.rowComponent,i=e.cellComponent,g=e.onHeaderRow,c=e.index,s=ak(Ck,["prefixCls","direction"]),d=s.prefixCls,I=s.direction;g&&(n=g(o.map(function(e){return e.column}),c));var C=mk(o.map(function(e){return e.column}));return t.createElement(a,n,o.map(function(e,n){var o,a=e.column,g=fk(e.colStart,e.colEnd,r,l,I);return a&&a.onHeaderCell&&(o=e.column.onHeaderCell(a)),t.createElement(hk,$t({},e,{scope:a.title?e.colSpan>1?"colgroup":"col":null,ellipsis:a.ellipsis,align:a.align,component:i,prefixCls:d,key:C[n]},g,{additionalProps:o,rowType:"header"}))}))};const jk=dk(function(e){var n=e.stickyOffsets,o=e.columns,l=e.flattenColumns,r=e.onHeaderRow,a=ak(Ck,["prefixCls","getComponent"]),i=a.prefixCls,g=a.getComponent,c=t.useMemo(function(){return function(e){var t=[];!function e(n,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[l]=t[l]||[];var r=o,a=n.filter(Boolean).map(function(n){var o={key:n.key,className:n.className||"",children:n.title,column:n,colStart:r},a=1,i=n.children;return i&&i.length>0&&(a=e(i,r,l+1).reduce(function(e,t){return e+t},0),o.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(o.rowSpan=n.rowSpan),o.colSpan=a,o.colEnd=o.colStart+a-1,t[l].push(o),r+=a,a});return a}(e,0);for(var n=t.length,o=function(e){t[e].forEach(function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)})},l=0;l<n;l+=1)o(l);return t}(o)},[o]),s=g(["header","wrapper"],"thead"),d=g(["header","row"],"tr"),I=g(["header","cell"],"th");return t.createElement(s,{className:"".concat(i,"-thead")},c.map(function(e,o){return t.createElement(Tk,{key:o,flattenColumns:l,cells:e,stickyOffsets:n,rowComponent:d,cellComponent:I,onHeaderRow:r,index:o})}))});function Ok(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"===typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}var Uk=["children"],Qk=["fixed"];function $k(e){return _a(e).filter(function(e){return t.isValidElement(e)}).map(function(e){var t=e.key,n=e.props,o=n.children,l=Ee({key:t},cr(n,Uk));return o&&(l.children=$k(o)),l})}function Pk(e){return e.filter(function(e){return e&&"object"===ke(e)&&!e.hidden}).map(function(e){var t=e.children;return t&&t.length>0?Ee(Ee({},e),{},{children:Pk(t)}):e})}function qk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter(function(e){return e&&"object"===ke(e)}).reduce(function(e,n,o){var l=n.fixed,r=!0===l?"left":l,a="".concat(t,"-").concat(o),i=n.children;return i&&i.length>0?[].concat(Ye(e),Ye(qk(i,a).map(function(e){return Ee({fixed:r},e)}))):[].concat(Ye(e),[Ee(Ee({key:a},n),{},{fixed:r})])},[])}const _k=function(e,n){var o=e.prefixCls,l=e.columns,r=e.children,a=e.expandable,i=e.expandedKeys,g=e.columnTitle,c=e.getRowKey,s=e.onTriggerExpand,d=e.expandIcon,I=e.rowExpandable,C=e.expandIconColumnIndex,u=e.expandedRowOffset,m=void 0===u?0:u,A=e.direction,b=e.expandRowByClick,p=e.columnWidth,h=e.fixed,f=e.scrollWidth,y=e.clientWidth,v=t.useMemo(function(){return Pk((l||$k(r)||[]).slice())},[l,r]),Z=t.useMemo(function(){if(a){var e=v.slice();if(!e.includes(ok)){var n=C||0;n>=0&&(n||"left"===h||!h)&&e.splice(n,0,ok),"right"===h&&e.splice(v.length,0,ok)}0;var l=e.indexOf(ok);e=e.filter(function(e,t){return e!==ok||t===l});var r,u=v[l];r=h||(u?u.fixed:null);var A=Ve(Ve(Ve(Ve(Ve(Ve({},Fk,{className:"".concat(o,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",g),"fixed",r),"className","".concat(o,"-row-expand-icon-cell")),"width",p),"render",function(e,n,l){var r=c(n,l),a=i.has(r),g=!I||I(n),C=d({prefixCls:o,expanded:a,expandable:g,record:n,onExpand:s});return b?t.createElement("span",{onClick:function(e){return e.stopPropagation()}},C):C});return e.map(function(e,t){var n=e===ok?A:e;return t<m?Ee(Ee({},n),{},{fixed:n.fixed||"left"}):n})}return v.filter(function(e){return e!==ok})},[a,v,c,i,d,A,m]),G=t.useMemo(function(){var e=Z;return n&&(e=n(e)),e.length||(e=[{render:function(){return null}}]),e},[n,Z,A]),S=t.useMemo(function(){return"rtl"===A?function(e){return e.map(function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Ee({fixed:n},cr(e,Qk))})}(qk(G)):qk(G)},[G,A,f]),B=t.useMemo(function(){for(var e=-1,t=S.length-1;t>=0;t-=1){var n=S[t].fixed;if("left"===n||!0===n){e=t;break}}if(e>=0)for(var o=0;o<=e;o+=1){var l=S[o].fixed;if("left"!==l&&!0!==l)return!0}var r=S.findIndex(function(e){return"right"===e.fixed});if(r>=0)for(var a=r;a<S.length;a+=1){if("right"!==S[a].fixed)return!0}return!1},[S]),k=function(e,n,o){return t.useMemo(function(){if(n&&n>0){var t=0,l=0;e.forEach(function(e){var o=Ok(n,e.width);o?t+=o:l+=1});var r=Math.max(n,o),a=Math.max(r-t,l),i=l,g=a/l,c=0,s=e.map(function(e){var t=Ee({},e),o=Ok(n,t.width);if(o)t.width=o;else{var l=Math.floor(g);t.width=1===i?a:l,a-=l,i-=1}return c+=t.width,t});if(c<r){var d=r/c;a=r,s.forEach(function(e,t){var n=Math.floor(e.width*d);e.width=t===s.length-1?a:n,a-=n})}return[s,Math.max(c,r)]}return[e,n]},[e,n,o])}(S,f,y),W=He(k,2),V=W[0],R=W[1];return[G,V,R,B]};function eW(e,n,o){var l=function(e){var t,n=e.expandable,o=cr(e,Ek);return!1===(t="expandable"in e?Ee(Ee({},o),n):o).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),r=l.expandIcon,a=l.expandedRowKeys,i=l.defaultExpandedRowKeys,g=l.defaultExpandAllRows,c=l.expandedRowRender,s=l.onExpand,d=l.onExpandedRowsChange,I=r||wk,C=l.childrenColumnName||"children",u=t.useMemo(function(){return c?"row":!!(e.expandable&&e.internalHooks===lk&&e.expandable.__PARENT_RENDER_ICON__||n.some(function(e){return e&&"object"===ke(e)&&e[C]}))&&"nest"},[!!c,n]),m=t.useState(function(){return i||(g?function(e,t,n){var o=[];return function e(l){(l||[]).forEach(function(l,r){o.push(t(l,r)),e(l[n])})}(e),o}(n,o,C):[])}),A=He(m,2),b=A[0],p=A[1],h=t.useMemo(function(){return new Set(a||b||[])},[a,b]),f=t.useCallback(function(e){var t,l=o(e,n.indexOf(e)),r=h.has(l);r?(h.delete(l),t=Ye(h)):t=[].concat(Ye(h),[l]),p(t),s&&s(!r,e),d&&d(t)},[o,h,n,s,d]);return[l,u,h,I,C,f]}var tW=Ke()?window:null;const nW=function(e,n,o){var l=(0,t.useMemo)(function(){var t=n.length,l=function(t,o,l){for(var r=[],a=0,i=t;i!==o;i+=l)r.push(a),n[i].fixed&&(a+=e[i]||0);return r},r=l(0,t,1),a=l(t-1,-1,-1).reverse();return"rtl"===o?{left:a,right:r}:{left:r,right:a}},[e,n,o]);return l};const oW=function(e){var n=e.className,o=e.children;return t.createElement("div",{className:n},o)};function lW(e,t,n,o){var l=c.unstable_batchedUpdates?function(e){c.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,l,o),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,l,o)}}}function rW(e){var t=Ql(e).getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var aW=function(e,n){var o,l,r=e.scrollBodyRef,a=e.onScroll,i=e.offsetScroll,g=e.container,c=e.direction,s=ak(Ck,"prefixCls"),d=(null===(o=r.current)||void 0===o?void 0:o.scrollWidth)||0,I=(null===(l=r.current)||void 0===l?void 0:l.clientWidth)||0,C=d&&I*(I/d),u=t.useRef(),m=function(e){var n=(0,t.useRef)(e),o=He((0,t.useState)({}),2)[1],l=(0,t.useRef)(null),r=(0,t.useRef)([]);return(0,t.useEffect)(function(){return function(){l.current=null}},[]),[n.current,function(e){r.current.push(e);var t=Promise.resolve();l.current=t,t.then(function(){if(l.current===t){var e=r.current,a=n.current;r.current=[],e.forEach(function(e){n.current=e(n.current)}),l.current=null,a!==n.current&&o({})}})}]}({scrollLeft:0,isHiddenScrollBar:!0}),A=He(m,2),b=A[0],p=A[1],h=t.useRef({delta:0,x:0}),f=He(t.useState(!1),2),y=f[0],v=f[1],Z=t.useRef(null);t.useEffect(function(){return function(){ea.cancel(Z.current)}},[]);var G=function(){v(!1)},S=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(y&&0!==n){var o=h.current.x+e.pageX-h.current.x-h.current.delta,l="rtl"===c;o=Math.max(l?C-I:0,Math.min(l?0:I-C,o)),(!l||Math.abs(o)+Math.abs(C)<I)&&(a({scrollLeft:o/I*(d+2)}),h.current.x=e.pageX)}else y&&v(!1)},B=function(){ea.cancel(Z.current),Z.current=ea(function(){if(r.current){var e=rW(r.current).top,t=e+r.current.offsetHeight,n=g===window?document.documentElement.scrollTop+window.innerHeight:rW(g).top+g.clientHeight;t-ic()<=n||e>=n-i?p(function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!0})}):p(function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!1})})}})},k=function(e){p(function(t){return Ee(Ee({},t),{},{scrollLeft:e/d*I||0})})};return t.useImperativeHandle(n,function(){return{setScrollLeft:k,checkScrollBarVisible:B}}),t.useEffect(function(){var e=lW(document.body,"mouseup",G,!1),t=lW(document.body,"mousemove",S,!1);return B(),function(){e.remove(),t.remove()}},[C,y]),t.useEffect(function(){if(r.current){for(var e=[],t=Ql(r.current);t;)e.push(t),t=t.parentElement;return e.forEach(function(e){return e.addEventListener("scroll",B,!1)}),window.addEventListener("resize",B,!1),window.addEventListener("scroll",B,!1),g.addEventListener("scroll",B,!1),function(){e.forEach(function(e){return e.removeEventListener("scroll",B)}),window.removeEventListener("resize",B),window.removeEventListener("scroll",B),g.removeEventListener("scroll",B)}}},[g]),t.useEffect(function(){b.isHiddenScrollBar||p(function(e){var t=r.current;return t?Ee(Ee({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e})},[b.isHiddenScrollBar]),d<=I||!C||b.isHiddenScrollBar?null:t.createElement("div",{style:{height:ic(),width:I,bottom:i},className:"".concat(s,"-sticky-scroll")},t.createElement("div",{onMouseDown:function(e){e.persist(),h.current.delta=e.pageX-b.scrollLeft,h.current.x=0,v(!0),e.preventDefault()},ref:u,className:Ol()("".concat(s,"-sticky-scroll-bar"),Ve({},"".concat(s,"-sticky-scroll-bar-active"),y)),style:{width:"".concat(C,"px"),transform:"translate3d(".concat(b.scrollLeft,"px, 0, 0)")}}))};const iW=t.forwardRef(aW);const gW=function(e){return null};const cW=function(e){return null};var sW="rc-table",dW=[],IW={};function CW(){return"No Data"}function uW(e,n){var o=Ee({rowKey:"key",prefixCls:sW,emptyText:CW},e),l=o.prefixCls,r=o.className,a=o.rowClassName,i=o.style,g=o.data,c=o.rowKey,s=o.scroll,d=o.tableLayout,I=o.direction,C=o.title,u=o.footer,m=o.summary,A=o.caption,b=o.id,p=o.showHeader,h=o.components,f=o.emptyText,y=o.onRow,v=o.onHeaderRow,Z=o.onScroll,G=o.internalHooks,S=o.transformColumns,B=o.internalRefs,k=o.tailor,W=o.getContainerWidth,V=o.sticky,R=o.rowHoverable,w=void 0===R||R,X=g||dW,J=!!X.length,H=G===lk;var x=t.useCallback(function(e,t){return ao(h,e)||t},[h]),Y=t.useMemo(function(){return"function"===typeof c?c:function(e){return e&&e[c]}},[c]),N=x(["body"]),E=function(){var e=He(t.useState(-1),2),n=e[0],o=e[1],l=He(t.useState(-1),2),r=l[0],a=l[1];return[n,r,t.useCallback(function(e,t){o(e),a(t)},[])]}(),F=He(E,3),K=F[0],M=F[1],z=F[2],L=He(eW(o,X,Y),6),D=L[0],T=L[1],j=L[2],O=L[3],U=L[4],Q=L[5],$=null===s||void 0===s?void 0:s.x,P=He(t.useState(0),2),q=P[0],_=P[1],ee=He(_k(Ee(Ee(Ee({},o),D),{},{expandable:!!D.expandedRowRender,columnTitle:D.columnTitle,expandedKeys:j,getRowKey:Y,onTriggerExpand:Q,expandIcon:O,expandIconColumnIndex:D.expandIconColumnIndex,direction:I,scrollWidth:H&&k&&"number"===typeof $?$:null,clientWidth:q}),H?S:null),4),te=ee[0],ne=ee[1],oe=ee[2],le=ee[3],re=null!==oe&&void 0!==oe?oe:$,ae=t.useMemo(function(){return{columns:te,flattenColumns:ne}},[te,ne]),ie=t.useRef(),ge=t.useRef(),ce=t.useRef(),se=t.useRef();t.useImperativeHandle(n,function(){return{nativeElement:ie.current,scrollTo:function(e){var t,n;if(ce.current instanceof HTMLElement){var o=e.index,l=e.top,r=e.key;if("number"!==typeof(n=l)||Number.isNaN(n)){var a,i=null!==r&&void 0!==r?r:Y(X[o]);null===(a=ce.current.querySelector('[data-row-key="'.concat(i,'"]')))||void 0===a||a.scrollIntoView()}else{var g;null===(g=ce.current)||void 0===g||g.scrollTo({top:l})}}else null!==(t=ce.current)&&void 0!==t&&t.scrollTo&&ce.current.scrollTo(e)}}});var de,Ie,Ce,ue=t.useRef(),me=He(t.useState(!1),2),Ae=me[0],be=me[1],pe=He(t.useState(!1),2),he=pe[0],fe=pe[1],ye=He(t.useState(new Map),2),ve=ye[0],Ze=ye[1],Ge=mk(ne).map(function(e){return ve.get(e)}),Se=t.useMemo(function(){return Ge},[Ge.join("_")]),Be=nW(Se,ne,I),We=s&&Ak(s.y),Re=s&&Ak(re)||Boolean(D.fixed),we=Re&&ne.some(function(e){return e.fixed}),Xe=t.useRef(),Je=function(e,n){var o="object"===ke(e)?e:{},l=o.offsetHeader,r=void 0===l?0:l,a=o.offsetSummary,i=void 0===a?0:a,g=o.offsetScroll,c=void 0===g?0:g,s=o.getContainer,d=(void 0===s?function(){return tW}:s)()||tW,I=!!e;return t.useMemo(function(){return{isSticky:I,stickyClassName:I?"".concat(n,"-sticky-holder"):"",offsetHeader:r,offsetSummary:i,offsetScroll:c,container:d}},[I,c,r,i,n,d])}(V,l),xe=Je.isSticky,Ye=Je.offsetHeader,Ne=Je.offsetSummary,Fe=Je.offsetScroll,Ke=Je.stickyClassName,Me=Je.container,ze=t.useMemo(function(){return null===m||void 0===m?void 0:m(X)},[m,X]),Le=(We||xe)&&t.isValidElement(ze)&&ze.type===Gk&&ze.props.fixed;We&&(Ie={overflowY:J?"scroll":"auto",maxHeight:s.y}),Re&&(de={overflowX:"auto"},We||(Ie={overflowY:"hidden"}),Ce={width:!0===re?"auto":re,minWidth:"100%"});var De=t.useCallback(function(e,t){Ze(function(n){if(n.get(e)!==t){var o=new Map(n);return o.set(e,t),o}return n})},[]),Te=He(function(e){var n=(0,t.useRef)(e||null),o=(0,t.useRef)();function l(){window.clearTimeout(o.current)}return(0,t.useEffect)(function(){return l},[]),[function(e){n.current=e,l(),o.current=window.setTimeout(function(){n.current=null,o.current=void 0},100)},function(){return n.current}]}(null),2),je=Te[0],Oe=Te[1];function Ue(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout(function(){t.scrollLeft=e},0)))}var Qe=yr(function(e){var t,n=e.currentTarget,o=e.scrollLeft,l="rtl"===I,r="number"===typeof o?o:n.scrollLeft,a=n||IW;Oe()&&Oe()!==a||(je(a),Ue(r,ge.current),Ue(r,ce.current),Ue(r,ue.current),Ue(r,null===(t=Xe.current)||void 0===t?void 0:t.setScrollLeft));var i=n||ge.current;if(i){var g=H&&k&&"number"===typeof re?re:i.scrollWidth,c=i.clientWidth;if(g===c)return be(!1),void fe(!1);l?(be(-r<g-c),fe(-r>0)):(be(r>0),fe(r<g-c))}}),$e=yr(function(e){Qe(e),null===Z||void 0===Z||Z(e)}),Pe=function(){var e;Re&&ce.current?Qe({currentTarget:Ql(ce.current),scrollLeft:null===(e=ce.current)||void 0===e?void 0:e.scrollLeft}):(be(!1),fe(!1))},_e=t.useRef(!1);t.useEffect(function(){_e.current&&Pe()},[Re,g,te.length]),t.useEffect(function(){_e.current=!0},[]);var et=He(t.useState(0),2),tt=et[0],nt=et[1],ot=He(t.useState(!0),2),lt=ot[0],rt=ot[1];Ft(function(){k&&H||(ce.current instanceof Element?nt(gc(ce.current).width):nt(gc(se.current).width)),rt(ec("position","sticky"))},[]),t.useEffect(function(){H&&B&&(B.body.current=ce.current)});var it,gt=t.useCallback(function(e){return t.createElement(t.Fragment,null,t.createElement(jk,e),"top"===Le&&t.createElement(Sk,e,ze))},[Le,ze]),ct=t.useCallback(function(e){return t.createElement(Sk,e,ze)},[ze]),st=x(["table"],"table"),dt=t.useMemo(function(){return d||(we?"max-content"===re?"auto":"fixed":We||xe||ne.some(function(e){return e.ellipsis})?"fixed":"auto")},[We,we,ne,d,xe]),It={colWidths:Se,columCount:ne.length,stickyOffsets:Be,onHeaderRow:v,fixHeader:We,scroll:s},Ct=t.useMemo(function(){return J?null:"function"===typeof f?f():f},[J,f]),ut=t.createElement(Nk,{data:X,measureColumnWidth:We||Re||xe}),mt=t.createElement(Mk,{colWidths:ne.map(function(e){return e.width}),columns:ne}),At=null!==A&&void 0!==A?t.createElement("caption",{className:"".concat(l,"-caption")},A):void 0,bt=My(o,{data:!0}),pt=My(o,{aria:!0});if(We||xe){var ht;"function"===typeof N?(ht=N(X,{scrollbarSize:tt,ref:ce,onScroll:Qe}),It.colWidths=ne.map(function(e,t){var n=e.width,o=t===ne.length-1?n-tt:n;return"number"!==typeof o||Number.isNaN(o)?0:o})):ht=t.createElement("div",{style:Ee(Ee({},de),Ie),onScroll:$e,ref:ce,className:Ol()("".concat(l,"-body"))},t.createElement(st,$t({style:Ee(Ee({},Ce),{},{tableLayout:dt})},pt),At,mt,ut,!Le&&ze&&t.createElement(Sk,{stickyOffsets:Be,flattenColumns:ne},ze)));var ft=Ee(Ee(Ee({noData:!X.length,maxContentScroll:Re&&"max-content"===re},It),ae),{},{direction:I,stickyClassName:Ke,onScroll:Qe});it=t.createElement(t.Fragment,null,!1!==p&&t.createElement(Dk,$t({},ft,{stickyTopOffset:Ye,className:"".concat(l,"-header"),ref:ge}),gt),ht,Le&&"top"!==Le&&t.createElement(Dk,$t({},ft,{stickyBottomOffset:Ne,className:"".concat(l,"-summary"),ref:ue}),ct),xe&&ce.current&&ce.current instanceof Element&&t.createElement(iW,{ref:Xe,offsetScroll:Fe,scrollBodyRef:ce,onScroll:Qe,container:Me,direction:I}))}else it=t.createElement("div",{style:Ee(Ee({},de),Ie),className:Ol()("".concat(l,"-content")),onScroll:Qe,ref:ce},t.createElement(st,$t({style:Ee(Ee({},Ce),{},{tableLayout:dt})},pt),At,mt,!1!==p&&t.createElement(jk,$t({},It,ae)),ut,ze&&t.createElement(Sk,{stickyOffsets:Be,flattenColumns:ne},ze)));var yt=t.createElement("div",$t({className:Ol()(l,r,Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve({},"".concat(l,"-rtl"),"rtl"===I),"".concat(l,"-ping-left"),Ae),"".concat(l,"-ping-right"),he),"".concat(l,"-layout-fixed"),"fixed"===d),"".concat(l,"-fixed-header"),We),"".concat(l,"-fixed-column"),we),"".concat(l,"-fixed-column-gapped"),we&&le),"".concat(l,"-scroll-horizontal"),Re),"".concat(l,"-has-fix-left"),ne[0]&&ne[0].fixed),"".concat(l,"-has-fix-right"),ne[ne.length-1]&&"right"===ne[ne.length-1].fixed)),style:i,id:b,ref:ie},bt),C&&t.createElement(oW,{className:"".concat(l,"-title")},C(X)),t.createElement("div",{ref:se,className:"".concat(l,"-container")},it),u&&t.createElement(oW,{className:"".concat(l,"-footer")},u(X)));Re&&(yt=t.createElement(qg,{onResize:function(e){var t,n=e.width;null===(t=Xe.current)||void 0===t||t.checkScrollBarVisible();var o=ie.current?ie.current.offsetWidth:n;H&&W&&ie.current&&(o=W(ie.current,o)||o),o!==q&&(Pe(),_(o))}},yt));var vt=function(e,t,n){var o=e.map(function(o,l){return fk(l,l,e,t,n)});return qe(function(){return o},[o],function(e,t){return!at(e,t)})}(ne,Be,I),Zt=t.useMemo(function(){return{scrollX:re,prefixCls:l,getComponent:x,scrollbarSize:tt,direction:I,fixedInfoList:vt,isSticky:xe,supportSticky:lt,componentWidth:q,fixHeader:We,fixColumn:we,horizonScroll:Re,tableLayout:dt,rowClassName:a,expandedRowClassName:D.expandedRowClassName,expandIcon:O,expandableType:T,expandRowByClick:D.expandRowByClick,expandedRowRender:D.expandedRowRender,expandedRowOffset:D.expandedRowOffset,onTriggerExpand:Q,expandIconColumnIndex:D.expandIconColumnIndex,indentSize:D.indentSize,allColumnsFixedLeft:ne.every(function(e){return"left"===e.fixed}),emptyNode:Ct,columns:te,flattenColumns:ne,onColumnResize:De,colWidths:Se,hoverStartRow:K,hoverEndRow:M,onHover:z,rowExpandable:D.rowExpandable,onRow:y,getRowKey:Y,expandedKeys:j,childrenColumnName:U,rowHoverable:w}},[re,l,x,tt,I,vt,xe,lt,q,We,we,Re,dt,a,D.expandedRowClassName,O,T,D.expandRowByClick,D.expandedRowRender,D.expandedRowOffset,Q,D.expandIconColumnIndex,D.indentSize,Ct,te,ne,De,Se,K,M,z,D.rowExpandable,y,Y,j,U,w]);return t.createElement(Ck.Provider,{value:Zt},yt)}var mW=t.forwardRef(uW);function AW(e){return sk(mW,e)}var bW=AW();bW.EXPAND_COLUMN=ok,bW.INTERNAL_HOOKS=lk,bW.Column=gW,bW.ColumnGroup=cW,bW.Summary=Bk;const pW=bW;var hW=rk(null),fW=rk(null);const yW=function(e){var n=e.rowInfo,o=e.column,l=e.colIndex,r=e.indent,a=e.index,i=e.component,g=e.renderIndex,c=e.record,s=e.style,d=e.className,I=e.inverse,C=e.getHeight,u=o.render,m=o.dataIndex,A=o.className,b=o.width,p=ak(fW,["columnsOffset"]).columnsOffset,h=Jk(n,o,l,r,a),f=h.key,y=h.fixedInfo,v=h.appendCellNode,Z=h.additionalCellProps,G=Z.style,S=Z.colSpan,B=void 0===S?1:S,k=Z.rowSpan,W=void 0===k?1:k,V=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(l-1,B,p),R=B>1?b-V:0,w=Ee(Ee(Ee({},G),s),{},{flex:"0 0 ".concat(V,"px"),width:"".concat(V,"px"),marginRight:R,pointerEvents:"auto"}),X=t.useMemo(function(){return I?W<=1:0===B||0===W||W>1},[W,B,I]);X?w.visibility="hidden":I&&(w.height=null===C||void 0===C?void 0:C(W));var J=X?function(){return null}:u,H={};return 0!==W&&0!==B||(H.rowSpan=1,H.colSpan=1),t.createElement(hk,$t({className:Ol()(A,d),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:i,prefixCls:n.prefixCls,key:f,record:c,index:a,renderIndex:g,dataIndex:m,render:J,shouldCellUpdate:o.shouldCellUpdate},y,{appendNode:v,additionalProps:Ee(Ee({},Z),{},{style:w},H)}))};var vW=["data","index","className","rowKey","style","extra","getHeight"],ZW=t.forwardRef(function(e,n){var o,l=e.data,r=e.index,a=e.className,i=e.rowKey,g=e.style,c=e.extra,s=e.getHeight,d=cr(e,vW),I=l.record,C=l.indent,u=l.index,m=ak(Ck,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),A=m.scrollX,b=m.flattenColumns,p=m.prefixCls,h=m.fixColumn,f=m.componentWidth,y=ak(hW,["getComponent"]).getComponent,v=Vk(I,i,r,C),Z=y(["body","row"],"div"),G=y(["body","cell"],"div"),S=v.rowSupportExpand,B=v.expanded,k=v.rowProps,W=v.expandedRowRender,V=v.expandedRowClassName;if(S&&B){var R=W(I,r,C+1,B),w=Xk(V,I,r,C),X={};h&&(X={style:Ve({},"--virtual-width","".concat(f,"px"))});var J="".concat(p,"-expanded-row-cell");o=t.createElement(Z,{className:Ol()("".concat(p,"-expanded-row"),"".concat(p,"-expanded-row-level-").concat(C+1),w)},t.createElement(hk,{component:G,prefixCls:p,className:Ol()(J,Ve({},"".concat(J,"-fixed"),h)),additionalProps:X},R))}var H=Ee(Ee({},g),{},{width:A});c&&(H.position="absolute",H.pointerEvents="none");var x=t.createElement(Z,$t({},k,d,{"data-row-key":i,ref:S?null:n,className:Ol()(a,"".concat(p,"-row"),null===k||void 0===k?void 0:k.className,Ve({},"".concat(p,"-row-extra"),c)),style:Ee(Ee({},H),null===k||void 0===k?void 0:k.style)}),b.map(function(e,n){return t.createElement(yW,{key:n,component:G,rowInfo:v,column:e,colIndex:n,indent:C,index:r,renderIndex:u,record:I,inverse:c,getHeight:s})}));return S?t.createElement("div",{ref:n},x,o):x});const GW=dk(ZW);var SW=t.forwardRef(function(e,n){var o=e.data,l=e.onScroll,r=ak(Ck,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),a=r.flattenColumns,i=r.onColumnResize,g=r.getRowKey,c=r.expandedKeys,s=r.prefixCls,d=r.childrenColumnName,I=r.scrollX,C=r.direction,u=ak(hW),m=u.sticky,A=u.scrollY,b=u.listItemHeight,p=u.getComponent,h=u.onScroll,f=t.useRef(),y=Wk(o,d,c,g),v=t.useMemo(function(){var e=0;return a.map(function(t){var n=t.width;return[t.key,n,e+=n]})},[a]),Z=t.useMemo(function(){return v.map(function(e){return e[2]})},[v]);t.useEffect(function(){v.forEach(function(e){var t=He(e,2),n=t[0],o=t[1];i(n,o)})},[v]),t.useImperativeHandle(n,function(){var e,t={scrollTo:function(e){var t;null===(t=f.current)||void 0===t||t.scrollTo(e)},nativeElement:null===(e=f.current)||void 0===e?void 0:e.nativeElement};return Object.defineProperty(t,"scrollLeft",{get:function(){var e;return(null===(e=f.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var t;null===(t=f.current)||void 0===t||t.scrollTo({left:e})}}),t});var G=function(e,t){var n,o=null===(n=y[t])||void 0===n?void 0:n.record,l=e.onCell;if(l){var r,a=l(o,t);return null!==(r=null===a||void 0===a?void 0:a.rowSpan)&&void 0!==r?r:1}return 1},S=t.useMemo(function(){return{columnsOffset:Z}},[Z]),B="".concat(s,"-tbody"),k=p(["body","wrapper"]),W={};return m&&(W.position="sticky",W.bottom=0,"object"===ke(m)&&m.offsetScroll&&(W.bottom=m.offsetScroll)),t.createElement(fW.Provider,{value:S},t.createElement(WZ,{fullHeight:!1,ref:f,prefixCls:"".concat(B,"-virtual"),styles:{horizontalScrollBar:W},className:B,height:A,itemHeight:b||24,data:y,itemKey:function(e){return g(e.record)},component:k,scrollWidth:I,direction:C,onVirtualScroll:function(e){var t,n=e.x;l({currentTarget:null===(t=f.current)||void 0===t?void 0:t.nativeElement,scrollLeft:n})},onScroll:h,extraRender:function(e){var n=e.start,o=e.end,l=e.getSize,r=e.offsetY;if(o<0)return null;for(var i=a.filter(function(e){return 0===G(e,n)}),c=n,s=function(e){if(i=i.filter(function(t){return 0===G(t,e)}),!i.length)return c=e,1},d=n;d>=0&&!s(d);d-=1);for(var I=a.filter(function(e){return 1!==G(e,o)}),C=o,u=function(e){if(I=I.filter(function(t){return 1!==G(t,e)}),!I.length)return C=Math.max(e-1,o),1},m=o;m<y.length&&!u(m);m+=1);for(var A=[],b=function(e){if(!y[e])return 1;a.some(function(t){return G(t,e)>1})&&A.push(e)},p=c;p<=C;p+=1)b(p);var h=A.map(function(e){var n=y[e],o=g(n.record,e),a=l(o);return t.createElement(GW,{key:e,data:n,rowKey:o,index:e,style:{top:-r+a.top},extra:!0,getHeight:function(t){var n=e+t-1,r=g(y[n].record,n),a=l(o,r);return a.bottom-a.top}})});return h}},function(e,n,o){var l=g(e.record,n);return t.createElement(GW,{data:e,rowKey:l,index:n,style:o.style})}))});const BW=dk(SW);var kW=function(e,n){var o=n.ref,l=n.onScroll;return t.createElement(BW,{ref:o,data:e,onScroll:l})};function WW(e,n){var o=e.data,l=e.columns,r=e.scroll,a=e.sticky,i=e.prefixCls,g=void 0===i?sW:i,c=e.className,s=e.listItemHeight,d=e.components,I=e.onScroll,C=r||{},u=C.x,m=C.y;"number"!==typeof u&&(u=1),"number"!==typeof m&&(m=500);var A=yr(function(e,t){return ao(d,e)||t}),b=yr(I),p=t.useMemo(function(){return{sticky:a,scrollY:m,listItemHeight:s,getComponent:A,onScroll:b}},[a,m,s,A,b]);return t.createElement(hW.Provider,{value:p},t.createElement(pW,$t({},e,{className:Ol()(c,"".concat(g,"-virtual")),scroll:Ee(Ee({},r),{},{x:u}),components:Ee(Ee({},d),{},{body:null!==o&&void 0!==o&&o.length?kW:void 0}),columns:l,internalHooks:lk,tailor:!0,ref:n})))}var VW=t.forwardRef(WW);function RW(e){return sk(VW,e)}RW();const wW=e=>null,XW=e=>null;var JW=t.createContext(null),HW=t.createContext({}),xW=function(e){for(var n=e.prefixCls,o=e.level,l=e.isStart,r=e.isEnd,a="".concat(n,"-indent-unit"),i=[],g=0;g<o;g+=1)i.push(t.createElement("span",{key:g,className:Ol()(a,Ve(Ve({},"".concat(a,"-start"),l[g]),"".concat(a,"-end"),r[g]))}));return t.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},i)};const YW=t.memo(xW);function NW(e,t){return e[t]}var EW=["children"];function FW(e,t){return"".concat(e,"-").concat(t)}function KW(e,t){return null!==e&&void 0!==e?e:t}function MW(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function zW(e){return function e(t){return _a(t).map(function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return rt(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,o=t.props,l=o.children,r=Ee({key:n},cr(o,EW)),a=e(l);return a.length&&(r.children=a),r}).filter(function(e){return e})}(e)}function LW(e,t,n){var o=MW(n),l=o._title,r=o.key,a=o.children,i=new Set(!0===t?[]:t),g=[];return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map(function(c,s){for(var d,I=FW(o?o.pos:"0",s),C=KW(c[r],I),u=0;u<l.length;u+=1){var m=l[u];if(void 0!==c[m]){d=c[m];break}}var A=Object.assign(Pa(c,[].concat(Ye(l),[r,a])),{title:d,key:C,parent:o,pos:I,children:null,data:c,isStart:[].concat(Ye(o?o.isStart:[]),[0===s]),isEnd:[].concat(Ye(o?o.isEnd:[]),[s===n.length-1])});return g.push(A),!0===t||i.has(C)?A.children=e(c[a]||[],A):A.children=[],A})}(e),g}function DW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,l=t.onProcessFinished,r=t.externalGetKey,a=t.childrenPropName,i=t.fieldNames,g=r||(arguments.length>2?arguments[2]:void 0),c={},s={},d={posEntities:c,keyEntities:s};return n&&(d=n(d)||d),function(e,t,n){var o,l=("object"===ke(n)?n:{externalGetKey:n})||{},r=l.childrenPropName,a=l.externalGetKey,i=MW(l.fieldNames),g=i.key,c=i.children,s=r||c;a?"string"===typeof a?o=function(e){return e[a]}:"function"===typeof a&&(o=function(e){return a(e)}):o=function(e,t){return KW(e[g],t)},function n(l,r,a,i){var g=l?l[s]:e,c=l?FW(a.pos,r):"0",d=l?[].concat(Ye(i),[l]):[];if(l){var I=o(l,c),C={node:l,index:r,pos:c,key:I,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(C)}g&&g.forEach(function(e,t){n(e,t,{node:l,pos:c,level:a?a.level+1:-1},d)})}(null)}(e,function(e){var t=e.node,n=e.index,l=e.pos,r=e.key,a=e.parentPos,i=e.level,g={node:t,nodes:e.nodes,index:n,key:r,pos:l,level:i},I=KW(r,l);c[l]=g,s[I]=g,g.parent=c[a],g.parent&&(g.parent.children=g.parent.children||[],g.parent.children.push(g)),o&&o(g,d)},{externalGetKey:g,childrenPropName:a,fieldNames:i}),l&&l(d),d}function TW(e,t){var n=t.expandedKeys,o=t.selectedKeys,l=t.loadedKeys,r=t.loadingKeys,a=t.checkedKeys,i=t.halfCheckedKeys,g=t.dragOverNodeKey,c=t.dropPosition,s=NW(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==l.indexOf(e),loading:-1!==r.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==i.indexOf(e),pos:String(s?s.pos:""),dragOver:g===e&&0===c,dragOverGapTop:g===e&&-1===c,dragOverGapBottom:g===e&&1===c}}function jW(e){var t=e.data,n=e.expanded,o=e.selected,l=e.checked,r=e.loaded,a=e.loading,i=e.halfChecked,g=e.dragOver,c=e.dragOverGapTop,s=e.dragOverGapBottom,d=e.pos,I=e.active,C=e.eventKey,u=Ee(Ee({},t),{},{expanded:n,selected:o,checked:l,loaded:r,loading:a,halfChecked:i,dragOver:g,dragOverGapTop:c,dragOverGapBottom:s,pos:d,active:I,key:C});return"props"in u||Object.defineProperty(u,"props",{get:function(){return rt(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),u}var OW=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],UW="open",QW="close",$W=function(e){var n,o,l,r=e.eventKey,a=e.className,i=e.style,g=e.dragOver,c=e.dragOverGapTop,s=e.dragOverGapBottom,d=e.isLeaf,I=e.isStart,C=e.isEnd,u=e.expanded,m=e.selected,A=e.checked,b=e.halfChecked,p=e.loading,h=e.domRef,f=e.active,y=e.data,v=e.onMouseMove,Z=e.selectable,G=cr(e,OW),S=t.useContext(JW),B=t.useContext(HW),k=t.useRef(null),W=He(t.useState(!1),2),V=W[0],R=W[1],w=!!(S.disabled||e.disabled||null!==(n=B.nodeDisabled)&&void 0!==n&&n.call(B,y)),X=t.useMemo(function(){return!(!S.checkable||!1===e.checkable)&&S.checkable},[S.checkable,e.checkable]),J=function(t){w||X&&!e.disableCheckbox&&S.onNodeCheck(t,jW(e),!A)},H=t.useMemo(function(){return"boolean"===typeof Z?Z:S.selectable},[Z,S.selectable]),x=function(t){S.onNodeClick(t,jW(e)),H?function(t){w||S.onNodeSelect(t,jW(e))}(t):J(t)},Y=function(t){S.onNodeDoubleClick(t,jW(e))},N=function(t){S.onNodeMouseEnter(t,jW(e))},E=function(t){S.onNodeMouseLeave(t,jW(e))},F=function(t){S.onNodeContextMenu(t,jW(e))},K=t.useMemo(function(){return!(!S.draggable||S.draggable.nodeDraggable&&!S.draggable.nodeDraggable(y))},[S.draggable,y]),M=function(t){p||S.onNodeExpand(t,jW(e))},z=t.useMemo(function(){var e=(NW(S.keyEntities,r)||{}).children;return Boolean((e||[]).length)},[S.keyEntities,r]),L=t.useMemo(function(){return!1!==d&&(d||!S.loadData&&!z||S.loadData&&e.loaded&&!z)},[d,S.loadData,z,e.loaded]);t.useEffect(function(){p||"function"!==typeof S.loadData||!u||L||e.loaded||S.onNodeLoad(jW(e))},[p,S.loadData,S.onNodeLoad,u,L,e]);var D=t.useMemo(function(){var e;return null!==(e=S.draggable)&&void 0!==e&&e.icon?t.createElement("span",{className:"".concat(S.prefixCls,"-draggable-icon")},S.draggable.icon):null},[S.draggable]),T=function(t){var n=e.switcherIcon||S.switcherIcon;return"function"===typeof n?n(Ee(Ee({},e),{},{isLeaf:t})):n},j=t.useMemo(function(){if(!X)return null;var n="boolean"!==typeof X?X:null;return t.createElement("span",{className:Ol()("".concat(S.prefixCls,"-checkbox"),Ve(Ve(Ve({},"".concat(S.prefixCls,"-checkbox-checked"),A),"".concat(S.prefixCls,"-checkbox-indeterminate"),!A&&b),"".concat(S.prefixCls,"-checkbox-disabled"),w||e.disableCheckbox)),onClick:J,role:"checkbox","aria-checked":b?"mixed":A,"aria-disabled":w||e.disableCheckbox,"aria-label":"Select ".concat("string"===typeof e.title?e.title:"tree node")},n)},[X,A,b,w,e.disableCheckbox,e.title]),O=t.useMemo(function(){return L?null:u?UW:QW},[L,u]),U=t.useMemo(function(){return t.createElement("span",{className:Ol()("".concat(S.prefixCls,"-iconEle"),"".concat(S.prefixCls,"-icon__").concat(O||"docu"),Ve({},"".concat(S.prefixCls,"-icon_loading"),p))})},[S.prefixCls,O,p]),Q=t.useMemo(function(){var t=Boolean(S.draggable);return!e.disabled&&t&&S.dragOverNodeKey===r?S.dropIndicatorRender({dropPosition:S.dropPosition,dropLevelOffset:S.dropLevelOffset,indent:S.indent,prefixCls:S.prefixCls,direction:S.direction}):null},[S.dropPosition,S.dropLevelOffset,S.indent,S.prefixCls,S.direction,S.draggable,S.dragOverNodeKey,S.dropIndicatorRender]),$=t.useMemo(function(){var n,o,l=e.title,r=void 0===l?"---":l,a="".concat(S.prefixCls,"-node-content-wrapper");if(S.showIcon){var i=e.icon||S.icon;n=i?t.createElement("span",{className:Ol()("".concat(S.prefixCls,"-iconEle"),"".concat(S.prefixCls,"-icon__customize"))},"function"===typeof i?i(e):i):U}else S.loadData&&p&&(n=U);return o="function"===typeof r?r(y):S.titleRender?S.titleRender(y):r,t.createElement("span",{ref:k,title:"string"===typeof r?r:"",className:Ol()(a,"".concat(a,"-").concat(O||"normal"),Ve({},"".concat(S.prefixCls,"-node-selected"),!w&&(m||V))),onMouseEnter:N,onMouseLeave:E,onContextMenu:F,onClick:x,onDoubleClick:Y},n,t.createElement("span",{className:"".concat(S.prefixCls,"-title")},o),Q)},[S.prefixCls,S.showIcon,e,S.icon,U,S.titleRender,y,O,N,E,F,x,Y]),P=My(G,{aria:!0,data:!0}),q=(NW(S.keyEntities,r)||{}).level,_=C[C.length-1],ee=!w&&K,te=S.draggingNodeKey===r,ne=void 0!==Z?{"aria-selected":!!Z}:void 0;return t.createElement("div",$t({ref:h,role:"treeitem","aria-expanded":d?void 0:u,className:Ol()(a,"".concat(S.prefixCls,"-treenode"),(l={},Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(Ve(l,"".concat(S.prefixCls,"-treenode-disabled"),w),"".concat(S.prefixCls,"-treenode-switcher-").concat(u?"open":"close"),!d),"".concat(S.prefixCls,"-treenode-checkbox-checked"),A),"".concat(S.prefixCls,"-treenode-checkbox-indeterminate"),b),"".concat(S.prefixCls,"-treenode-selected"),m),"".concat(S.prefixCls,"-treenode-loading"),p),"".concat(S.prefixCls,"-treenode-active"),f),"".concat(S.prefixCls,"-treenode-leaf-last"),_),"".concat(S.prefixCls,"-treenode-draggable"),K),"dragging",te),Ve(Ve(Ve(Ve(Ve(Ve(Ve(l,"drop-target",S.dropTargetKey===r),"drop-container",S.dropContainerKey===r),"drag-over",!w&&g),"drag-over-gap-top",!w&&c),"drag-over-gap-bottom",!w&&s),"filter-node",null===(o=S.filterTreeNode)||void 0===o?void 0:o.call(S,jW(e))),"".concat(S.prefixCls,"-treenode-leaf"),L))),style:i,draggable:ee,onDragStart:ee?function(t){t.stopPropagation(),R(!0),S.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(n){}}:void 0,onDragEnter:K?function(t){t.preventDefault(),t.stopPropagation(),S.onNodeDragEnter(t,e)}:void 0,onDragOver:K?function(t){t.preventDefault(),t.stopPropagation(),S.onNodeDragOver(t,e)}:void 0,onDragLeave:K?function(t){t.stopPropagation(),S.onNodeDragLeave(t,e)}:void 0,onDrop:K?function(t){t.preventDefault(),t.stopPropagation(),R(!1),S.onNodeDrop(t,e)}:void 0,onDragEnd:K?function(t){t.stopPropagation(),R(!1),S.onNodeDragEnd(t,e)}:void 0,onMouseMove:v},ne,P),t.createElement(YW,{prefixCls:S.prefixCls,level:q,isStart:I,isEnd:C}),D,function(){if(L){var e=T(!0);return!1!==e?t.createElement("span",{className:Ol()("".concat(S.prefixCls,"-switcher"),"".concat(S.prefixCls,"-switcher-noop"))},e):null}var n=T(!1);return!1!==n?t.createElement("span",{onClick:M,className:Ol()("".concat(S.prefixCls,"-switcher"),"".concat(S.prefixCls,"-switcher_").concat(u?UW:QW))},n):null}(),j,$)};$W.isTreeNode=1;const PW=$W;function qW(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function _W(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function eV(e){return e.split("-")}function tV(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){var o=t.key,l=t.children;n.push(o),e(l)})}(NW(t,e).children),n}function nV(e){if(e.parent){var t=eV(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function oV(e,t,n,o,l,r,a,i,g,c){var s,d=e.clientX,I=e.clientY,C=e.target.getBoundingClientRect(),u=C.top,m=C.height,A=(("rtl"===c?-1:1)*(((null===l||void 0===l?void 0:l.x)||0)-d)-12)/o,b=g.filter(function(e){var t;return null===(t=i[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length}),p=NW(i,n.eventKey);if(I<u+m/2){var h=a.findIndex(function(e){return e.key===p.key}),f=a[h<=0?0:h-1].key;p=NW(i,f)}var y=p.key,v=p,Z=p.key,G=0,S=0;if(!b.includes(y))for(var B=0;B<A&&nV(p);B+=1)p=p.parent,S+=1;var k=t.data,W=p.node,V=!0;return function(e){var t=eV(e.pos);return 0===Number(t[t.length-1])}(p)&&0===p.level&&I<u+m/2&&r({dragNode:k,dropNode:W,dropPosition:-1})&&p.key===n.eventKey?G=-1:(v.children||[]).length&&b.includes(Z)?r({dragNode:k,dropNode:W,dropPosition:0})?G=0:V=!1:0===S?A>-1.5?r({dragNode:k,dropNode:W,dropPosition:1})?G=1:V=!1:r({dragNode:k,dropNode:W,dropPosition:0})?G=0:r({dragNode:k,dropNode:W,dropPosition:1})?G=1:V=!1:r({dragNode:k,dropNode:W,dropPosition:1})?G=1:V=!1,{dropPosition:G,dropLevelOffset:S,dropTargetKey:p.key,dropTargetPos:p.pos,dragOverNodeKey:Z,dropContainerKey:0===G?null:(null===(s=p.parent)||void 0===s?void 0:s.key)||null,dropAllowed:V}}function lV(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function rV(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==ke(e))return rt(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function aV(e,t){var n=new Set;function o(e){if(!n.has(e)){var l=NW(t,e);if(l){n.add(e);var r=l.parent;l.node.disabled||r&&o(r.key)}}}return(e||[]).forEach(function(e){o(e)}),Ye(n)}function iV(e,t){var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function gV(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,l=t.checkable;return!(!n&&!o)||!1===l}function cV(e,t,n,o){var l,r=[];l=o||gV;var a,i=new Set(e.filter(function(e){var t=!!NW(n,e);return t||r.push(e),t})),g=new Map,c=0;return Object.keys(n).forEach(function(e){var t=n[e],o=t.level,l=g.get(o);l||(l=new Set,g.set(o,l)),l.add(t),c=Math.max(c,o)}),rt(!r.length,"Tree missing follow keys: ".concat(r.slice(0,100).map(function(e){return"'".concat(e,"'")}).join(", "))),a=!0===t?function(e,t,n,o){for(var l=new Set(e),r=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach(function(e){var t=e.key,n=e.node,r=e.children,a=void 0===r?[]:r;l.has(t)&&!o(n)&&a.filter(function(e){return!o(e.node)}).forEach(function(e){l.add(e.key)})});for(var i=new Set,g=n;g>=0;g-=1)(t.get(g)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!i.has(e.parent.key))if(o(e.parent.node))i.add(t.key);else{var a=!0,g=!1;(t.children||[]).filter(function(e){return!o(e.node)}).forEach(function(e){var t=e.key,n=l.has(t);a&&!n&&(a=!1),g||!n&&!r.has(t)||(g=!0)}),a&&l.add(t.key),g&&r.add(t.key),i.add(t.key)}});return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(iV(r,l))}}(i,g,c,l):function(e,t,n,o,l){for(var r=new Set(e),a=new Set(t),i=0;i<=o;i+=1)(n.get(i)||new Set).forEach(function(e){var t=e.key,n=e.node,o=e.children,i=void 0===o?[]:o;r.has(t)||a.has(t)||l(n)||i.filter(function(e){return!l(e.node)}).forEach(function(e){r.delete(e.key)})});a=new Set;for(var g=new Set,c=o;c>=0;c-=1)(n.get(c)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!l(n)&&e.parent&&!g.has(e.parent.key))if(l(e.parent.node))g.add(t.key);else{var o=!0,i=!1;(t.children||[]).filter(function(e){return!l(e.node)}).forEach(function(e){var t=e.key,n=r.has(t);o&&!n&&(o=!1),i||!n&&!a.has(t)||(i=!0)}),o||r.delete(t.key),i&&a.add(t.key),g.add(t.key)}});return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(iV(a,r))}}(i,t.halfCheckedKeys,g,c,l),a}var sV=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],dV=(0,t.forwardRef)(function(e,n){var o=e.prefixCls,l=void 0===o?"rc-checkbox":o,r=e.className,a=e.style,i=e.checked,g=e.disabled,c=e.defaultChecked,s=void 0!==c&&c,d=e.type,I=void 0===d?"checkbox":d,C=e.title,u=e.onChange,m=cr(e,sV),A=(0,t.useRef)(null),b=(0,t.useRef)(null),p=He(Gr(s,{value:i}),2),h=p[0],f=p[1];(0,t.useImperativeHandle)(n,function(){return{focus:function(e){var t;null===(t=A.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=A.current)||void 0===e||e.blur()},input:A.current,nativeElement:b.current}});var y=Ol()(l,r,Ve(Ve({},"".concat(l,"-checked"),h),"".concat(l,"-disabled"),g));return t.createElement("span",{className:y,title:C,style:a,ref:b},t.createElement("input",$t({},m,{className:"".concat(l,"-input"),ref:A,onChange:function(t){g||("checked"in e||f(t.target.checked),null===u||void 0===u||u({target:Ee(Ee({},e),{},{type:I,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:g,checked:!!h,type:I})),t.createElement("span",{className:"".concat(l,"-inner")}))});const IV=dV,CV=t.createContext(null),uV=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Ja(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Ja(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Ja(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},Ha(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${wt(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function mV(e,t){const n=Ni(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[uV(n)]}const AV=Ui("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[mV(n,e)]});function bV(e){const n=t.useRef(null),o=()=>{ea.cancel(n.current),n.current=null};return[()=>{o(),n.current=ea(()=>{n.current=null})},t=>{n.current&&(t.stopPropagation(),o()),null===e||void 0===e||e(t)}]}var pV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const hV=(e,n)=>{var o;const{prefixCls:l,className:r,rootClassName:a,children:i,indeterminate:g=!1,style:c,onMouseEnter:s,onMouseLeave:d,skipGroup:I=!1,disabled:C}=e,u=pV(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:A,checkbox:b}=t.useContext(Rl),p=t.useContext(CV),{isFormItemInput:h}=t.useContext(kd),f=t.useContext(El),y=null!==(o=(null===p||void 0===p?void 0:p.disabled)||C)&&void 0!==o?o:f,v=t.useRef(u.value),Z=t.useRef(null),G=lr(n,Z);t.useEffect(()=>{null===p||void 0===p||p.registerValue(u.value)},[]),t.useEffect(()=>{if(!I)return u.value!==v.current&&(null===p||void 0===p||p.cancelValue(v.current),null===p||void 0===p||p.registerValue(u.value),v.current=u.value),()=>null===p||void 0===p?void 0:p.cancelValue(u.value)},[u.value]),t.useEffect(()=>{var e;(null===(e=Z.current)||void 0===e?void 0:e.input)&&(Z.current.input.indeterminate=g)},[g]);const S=m("checkbox",l),B=fC(S),[k,W,V]=AV(S,B),R=Object.assign({},u);p&&!I&&(R.onChange=function(){if(u.onChange){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];u.onChange.apply(u,t)}p.toggleOption&&p.toggleOption({label:i,value:u.value})},R.name=p.name,R.checked=p.value.includes(u.value));const w=Ol()(`${S}-wrapper`,{[`${S}-rtl`]:"rtl"===A,[`${S}-wrapper-checked`]:R.checked,[`${S}-wrapper-disabled`]:y,[`${S}-wrapper-in-form-item`]:h},null===b||void 0===b?void 0:b.className,r,a,V,B,W),X=Ol()({[`${S}-indeterminate`]:g},Fb,W),[J,H]=bV(R.onClick);return k(t.createElement(rp,{component:"Checkbox",disabled:y},t.createElement("label",{className:w,style:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),c),onMouseEnter:s,onMouseLeave:d,onClick:J},t.createElement(IV,Object.assign({},R,{onClick:H,prefixCls:S,className:X,disabled:y,ref:G})),void 0!==i&&null!==i&&t.createElement("span",{className:`${S}-label`},i))))};const fV=t.forwardRef(hV);var yV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const vV=t.forwardRef((e,n)=>{const{defaultValue:o,children:l,options:r=[],prefixCls:a,className:i,rootClassName:g,style:c,onChange:s}=e,d=yV(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:I,direction:C}=t.useContext(Rl),[u,m]=t.useState(d.value||o||[]),[A,b]=t.useState([]);t.useEffect(()=>{"value"in d&&m(d.value||[])},[d.value]);const p=t.useMemo(()=>r.map(e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e),[r]),h=e=>{b(t=>t.filter(t=>t!==e))},f=e=>{b(t=>[].concat(Ye(t),[e]))},y=e=>{const t=u.indexOf(e.value),n=Ye(u);-1===t?n.push(e.value):n.splice(t,1),"value"in d||m(n),null===s||void 0===s||s(n.filter(e=>A.includes(e)).sort((e,t)=>p.findIndex(t=>t.value===e)-p.findIndex(e=>e.value===t)))},v=I("checkbox",a),Z=`${v}-group`,G=fC(v),[S,B,k]=AV(v,G),W=Pa(d,["value","disabled"]),V=r.length?p.map(e=>t.createElement(fV,{prefixCls:v,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:u.includes(e.value),onChange:e.onChange,className:Ol()(`${Z}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):l,R=t.useMemo(()=>({toggleOption:y,value:u,disabled:d.disabled,name:d.name,registerValue:f,cancelValue:h}),[y,u,d.disabled,d.name,f,h]),w=Ol()(Z,{[`${Z}-rtl`]:"rtl"===C},i,g,k,G,B);return S(t.createElement("div",Object.assign({className:w,style:c},W,{ref:n}),t.createElement(CV.Provider,{value:R},V)))}),ZV=vV,GV=fV;GV.Group=ZV,GV.__ANT_CHECKBOX=!0;const SV=GV,BV=e=>"object"!==typeof e&&"function"!==typeof e||null===e,kV=e=>{const{componentCls:t,menuCls:n,colorError:o,colorTextLightSolid:l}=e,r=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${r}`]:{[`&${r}-danger:not(${r}-disabled)`]:{color:o,"&:hover":{color:l,backgroundColor:o}}}}}},WV=e=>{const{componentCls:t,menuCls:n,zIndexPopup:o,dropdownArrowDistance:l,sizePopupArrow:r,antCls:a,iconCls:i,motionDurationMid:g,paddingBlock:c,fontSize:s,dropdownEdgeChildPadding:d,colorTextDisabled:I,fontSizeIcon:C,controlPaddingHorizontal:u,colorBgElevated:m}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(r).div(2).sub(l).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${a}-btn`]:{[`& > ${i}-down, & > ${a}-btn-icon > ${i}-down`]:{fontSize:C}},[`${t}-wrap`]:{position:"relative",[`${a}-btn > ${i}-down`]:{fontSize:C},[`${i}-down::before`]:{transition:`transform ${g}`}},[`${t}-wrap-open`]:{[`${i}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottom,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottom,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomRight,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:gb},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topLeft,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topLeft,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-top,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-top,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topRight,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topRight`]:{animationName:sb},[`&${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottom,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:cb},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topLeft,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-top,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topRight`]:{animationName:db}}},lI(e,m,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},Ja(e)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},xa(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${wt(c)} ${wt(u)}`,color:e.colorTextDescription,transition:`all ${g}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:s,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${g}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${wt(c)} ${wt(u)}`,color:e.colorText,fontWeight:"normal",fontSize:s,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${g}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},xa(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:I,cursor:"not-allowed","&:hover":{color:I,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${wt(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:C,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${wt(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(u).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:I,backgroundColor:m,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[bb(e,"slide-up"),bb(e,"slide-down"),oG(e,"move-up"),oG(e,"move-down"),WI(e,"zoom-big")]]},VV=Ui("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:o,componentCls:l}=e,r=Ni(e,{menuCls:`${l}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[WV(r),kV(r)]},e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},nI({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),eI(e)),{resetStyle:!1}),RV=e=>{var n;const{menu:o,arrow:l,prefixCls:r,children:a,trigger:i,disabled:g,dropdownRender:c,popupRender:s,getPopupContainer:d,overlayClassName:I,rootClassName:C,overlayStyle:u,open:m,onOpenChange:A,visible:b,onVisibleChange:p,mouseEnterDelay:h=.15,mouseLeaveDelay:f=.1,autoAdjustOverflow:y=!0,placement:v="",overlay:Z,transitionName:G,destroyOnHidden:S,destroyPopupOnHide:B}=e,{getPopupContainer:k,getPrefixCls:W,direction:V,dropdown:R}=t.useContext(Rl),w=s||c;mo("Dropdown");const X=t.useMemo(()=>{const e=W();return void 0!==G?G:v.includes("top")?`${e}-slide-down`:`${e}-slide-up`},[W,v,G]),J=t.useMemo(()=>v?v.includes("Center")?v.slice(0,v.indexOf("Center")):v:"rtl"===V?"bottomRight":"bottomLeft",[v,V]),H=W("dropdown",r),x=fC(H),[Y,N,E]=VV(H,x),[,F]=Wa(),K=t.Children.only(BV(a)?t.createElement("span",null,a):a),M=dI(K,{className:Ol()(`${H}-trigger`,{[`${H}-rtl`]:"rtl"===V},K.props.className),disabled:null!==(n=K.props.disabled)&&void 0!==n?n:g}),z=g?[]:i,L=!!(null===z||void 0===z?void 0:z.includes("contextMenu")),[D,T]=Gr(!1,{value:null!==m&&void 0!==m?m:b}),j=yr(e=>{null===A||void 0===A||A(e,{source:"trigger"}),null===p||void 0===p||p(e),T(e)}),O=Ol()(I,C,N,E,x,null===R||void 0===R?void 0:R.className,{[`${H}-rtl`]:"rtl"===V}),U=gI({arrowPointAtCenter:"object"===typeof l&&l.pointAtCenter,autoAdjustOverflow:y,offset:F.marginXXS,arrowWidth:l?F.sizePopupArrow:0,borderRadius:F.borderRadius}),Q=t.useCallback(()=>{(null===o||void 0===o?void 0:o.selectable)&&(null===o||void 0===o?void 0:o.multiple)||(null===A||void 0===A||A(!1,{source:"menu"}),T(!1))},[null===o||void 0===o?void 0:o.selectable,null===o||void 0===o?void 0:o.multiple]),[$,P]=Od("Dropdown",null===u||void 0===u?void 0:u.zIndex);let q=t.createElement(Mf,Object.assign({alignPoint:L},Pa(e,["rootClassName"]),{mouseEnterDelay:h,mouseLeaveDelay:f,visible:D,builtinPlacements:U,arrow:!!l,overlayClassName:O,prefixCls:H,getPopupContainer:d||k,transitionName:X,trigger:z,overlay:()=>{let e;return e=(null===o||void 0===o?void 0:o.items)?t.createElement(Yb,Object.assign({},o)):"function"===typeof Z?Z():Z,w&&(e=w(e)),e=t.Children.only("string"===typeof e?t.createElement("span",null,e):e),t.createElement(rb,{prefixCls:`${H}-menu`,rootClassName:Ol()(E,x),expandIcon:t.createElement("span",{className:`${H}-menu-submenu-arrow`},"rtl"===V?t.createElement(fi,{className:`${H}-menu-submenu-arrow-icon`}):t.createElement(Zi,{className:`${H}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Q,validator:e=>{let{mode:t}=e}},e)},placement:J,onVisibleChange:j,overlayStyle:Object.assign(Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),u),{zIndex:$}),autoDestroy:null!==S&&void 0!==S?S:B}),M);return $&&(q=t.createElement(zd.Provider,{value:P},q)),Y(q)},wV=UZ(RV,"align",void 0,"dropdown",e=>e);RV._InternalPanelDoNotUseOrYouWillBeFired=e=>t.createElement(wV,Object.assign({},e),t.createElement("span",null));const XV=RV;var JV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const HV=e=>{const{getPopupContainer:n,getPrefixCls:o,direction:l}=t.useContext(Rl),{prefixCls:r,type:a="default",danger:i,disabled:g,loading:c,onClick:s,htmlType:d,children:I,className:C,menu:u,arrow:m,autoFocus:A,overlay:b,trigger:p,align:h,open:f,onOpenChange:y,placement:v,getPopupContainer:Z,href:G,icon:S=t.createElement(qA,null),title:B,buttonsRender:k=e=>e,mouseEnterDelay:W,mouseLeaveDelay:V,overlayClassName:R,overlayStyle:w,destroyOnHidden:X,destroyPopupOnHide:J,dropdownRender:H,popupRender:x}=e,Y=JV(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),N=o("dropdown",r),E=`${N}-button`,F={menu:u,arrow:m,autoFocus:A,align:h,disabled:g,trigger:g?[]:p,onOpenChange:y,getPopupContainer:Z||n,mouseEnterDelay:W,mouseLeaveDelay:V,overlayClassName:R,overlayStyle:w,destroyOnHidden:X,popupRender:x||H},{compactSize:K,compactItemClassnames:M}=Nd(N,l),z=Ol()(E,M,C);"destroyPopupOnHide"in e&&(F.destroyPopupOnHide=J),"overlay"in e&&(F.overlay=b),"open"in e&&(F.open=f),F.placement="placement"in e?v:"rtl"===l?"bottomLeft":"bottomRight";const L=t.createElement(bh,{type:a,danger:i,disabled:g,loading:c,onClick:s,htmlType:d,href:G,title:B},I),D=t.createElement(bh,{type:a,danger:i,icon:S}),[T,j]=k([L,D]);return t.createElement(nk.Compact,Object.assign({className:z,size:K,block:!0},Y),T,t.createElement(XV,Object.assign({},F),j))};HV.__ANT_BUTTON=!0;const xV=HV,YV=XV;YV.Button=xV;const NV=YV,EV=t.createContext(null),FV=EV.Provider,KV=EV,MV=t.createContext(null),zV=MV.Provider,LV=e=>{const{componentCls:t,antCls:n}=e,o=`${t}-group`;return{[o]:Object.assign(Object.assign({},Ja(e)),{display:"inline-block",fontSize:0,[`&${o}-rtl`]:{direction:"rtl"},[`&${o}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},DV=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:o,radioSize:l,motionDurationSlow:r,motionDurationMid:a,motionEaseInOutCirc:i,colorBgContainer:g,colorBorder:c,lineWidth:s,colorBgContainerDisabled:d,colorTextDisabled:I,paddingXS:C,dotColorDisabled:u,lineType:m,radioColor:A,radioBgColor:b,calc:p}=e,h=`${t}-inner`,f=p(l).sub(p(4).mul(2)),y=p(1).mul(l).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},Ja(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${wt(s)} ${m} ${o}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},Ja(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,\n        &:hover ${h}`]:{borderColor:o},[`${t}-input:focus-visible + ${h}`]:Object.assign({},Ha(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:y,height:y,marginBlockStart:p(1).mul(l).div(-2).equal({unit:!0}),marginInlineStart:p(1).mul(l).div(-2).equal({unit:!0}),backgroundColor:A,borderBlockStart:0,borderInlineStart:0,borderRadius:y,transform:"scale(0)",opacity:0,transition:`all ${r} ${i}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:y,height:y,backgroundColor:g,borderColor:c,borderStyle:"solid",borderWidth:s,borderRadius:"50%",transition:`all ${a}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[h]:{borderColor:o,backgroundColor:b,"&::after":{transform:`scale(${e.calc(e.dotSize).div(l).equal()})`,opacity:1,transition:`all ${r} ${i}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[h]:{backgroundColor:d,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:u}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:I,cursor:"not-allowed"},[`&${t}-checked`]:{[h]:{"&::after":{transform:`scale(${p(f).div(l).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:C,paddingInlineEnd:C}})}},TV=e=>{const{buttonColor:t,controlHeight:n,componentCls:o,lineWidth:l,lineType:r,colorBorder:a,motionDurationSlow:i,motionDurationMid:g,buttonPaddingInline:c,fontSize:s,buttonBg:d,fontSizeLG:I,controlHeightLG:C,controlHeightSM:u,paddingXS:m,borderRadius:A,borderRadiusSM:b,borderRadiusLG:p,buttonCheckedBg:h,buttonSolidCheckedColor:f,colorTextDisabled:y,colorBgContainerDisabled:v,buttonCheckedBgDisabled:Z,buttonCheckedColorDisabled:G,colorPrimary:S,colorPrimaryHover:B,colorPrimaryActive:k,buttonSolidCheckedBg:W,buttonSolidCheckedHoverBg:V,buttonSolidCheckedActiveBg:R,calc:w}=e;return{[`${o}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:c,paddingBlock:0,color:t,fontSize:s,lineHeight:wt(w(n).sub(w(l).mul(2)).equal()),background:d,border:`${wt(l)} ${r} ${a}`,borderBlockStartWidth:w(l).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:l,cursor:"pointer",transition:[`color ${g}`,`background ${g}`,`box-shadow ${g}`].join(","),a:{color:t},[`> ${o}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:w(l).mul(-1).equal(),insetInlineStart:w(l).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:l,paddingInline:0,backgroundColor:a,transition:`background-color ${i}`,content:'""'}},"&:first-child":{borderInlineStart:`${wt(l)} ${r} ${a}`,borderStartStartRadius:A,borderEndStartRadius:A},"&:last-child":{borderStartEndRadius:A,borderEndEndRadius:A},"&:first-child:last-child":{borderRadius:A},[`${o}-group-large &`]:{height:C,fontSize:I,lineHeight:wt(w(C).sub(w(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:p,borderEndStartRadius:p},"&:last-child":{borderStartEndRadius:p,borderEndEndRadius:p}},[`${o}-group-small &`]:{height:u,paddingInline:w(m).sub(l).equal(),paddingBlock:0,lineHeight:wt(w(u).sub(w(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},"&:hover":{position:"relative",color:S},"&:has(:focus-visible)":Object.assign({},Ha(e)),[`${o}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${o}-button-wrapper-disabled)`]:{zIndex:1,color:S,background:h,borderColor:S,"&::before":{backgroundColor:S},"&:first-child":{borderColor:S},"&:hover":{color:B,borderColor:B,"&::before":{backgroundColor:B}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}},[`${o}-group-solid &-checked:not(${o}-button-wrapper-disabled)`]:{color:f,background:W,borderColor:W,"&:hover":{color:f,background:V,borderColor:V},"&:active":{color:f,background:R,borderColor:R}},"&-disabled":{color:y,backgroundColor:v,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:y,backgroundColor:v,borderColor:a}},[`&-disabled${o}-button-wrapper-checked`]:{color:G,backgroundColor:Z,borderColor:a,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},jV=Ui("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,o=`0 0 0 ${wt(n)} ${t}`,l=Ni(e,{radioFocusShadow:o,radioButtonFocusShadow:o});return[LV(l),DV(l),TV(l)]},e=>{const{wireframe:t,padding:n,marginXS:o,lineWidth:l,fontSizeLG:r,colorText:a,colorBgContainer:i,colorTextDisabled:g,controlItemBgActiveDisabled:c,colorTextLightSolid:s,colorPrimary:d,colorPrimaryHover:I,colorPrimaryActive:C,colorWhite:u}=e;return{radioSize:r,dotSize:t?r-8:r-2*(4+l),dotColorDisabled:g,buttonSolidCheckedColor:s,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:I,buttonSolidCheckedActiveBg:C,buttonBg:i,buttonCheckedBg:i,buttonColor:a,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:g,buttonPaddingInline:n-l,wrapperMarginInlineEnd:o,radioColor:t?d:u,radioBgColor:t?i:d}},{unitless:{radioSize:!0,dotSize:!0}});var OV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const UV=(e,n)=>{var o,l;const r=t.useContext(KV),a=t.useContext(MV),{getPrefixCls:i,direction:g,radio:c}=t.useContext(Rl),s=t.useRef(null),d=lr(n,s),{isFormItemInput:I}=t.useContext(kd);const C=t=>{var n,o;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(o=null===r||void 0===r?void 0:r.onChange)||void 0===o||o.call(r,t)},{prefixCls:u,className:m,rootClassName:A,children:b,style:p,title:h}=e,f=OV(e,["prefixCls","className","rootClassName","children","style","title"]),y=i("radio",u),v="button"===((null===r||void 0===r?void 0:r.optionType)||a),Z=v?`${y}-button`:y,G=fC(y),[S,B,k]=jV(y,G),W=Object.assign({},f),V=t.useContext(El);r&&(W.name=r.name,W.onChange=C,W.checked=e.value===r.value,W.disabled=null!==(o=W.disabled)&&void 0!==o?o:r.disabled),W.disabled=null!==(l=W.disabled)&&void 0!==l?l:V;const R=Ol()(`${Z}-wrapper`,{[`${Z}-wrapper-checked`]:W.checked,[`${Z}-wrapper-disabled`]:W.disabled,[`${Z}-wrapper-rtl`]:"rtl"===g,[`${Z}-wrapper-in-form-item`]:I,[`${Z}-wrapper-block`]:!!(null===r||void 0===r?void 0:r.block)},null===c||void 0===c?void 0:c.className,m,A,B,k,G),[w,X]=bV(W.onClick);return S(t.createElement(rp,{component:"Radio",disabled:W.disabled},t.createElement("label",{className:R,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),p),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:h,onClick:w},t.createElement(IV,Object.assign({},W,{className:Ol()(W.className,{[Fb]:!v}),type:"radio",prefixCls:Z,ref:d,onClick:X})),void 0!==b?t.createElement("span",{className:`${Z}-label`},b):null)))};const QV=t.forwardRef(UV),$V=e=>"object"==typeof e&&null!=e&&1===e.nodeType,PV=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,qV=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return PV(n.overflowY,t)||PV(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},_V=(e,t,n,o,l,r,a,i)=>r<e&&a>t||r>e&&a<t?0:r<=e&&i<=n||a>=t&&i>=n?r-e-o:a>t&&i<n||r<e&&i>n?a-t+l:0,eR=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},tR=(e,t)=>{var n,o,l,r;if("undefined"==typeof document)return[];const{scrollMode:a,block:i,inline:g,boundary:c,skipOverflowHiddenElements:s}=t,d="function"==typeof c?c:e=>e!==c;if(!$V(e))throw new TypeError("Invalid target");const I=document.scrollingElement||document.documentElement,C=[];let u=e;for(;$V(u)&&d(u);){if(u=eR(u),u===I){C.push(u);break}null!=u&&u===document.body&&qV(u)&&!qV(document.documentElement)||null!=u&&qV(u,s)&&C.push(u)}const m=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,A=null!=(r=null==(l=window.visualViewport)?void 0:l.height)?r:innerHeight,{scrollX:b,scrollY:p}=window,{height:h,width:f,top:y,right:v,bottom:Z,left:G}=e.getBoundingClientRect(),{top:S,right:B,bottom:k,left:W}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let V="start"===i||"nearest"===i?y-S:"end"===i?Z+k:y+h/2-S+k,R="center"===g?G+f/2-W+B:"end"===g?v+B:G-W;const w=[];for(let X=0;X<C.length;X++){const e=C[X],{height:t,width:n,top:o,right:l,bottom:r,left:c}=e.getBoundingClientRect();if("if-needed"===a&&y>=0&&G>=0&&Z<=A&&v<=m&&(e===I&&!qV(e)||y>=o&&Z<=r&&G>=c&&v<=l))return w;const s=getComputedStyle(e),d=parseInt(s.borderLeftWidth,10),u=parseInt(s.borderTopWidth,10),S=parseInt(s.borderRightWidth,10),B=parseInt(s.borderBottomWidth,10);let k=0,W=0;const J="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-S:0,H="offsetHeight"in e?e.offsetHeight-e.clientHeight-u-B:0,x="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,Y="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(I===e)k="start"===i?V:"end"===i?V-A:"nearest"===i?_V(p,p+A,A,u,B,p+V,p+V+h,h):V-A/2,W="start"===g?R:"center"===g?R-m/2:"end"===g?R-m:_V(b,b+m,m,d,S,b+R,b+R+f,f),k=Math.max(0,k+p),W=Math.max(0,W+b);else{k="start"===i?V-o-u:"end"===i?V-r+B+H:"nearest"===i?_V(o,r,t,u,B+H,V,V+h,h):V-(o+t/2)+H/2,W="start"===g?R-c-d:"center"===g?R-(c+n/2)+J/2:"end"===g?R-l+S+J:_V(c,l,n,d,S+J,R,R+f,f);const{scrollLeft:a,scrollTop:s}=e;k=0===Y?0:Math.max(0,Math.min(s+k/Y,e.scrollHeight-t/Y+H)),W=0===x?0:Math.max(0,Math.min(a+W/x,e.scrollWidth-n/x+J)),V+=s-k,R+=a-W}w.push({el:e,top:k,left:W})}return w};function nR(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(tR(e,t));const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:l,top:r,left:a}of tR(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=r-n.top+n.bottom,t=a-n.left+n.right;l.scroll({top:e,left:t,behavior:o})}}const oR=["parentNode"];function lR(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function rR(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return oR.includes(n)?`form_item_${n}`:n}function aR(e,t,n,o,l,r){let a=o;return void 0!==r?a=r:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||l&&n.validated)&&(a="success"),a}var iR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function gR(e){return lR(e).join("_")}function cR(e,t){const n=Ql(t.getFieldInstance(e));if(n)return n;const o=rR(lR(e),t.__INTERNAL__.name);return o?document.getElementById(o):void 0}function sR(e){const[n]=Id(),o=t.useRef({}),l=t.useMemo(()=>null!==e&&void 0!==e?e:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:e=>t=>{const n=gR(e);t?o.current[n]=t:delete o.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{focus:n}=t,o=iR(t,["focus"]),r=cR(e,l);r&&(nR(r,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),n&&l.focusField(e))},focusField:e=>{var t,n;const o=l.getFieldInstance(e);"function"===typeof(null===o||void 0===o?void 0:o.focus)?o.focus():null===(n=null===(t=cR(e,l))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)},getFieldInstance:e=>{const t=gR(e);return o.current[t]}}),[e,n]);return[l]}const dR=t.forwardRef((e,n)=>{const{getPrefixCls:o,direction:l}=t.useContext(Rl),{name:r}=t.useContext(kd),a=pc(gR(r)),{prefixCls:i,className:g,rootClassName:c,options:s,buttonStyle:d="outline",disabled:I,children:C,size:u,style:m,id:A,optionType:b,name:p=a,defaultValue:h,value:f,block:y=!1,onChange:v,onMouseEnter:Z,onMouseLeave:G,onFocus:S,onBlur:B}=e,[k,W]=Gr(h,{value:f}),V=t.useCallback(t=>{const n=k,o=t.target.value;"value"in e||W(o),o!==n&&(null===v||void 0===v||v(t))},[k,W,v]),R=o("radio",i),w=`${R}-group`,X=fC(R),[J,H,x]=jV(R,X);let Y=C;s&&s.length>0&&(Y=s.map(e=>"string"===typeof e||"number"===typeof e?t.createElement(QV,{key:e.toString(),prefixCls:R,disabled:I,value:e,checked:k===e},e):t.createElement(QV,{key:`radio-group-value-options-${e.value}`,prefixCls:R,disabled:e.disabled||I,value:e.value,checked:k===e.value,title:e.title,style:e.style,className:e.className,id:e.id,required:e.required},e.label)));const N=Rd(u),E=Ol()(w,`${w}-${d}`,{[`${w}-${N}`]:N,[`${w}-rtl`]:"rtl"===l,[`${w}-block`]:y},g,c,H,x,X),F=t.useMemo(()=>({onChange:V,value:k,disabled:I,name:p,optionType:b,block:y}),[V,k,I,p,b,y]);return J(t.createElement("div",Object.assign({},My(e,{aria:!0,data:!0}),{className:E,style:m,onMouseEnter:Z,onMouseLeave:G,onFocus:S,onBlur:B,id:A,ref:n}),t.createElement(FV,{value:F},Y)))}),IR=t.memo(dR);var CR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const uR=(e,n)=>{const{getPrefixCls:o}=t.useContext(Rl),{prefixCls:l}=e,r=CR(e,["prefixCls"]),a=o("radio",l);return t.createElement(zV,{value:"button"},t.createElement(QV,Object.assign({prefixCls:a},r,{type:"radio",ref:n})))},mR=t.forwardRef(uR),AR=QV;AR.Button=mR,AR.Group=IR,AR.__ANT_RADIO=!0;const bR=AR,pR={},hR="SELECT_ALL",fR="SELECT_INVERT",yR="SELECT_NONE",vR=[],ZR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(t||[]).forEach(t=>{n.push(t),t&&"object"===typeof t&&e in t&&ZR(e,t[e],n)}),n},GR=(e,n)=>{const{preserveSelectedRowKeys:o,selectedRowKeys:l,defaultSelectedRowKeys:r,getCheckboxProps:a,onChange:i,onSelect:g,onSelectAll:c,onSelectInvert:s,onSelectNone:d,onSelectMultiple:I,columnWidth:C,type:u,selections:m,fixed:A,renderCell:b,hideSelectAll:p,checkStrictly:h=!0}=n||{},{prefixCls:f,data:y,pageData:v,getRecordByKey:Z,getRowKey:G,expandType:S,childrenColumnName:B,locale:k,getPopupContainer:W}=e,V=mo("Table"),[R,w]=function(e){const[n,o]=(0,t.useState)(null),l=(0,t.useCallback)((t,l,r)=>{const a=null!==n&&void 0!==n?n:t,i=Math.min(a||0,t),g=Math.max(a||0,t),c=l.slice(i,g+1).map(t=>e(t)),s=c.some(e=>!r.has(e)),d=[];return c.forEach(e=>{s?(r.has(e)||d.push(e),r.add(e)):(r.delete(e),d.push(e))}),o(s?g:null),d},[n]);return[l,e=>{o(e)}]}(e=>e),[X,J]=Gr(l||r||vR,{value:l}),H=t.useRef(new Map),x=(0,t.useCallback)(e=>{if(o){const t=new Map;e.forEach(e=>{let n=Z(e);!n&&H.current.has(e)&&(n=H.current.get(e)),t.set(e,n)}),H.current=t}},[Z,o]);t.useEffect(()=>{x(X)},[X]);const Y=(0,t.useMemo)(()=>ZR(B,v),[B,v]),{keyEntities:N}=(0,t.useMemo)(()=>{if(h)return{keyEntities:null};let e=y;if(o){const t=new Set(Y.map((e,t)=>G(e,t))),n=Array.from(H.current).reduce((e,n)=>{let[o,l]=n;return t.has(o)?e:e.concat(l)},[]);e=[].concat(Ye(e),Ye(n))}return DW(e,{externalGetKey:G,childrenPropName:B})},[y,G,h,B,o,Y]),E=(0,t.useMemo)(()=>{const e=new Map;return Y.forEach((t,n)=>{const o=G(t,n),l=(a?a(t):null)||{};e.set(o,l)}),e},[Y,G,a]),F=(0,t.useCallback)(e=>{const t=G(e);let n;return n=E.has(t)?E.get(G(e)):a?a(e):void 0,!!(null===n||void 0===n?void 0:n.disabled)},[E,G]),[K,M]=(0,t.useMemo)(()=>{if(h)return[X||[],[]];const{checkedKeys:e,halfCheckedKeys:t}=cV(X,!0,N,F);return[e||[],t]},[X,h,N,F]),z=(0,t.useMemo)(()=>{const e="radio"===u?K.slice(0,1):K;return new Set(e)},[K,u]),L=(0,t.useMemo)(()=>"radio"===u?new Set:new Set(M),[M,u]);t.useEffect(()=>{n||J(vR)},[!!n]);const D=(0,t.useCallback)((e,t)=>{let n,l;x(e),o?(n=e,l=e.map(e=>H.current.get(e))):(n=[],l=[],e.forEach(e=>{const t=Z(e);void 0!==t&&(n.push(e),l.push(t))})),J(n),null===i||void 0===i||i(n,l,{type:t})},[J,Z,i,o]),T=(0,t.useCallback)((e,t,n,o)=>{if(g){const l=n.map(e=>Z(e));g(Z(e),t,l,o)}D(n,"single")},[g,Z,D]),j=(0,t.useMemo)(()=>{if(!m||p)return null;return(!0===m?[hR,fR,yR]:m).map(e=>e===hR?{key:"all",text:k.selectionAll,onSelect(){D(y.map((e,t)=>G(e,t)).filter(e=>{const t=E.get(e);return!(null===t||void 0===t?void 0:t.disabled)||z.has(e)}),"all")}}:e===fR?{key:"invert",text:k.selectInvert,onSelect(){const e=new Set(z);v.forEach((t,n)=>{const o=G(t,n),l=E.get(o);(null===l||void 0===l?void 0:l.disabled)||(e.has(o)?e.delete(o):e.add(o))});const t=Array.from(e);s&&(V.deprecated(!1,"onSelectInvert","onChange"),s(t)),D(t,"invert")}}:e===yR?{key:"none",text:k.selectNone,onSelect(){null===d||void 0===d||d(),D(Array.from(z).filter(e=>{const t=E.get(e);return null===t||void 0===t?void 0:t.disabled}),"none")}}:e).map(e=>Object.assign(Object.assign({},e),{onSelect:function(){for(var t,n,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(l)),w(null)}}))},[m,z,v,G,s,D]),O=(0,t.useCallback)(e=>{var o;if(!n)return e.filter(e=>e!==pR);let l=Ye(e);const r=new Set(z),a=Y.map(G).filter(e=>!E.get(e).disabled),i=a.every(e=>r.has(e)),g=a.some(e=>r.has(e)),s=()=>{const e=[];i?a.forEach(t=>{r.delete(t),e.push(t)}):a.forEach(t=>{r.has(t)||(r.add(t),e.push(t))});const t=Array.from(r);null===c||void 0===c||c(!i,t.map(e=>Z(e)),e.map(e=>Z(e))),D(t,"all"),w(null)};let d,y,v;if("radio"!==u){let e;if(j){const n={getPopupContainer:W,items:j.map((e,t)=>{const{key:n,text:o,onSelect:l}=e;return{key:null!==n&&void 0!==n?n:t,onClick:()=>{null===l||void 0===l||l(a)},label:o}})};e=t.createElement("div",{className:`${f}-selection-extra`},t.createElement(NV,{menu:n,getPopupContainer:W},t.createElement("span",null,t.createElement(wG,null))))}const n=Y.map((e,t)=>{const n=G(e,t),o=E.get(n)||{};return Object.assign({checked:r.has(n)},o)}).filter(e=>{let{disabled:t}=e;return t}),o=!!n.length&&n.length===Y.length,l=o&&n.every(e=>{let{checked:t}=e;return t}),c=o&&n.some(e=>{let{checked:t}=e;return t});y=t.createElement(SV,{checked:o?l:!!Y.length&&i,indeterminate:o?!l&&c:!i&&g,onChange:s,disabled:0===Y.length||o,"aria-label":e?"Custom selection":"Select all",skipGroup:!0}),d=!p&&t.createElement("div",{className:`${f}-selection`},y,e)}v="radio"===u?(e,n,o)=>{const l=G(n,o),a=r.has(l),i=E.get(l);return{node:t.createElement(bR,Object.assign({},i,{checked:a,onClick:e=>{var t;e.stopPropagation(),null===(t=null===i||void 0===i?void 0:i.onClick)||void 0===t||t.call(i,e)},onChange:e=>{var t;r.has(l)||T(l,!0,[l],e.nativeEvent),null===(t=null===i||void 0===i?void 0:i.onChange)||void 0===t||t.call(i,e)}})),checked:a}}:(e,n,o)=>{var l;const i=G(n,o),g=r.has(i),c=L.has(i),s=E.get(i);let d;return d="nest"===S?c:null!==(l=null===s||void 0===s?void 0:s.indeterminate)&&void 0!==l?l:c,{node:t.createElement(SV,Object.assign({},s,{indeterminate:d,checked:g,skipGroup:!0,onClick:e=>{var t;e.stopPropagation(),null===(t=null===s||void 0===s?void 0:s.onClick)||void 0===t||t.call(s,e)},onChange:e=>{var t;const{nativeEvent:n}=e,{shiftKey:o}=n,l=a.findIndex(e=>e===i),c=K.some(e=>a.includes(e));if(o&&h&&c){const e=R(l,a,r),t=Array.from(r);null===I||void 0===I||I(!g,t.map(e=>Z(e)),e.map(e=>Z(e))),D(t,"multiple")}else{const e=K;if(h){const t=g?qW(e,i):_W(e,i);T(i,!g,t,n)}else{const t=cV([].concat(Ye(e),[i]),!0,N,F),{checkedKeys:o,halfCheckedKeys:l}=t;let r=o;if(g){const e=new Set(o);e.delete(i),r=cV(Array.from(e),{checked:!1,halfCheckedKeys:l},N,F).checkedKeys}T(i,!g,r,n)}}w(g?null:l),null===(t=null===s||void 0===s?void 0:s.onChange)||void 0===t||t.call(s,e)}})),checked:g}};if(!l.includes(pR))if(0===l.findIndex(e=>{var t;return"EXPAND_COLUMN"===(null===(t=e[Fk])||void 0===t?void 0:t.columnType)})){const[e,...t]=l;l=[e,pR].concat(Ye(t))}else l=[pR].concat(Ye(l));const B=l.indexOf(pR);l=l.filter((e,t)=>e!==pR||t===B);const k=l[B-1],V=l[B+1];let X=A;void 0===X&&(void 0!==(null===V||void 0===V?void 0:V.fixed)?X=V.fixed:void 0!==(null===k||void 0===k?void 0:k.fixed)&&(X=k.fixed)),X&&k&&"EXPAND_COLUMN"===(null===(o=k[Fk])||void 0===o?void 0:o.columnType)&&void 0===k.fixed&&(k.fixed=X);const J=Ol()(`${f}-selection-col`,{[`${f}-selection-col-with-dropdown`]:m&&"checkbox"===u}),H={fixed:X,width:C,className:`${f}-selection-column`,title:(null===n||void 0===n?void 0:n.columnTitle)?"function"===typeof n.columnTitle?n.columnTitle(y):n.columnTitle:d,render:(e,t,n)=>{const{node:o,checked:l}=v(e,t,n);return b?b(l,t,n,o):o},onCell:n.onCell,align:n.align,[Fk]:{className:J}};return l.map(e=>e===pR?H:e)},[G,Y,n,K,z,L,C,j,S,E,I,T,F]);return[O,z]};function SR(e,n){return(0,t.useImperativeHandle)(e,()=>{const e=n(),{nativeElement:t}=e;return"undefined"!==typeof Proxy?new Proxy(t,{get:(t,n)=>e[n]?e[n]:Reflect.get(t,n)}):(l=e,(o=t)._antProxy=o._antProxy||{},Object.keys(l).forEach(e=>{if(!(e in o._antProxy)){const t=o[e];o._antProxy[e]=t,o[e]=l[e]}}),o);var o,l})}function BR(e){return null!==e&&void 0!==e&&e===e.window}const kR=e=>{var t,n;if("undefined"===typeof window)return 0;let o=0;return BR(e)?o=e.pageYOffset:e instanceof Document?o=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(o=e.scrollTop),e&&!BR(e)&&"number"!==typeof o&&(o=null===(n=(null!==(t=e.ownerDocument)&&void 0!==t?t:e).documentElement)||void 0===n?void 0:n.scrollTop),o};const WR=function(e){return n=>{const{prefixCls:o,onExpand:l,record:r,expanded:a,expandable:i}=n,g=`${o}-row-expand-icon`;return t.createElement("button",{type:"button",onClick:e=>{l(r,e),e.stopPropagation()},className:Ol()(g,{[`${g}-spaced`]:!i,[`${g}-expanded`]:i&&a,[`${g}-collapsed`]:i&&!a}),"aria-label":a?e.collapse:e.expand,"aria-expanded":a})}};const VR=(e,t)=>"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function RR(e,t){return t?`${t}-${e}`:`${e}`}const wR=(e,t)=>"function"===typeof e?e(t):e;const XR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};var JR=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:XR}))};const HR=t.forwardRef(JR);const xR=function(e){var n=e.dropPosition,o=e.dropLevelOffset,l=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:r.top=0,r.left=-o*l;break;case 1:r.bottom=0,r.left=-o*l;break;case 0:r.bottom=0,r.left=l}return t.createElement("div",{style:r})};function YR(e){if(null==e)throw new TypeError("Cannot destructure "+e)}const NR=function(e,n){var o=He(t.useState(!1),2),l=o[0],r=o[1];Ft(function(){if(l)return e(),function(){n()}},[l]),Ft(function(){return r(!0),function(){r(!1)}},[])};var ER=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],FR=t.forwardRef(function(e,n){var o=e.className,l=e.style,r=e.motion,a=e.motionNodes,i=e.motionType,g=e.onMotionStart,c=e.onMotionEnd,s=e.active,d=e.treeNodeRequiredProps,I=cr(e,ER),C=He(t.useState(!0),2),u=C[0],m=C[1],A=t.useContext(JW).prefixCls,b=a&&"hide"!==i;Ft(function(){a&&b!==u&&m(b)},[a]);var p=t.useRef(!1),h=function(){a&&!p.current&&(p.current=!0,c())};NR(function(){a&&g()},h);return a?t.createElement(pa,$t({ref:n,visible:u},r,{motionAppear:"show"===i,onVisibleChanged:function(e){b===e&&h()}}),function(e,n){var o=e.className,l=e.style;return t.createElement("div",{ref:n,className:Ol()("".concat(A,"-treenode-motion"),o),style:l},a.map(function(e){var n=Object.assign({},(YR(e.data),e.data)),o=e.title,l=e.key,r=e.isStart,a=e.isEnd;delete n.children;var i=TW(l,d);return t.createElement(PW,$t({},n,i,{title:o,active:s,data:e.data,key:l,isStart:r,isEnd:a}))}))}):t.createElement(PW,$t({domRef:n,className:o,style:l},I,{active:s}))});const KR=FR;function MR(e,t,n){var o=e.findIndex(function(e){return e.key===n}),l=e[o+1],r=t.findIndex(function(e){return e.key===n});if(l){var a=t.findIndex(function(e){return e.key===l.key});return t.slice(r+1,a)}return t.slice(r+1)}var zR=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],LR={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},DR=function(){},TR="RC_TREE_MOTION_".concat(Math.random()),jR={key:TR},OR={key:TR,level:0,index:0,pos:"0",node:jR,nodes:[jR]},UR={parent:null,children:[],pos:OR.pos,data:jR,title:null,key:TR,isStart:[],isEnd:[]};function QR(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function $R(e){return KW(e.key,e.pos)}var PR=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.data,r=(e.selectable,e.checkable,e.expandedKeys),a=e.selectedKeys,i=e.checkedKeys,g=e.loadedKeys,c=e.loadingKeys,s=e.halfCheckedKeys,d=e.keyEntities,I=e.disabled,C=e.dragging,u=e.dragOverNodeKey,m=e.dropPosition,A=e.motion,b=e.height,p=e.itemHeight,h=e.virtual,f=e.scrollWidth,y=e.focusable,v=e.activeItem,Z=e.focused,G=e.tabIndex,S=e.onKeyDown,B=e.onFocus,k=e.onBlur,W=e.onActiveChange,V=e.onListChangeStart,R=e.onListChangeEnd,w=cr(e,zR),X=t.useRef(null),J=t.useRef(null);t.useImperativeHandle(n,function(){return{scrollTo:function(e){X.current.scrollTo(e)},getIndentWidth:function(){return J.current.offsetWidth}}});var H=He(t.useState(r),2),x=H[0],Y=H[1],N=He(t.useState(l),2),E=N[0],F=N[1],K=He(t.useState(l),2),M=K[0],z=K[1],L=He(t.useState([]),2),D=L[0],T=L[1],j=He(t.useState(null),2),O=j[0],U=j[1],Q=t.useRef(l);function $(){var e=Q.current;F(e),z(e),T([]),U(null),R()}Q.current=l,Ft(function(){Y(r);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function l(e,t){var n=new Map;e.forEach(function(e){n.set(e,!0)});var o=t.filter(function(e){return!n.has(e)});return 1===o.length?o[0]:null}return n<o?{add:!0,key:l(e,t)}:{add:!1,key:l(t,e)}}(x,r);if(null!==e.key)if(e.add){var t=E.findIndex(function(t){return t.key===e.key}),n=QR(MR(E,l,e.key),h,b,p),o=E.slice();o.splice(t+1,0,UR),z(o),T(n),U("show")}else{var a=l.findIndex(function(t){return t.key===e.key}),i=QR(MR(l,E,e.key),h,b,p),g=l.slice();g.splice(a+1,0,UR),z(g),T(i),U("hide")}else E!==l&&(F(l),z(l))},[r,l]),t.useEffect(function(){C||$()},[C]);var P=A?M:l,q={expandedKeys:r,selectedKeys:a,loadedKeys:g,loadingKeys:c,checkedKeys:i,halfCheckedKeys:s,dragOverNodeKey:u,dropPosition:m,keyEntities:d};return t.createElement(t.Fragment,null,Z&&v&&t.createElement("span",{style:LR,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(v)),t.createElement("div",null,t.createElement("input",{style:LR,disabled:!1===y||I,tabIndex:!1!==y?G:null,onKeyDown:S,onFocus:B,onBlur:k,value:"",onChange:DR,"aria-label":"for screen reader"})),t.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},t.createElement("div",{className:"".concat(o,"-indent")},t.createElement("div",{ref:J,className:"".concat(o,"-indent-unit")}))),t.createElement(WZ,$t({},w,{data:P,itemKey:$R,height:b,fullHeight:!1,virtual:h,itemHeight:p,scrollWidth:f,prefixCls:"".concat(o,"-list"),ref:X,role:"tree",onVisibleChange:function(e){e.every(function(e){return $R(e)!==TR})&&$()}}),function(e){var n=e.pos,o=Object.assign({},(YR(e.data),e.data)),l=e.title,r=e.key,a=e.isStart,i=e.isEnd,g=KW(r,n);delete o.key,delete o.children;var c=TW(g,q);return t.createElement(KR,$t({},o,c,{title:l,active:!!v&&r===v.key,pos:n,data:e.data,isStart:a,isEnd:i,motion:A,motionNodes:r===TR?D:null,motionType:O,onMotionStart:V,onMotionEnd:$,treeNodeRequiredProps:q,onMouseMove:function(){W(null)}}))}))});const qR=PR;var _R=function(e){ur(o,e);var n=hr(o);function o(){var e;it(this,o);for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return Ve(br(e=n.call.apply(n,[this].concat(r))),"destroyed",!1),Ve(br(e),"delayedDragEnterLogic",void 0),Ve(br(e),"loadingRetryTimes",{}),Ve(br(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:MW()}),Ve(br(e),"dragStartMousePosition",null),Ve(br(e),"dragNodeProps",null),Ve(br(e),"currentMouseOverDroppableNodeKey",null),Ve(br(e),"listRef",t.createRef()),Ve(br(e),"onNodeDragStart",function(t,n){var o=e.state,l=o.expandedKeys,r=o.keyEntities,a=e.props.onDragStart,i=n.eventKey;e.dragNodeProps=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=qW(l,i);e.setState({draggingNodeKey:i,dragChildrenKeys:tV(i,r),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:jW(n)})}),Ve(br(e),"onNodeDragEnter",function(t,n){var o=e.state,l=o.expandedKeys,r=o.keyEntities,a=o.dragChildrenKeys,i=o.flattenNodes,g=o.indent,c=e.props,s=c.onDragEnter,d=c.onExpand,I=c.allowDrop,C=c.direction,u=n.pos,m=n.eventKey;if(e.currentMouseOverDroppableNodeKey!==m&&(e.currentMouseOverDroppableNodeKey=m),e.dragNodeProps){var A=oV(t,e.dragNodeProps,n,g,e.dragStartMousePosition,I,i,r,l,C),b=A.dropPosition,p=A.dropLevelOffset,h=A.dropTargetKey,f=A.dropContainerKey,y=A.dropTargetPos,v=A.dropAllowed,Z=A.dragOverNodeKey;!a.includes(h)&&v?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(t){clearTimeout(e.delayedDragEnterLogic[t])}),e.dragNodeProps.eventKey!==n.eventKey&&(t.persist(),e.delayedDragEnterLogic[u]=window.setTimeout(function(){if(null!==e.state.draggingNodeKey){var o=Ye(l),a=NW(r,n.eventKey);a&&(a.children||[]).length&&(o=_W(l,n.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(o),null===d||void 0===d||d(o,{node:jW(n),expanded:!0,nativeEvent:t.nativeEvent})}},800)),e.dragNodeProps.eventKey!==h||0!==p?(e.setState({dragOverNodeKey:Z,dropPosition:b,dropLevelOffset:p,dropTargetKey:h,dropContainerKey:f,dropTargetPos:y,dropAllowed:v}),null===s||void 0===s||s({event:t,node:jW(n),expandedKeys:l})):e.resetDragState()):e.resetDragState()}else e.resetDragState()}),Ve(br(e),"onNodeDragOver",function(t,n){var o=e.state,l=o.dragChildrenKeys,r=o.flattenNodes,a=o.keyEntities,i=o.expandedKeys,g=o.indent,c=e.props,s=c.onDragOver,d=c.allowDrop,I=c.direction;if(e.dragNodeProps){var C=oV(t,e.dragNodeProps,n,g,e.dragStartMousePosition,d,r,a,i,I),u=C.dropPosition,m=C.dropLevelOffset,A=C.dropTargetKey,b=C.dropContainerKey,p=C.dropTargetPos,h=C.dropAllowed,f=C.dragOverNodeKey;!l.includes(A)&&h&&(e.dragNodeProps.eventKey===A&&0===m?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():u===e.state.dropPosition&&m===e.state.dropLevelOffset&&A===e.state.dropTargetKey&&b===e.state.dropContainerKey&&p===e.state.dropTargetPos&&h===e.state.dropAllowed&&f===e.state.dragOverNodeKey||e.setState({dropPosition:u,dropLevelOffset:m,dropTargetKey:A,dropContainerKey:b,dropTargetPos:p,dropAllowed:h,dragOverNodeKey:f}),null===s||void 0===s||s({event:t,node:jW(n)}))}}),Ve(br(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;null===o||void 0===o||o({event:t,node:jW(n)})}),Ve(br(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),Ve(br(e),"onNodeDragEnd",function(t,n){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===o||void 0===o||o({event:t,node:jW(n)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),Ve(br(e),"onNodeDrop",function(t,n){var o,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.state,a=r.dragChildrenKeys,i=r.dropPosition,g=r.dropTargetKey,c=r.dropTargetPos;if(r.dropAllowed){var s=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==g){var d=Ee(Ee({},TW(g,e.getTreeNodeRequiredProps())),{},{active:(null===(o=e.getActiveItem())||void 0===o?void 0:o.key)===g,data:NW(e.state.keyEntities,g).node}),I=a.includes(g);rt(!I,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=eV(c),u={event:t,node:jW(d),dragNode:e.dragNodeProps?jW(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(a),dropToGap:0!==i,dropPosition:i+Number(C[C.length-1])};l||null===s||void 0===s||s(u),e.dragNodeProps=null}}}),Ve(br(e),"cleanDragState",function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),Ve(br(e),"triggerExpandActionExpand",function(t,n){var o=e.state,l=o.expandedKeys,r=o.flattenNodes,a=n.expanded,i=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var g=r.filter(function(e){return e.key===i})[0],c=jW(Ee(Ee({},TW(i,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(a?qW(l,i):_W(l,i)),e.onNodeExpand(t,c)}}),Ve(br(e),"onNodeClick",function(t,n){var o=e.props,l=o.onClick;"click"===o.expandAction&&e.triggerExpandActionExpand(t,n),null===l||void 0===l||l(t,n)}),Ve(br(e),"onNodeDoubleClick",function(t,n){var o=e.props,l=o.onDoubleClick;"doubleClick"===o.expandAction&&e.triggerExpandActionExpand(t,n),null===l||void 0===l||l(t,n)}),Ve(br(e),"onNodeSelect",function(t,n){var o=e.state.selectedKeys,l=e.state,r=l.keyEntities,a=l.fieldNames,i=e.props,g=i.onSelect,c=i.multiple,s=n.selected,d=n[a.key],I=!s,C=(o=I?c?_W(o,d):[d]:qW(o,d)).map(function(e){var t=NW(r,e);return t?t.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:o}),null===g||void 0===g||g(o,{event:"select",selected:I,node:n,selectedNodes:C,nativeEvent:t.nativeEvent})}),Ve(br(e),"onNodeCheck",function(t,n,o){var l,r=e.state,a=r.keyEntities,i=r.checkedKeys,g=r.halfCheckedKeys,c=e.props,s=c.checkStrictly,d=c.onCheck,I=n.key,C={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(s){var u=o?_W(i,I):qW(i,I);l={checked:u,halfChecked:qW(g,I)},C.checkedNodes=u.map(function(e){return NW(a,e)}).filter(Boolean).map(function(e){return e.node}),e.setUncontrolledState({checkedKeys:u})}else{var m=cV([].concat(Ye(i),[I]),!0,a),A=m.checkedKeys,b=m.halfCheckedKeys;if(!o){var p=new Set(A);p.delete(I);var h=cV(Array.from(p),{checked:!1,halfCheckedKeys:b},a);A=h.checkedKeys,b=h.halfCheckedKeys}l=A,C.checkedNodes=[],C.checkedNodesPositions=[],C.halfCheckedKeys=b,A.forEach(function(e){var t=NW(a,e);if(t){var n=t.node,o=t.pos;C.checkedNodes.push(n),C.checkedNodesPositions.push({node:n,pos:o})}}),e.setUncontrolledState({checkedKeys:A},!1,{halfCheckedKeys:b})}null===d||void 0===d||d(l,C)}),Ve(br(e),"onNodeLoad",function(t){var n,o=t.key,l=NW(e.state.keyEntities,o);if(null===l||void 0===l||null===(n=l.children)||void 0===n||!n.length){var r=new Promise(function(n,l){e.setState(function(r){var a=r.loadedKeys,i=void 0===a?[]:a,g=r.loadingKeys,c=void 0===g?[]:g,s=e.props,d=s.loadData,I=s.onLoad;return!d||i.includes(o)||c.includes(o)?null:(d(t).then(function(){var l=_W(e.state.loadedKeys,o);null===I||void 0===I||I(l,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:l}),e.setState(function(e){return{loadingKeys:qW(e.loadingKeys,o)}}),n()}).catch(function(t){if(e.setState(function(e){return{loadingKeys:qW(e.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=10){var r=e.state.loadedKeys;rt(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:_W(r,o)}),n()}l(t)}),{loadingKeys:_W(c,o)})})});return r.catch(function(){}),r}}),Ve(br(e),"onNodeMouseEnter",function(t,n){var o=e.props.onMouseEnter;null===o||void 0===o||o({event:t,node:n})}),Ve(br(e),"onNodeMouseLeave",function(t,n){var o=e.props.onMouseLeave;null===o||void 0===o||o({event:t,node:n})}),Ve(br(e),"onNodeContextMenu",function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))}),Ve(br(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];null===t||void 0===t||t.apply(void 0,o)}),Ve(br(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];null===t||void 0===t||t.apply(void 0,o)}),Ve(br(e),"getTreeNodeRequiredProps",function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}}),Ve(br(e),"setExpandedKeys",function(t){var n=e.state,o=LW(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:o},!0)}),Ve(br(e),"onNodeExpand",function(t,n){var o=e.state.expandedKeys,l=e.state,r=l.listChanging,a=l.fieldNames,i=e.props,g=i.onExpand,c=i.loadData,s=n.expanded,d=n[a.key];if(!r){var I=o.includes(d),C=!s;if(rt(s&&I||!s&&!I,"Expand state not sync with index check"),o=C?_W(o,d):qW(o,d),e.setExpandedKeys(o),null===g||void 0===g||g(o,{node:n,expanded:C,nativeEvent:t.nativeEvent}),C&&c){var u=e.onNodeLoad(n);u&&u.then(function(){var t=LW(e.state.treeData,o,a);e.setUncontrolledState({flattenNodes:t})}).catch(function(){var t=qW(e.state.expandedKeys,d);e.setExpandedKeys(t)})}}}),Ve(br(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),Ve(br(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),Ve(br(e),"onActiveChange",function(t){var n=e.state.activeKey,o=e.props,l=o.onActiveChange,r=o.itemScrollOffset,a=void 0===r?0:r;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t,offset:a}),null===l||void 0===l||l(t))}),Ve(br(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return null===n?null:o.find(function(e){return e.key===n})||null}),Ve(br(e),"offsetActiveKey",function(t){var n=e.state,o=n.flattenNodes,l=n.activeKey,r=o.findIndex(function(e){return e.key===l});-1===r&&t<0&&(r=o.length);var a=o[r=(r+t+o.length)%o.length];if(a){var i=a.key;e.onActiveChange(i)}else e.onActiveChange(null)}),Ve(br(e),"onKeyDown",function(t){var n=e.state,o=n.activeKey,l=n.expandedKeys,r=n.checkedKeys,a=n.fieldNames,i=e.props,g=i.onKeyDown,c=i.checkable,s=i.selectable;switch(t.which){case OI.UP:e.offsetActiveKey(-1),t.preventDefault();break;case OI.DOWN:e.offsetActiveKey(1),t.preventDefault()}var d=e.getActiveItem();if(d&&d.data){var I=e.getTreeNodeRequiredProps(),C=!1===d.data.isLeaf||!!(d.data[a.children]||[]).length,u=jW(Ee(Ee({},TW(o,I)),{},{data:d.data,active:!0}));switch(t.which){case OI.LEFT:C&&l.includes(o)?e.onNodeExpand({},u):d.parent&&e.onActiveChange(d.parent.key),t.preventDefault();break;case OI.RIGHT:C&&!l.includes(o)?e.onNodeExpand({},u):d.children&&d.children.length&&e.onActiveChange(d.children[0].key),t.preventDefault();break;case OI.ENTER:case OI.SPACE:!c||u.disabled||!1===u.checkable||u.disableCheckbox?c||!s||u.disabled||!1===u.selectable||e.onNodeSelect({},u):e.onNodeCheck({},u,!r.includes(o))}}null===g||void 0===g||g(t)}),Ve(br(e),"setUncontrolledState",function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var l=!1,r=!0,a={};Object.keys(t).forEach(function(n){e.props.hasOwnProperty(n)?r=!1:(l=!0,a[n]=t[n])}),!l||n&&!r||e.setState(Ee(Ee({},a),o))}}),Ve(br(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return ct(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,o=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,n=this.state,o=n.focused,l=n.flattenNodes,r=n.keyEntities,a=n.draggingNodeKey,i=n.activeKey,g=n.dropLevelOffset,c=n.dropContainerKey,s=n.dropTargetKey,d=n.dropPosition,I=n.dragOverNodeKey,C=n.indent,u=this.props,m=u.prefixCls,A=u.className,b=u.style,p=u.showLine,h=u.focusable,f=u.tabIndex,y=void 0===f?0:f,v=u.selectable,Z=u.showIcon,G=u.icon,S=u.switcherIcon,B=u.draggable,k=u.checkable,W=u.checkStrictly,V=u.disabled,R=u.motion,w=u.loadData,X=u.filterTreeNode,J=u.height,H=u.itemHeight,x=u.scrollWidth,Y=u.virtual,N=u.titleRender,E=u.dropIndicatorRender,F=u.onContextMenu,K=u.onScroll,M=u.direction,z=u.rootClassName,L=u.rootStyle,D=My(this.props,{aria:!0,data:!0});B&&(e="object"===ke(B)?B:"function"===typeof B?{nodeDraggable:B}:{});var T={prefixCls:m,selectable:v,showIcon:Z,icon:G,switcherIcon:S,draggable:e,draggingNodeKey:a,checkable:k,checkStrictly:W,disabled:V,keyEntities:r,dropLevelOffset:g,dropContainerKey:c,dropTargetKey:s,dropPosition:d,dragOverNodeKey:I,indent:C,direction:M,dropIndicatorRender:E,loadData:w,filterTreeNode:X,titleRender:N,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return t.createElement(JW.Provider,{value:T},t.createElement("div",{className:Ol()(m,A,z,Ve(Ve(Ve({},"".concat(m,"-show-line"),p),"".concat(m,"-focused"),o),"".concat(m,"-active-focused"),null!==i)),style:L},t.createElement(qR,$t({ref:this.listRef,prefixCls:m,style:b,data:l,disabled:V,selectable:v,checkable:!!k,motion:R,dragging:null!==a,height:J,itemHeight:H,virtual:Y,focusable:h,focused:o,tabIndex:y,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:F,onScroll:K,scrollWidth:x},this.getTreeNodeRequiredProps(),D))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,l={prevProps:e};function r(t){return!o&&e.hasOwnProperty(t)||o&&o[t]!==e[t]}var a=t.fieldNames;if(r("fieldNames")&&(a=MW(e.fieldNames),l.fieldNames=a),r("treeData")?n=e.treeData:r("children")&&(rt(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=zW(e.children)),n){l.treeData=n;var i=DW(n,{fieldNames:a});l.keyEntities=Ee(Ve({},TR,OR),i.keyEntities)}var g,c=l.keyEntities||t.keyEntities;if(r("expandedKeys")||o&&r("autoExpandParent"))l.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?aV(e.expandedKeys,c):e.expandedKeys;else if(!o&&e.defaultExpandAll){var s=Ee({},c);delete s[TR];var d=[];Object.keys(s).forEach(function(e){var t=s[e];t.children&&t.children.length&&d.push(t.key)}),l.expandedKeys=d}else!o&&e.defaultExpandedKeys&&(l.expandedKeys=e.autoExpandParent||e.defaultExpandParent?aV(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(l.expandedKeys||delete l.expandedKeys,n||l.expandedKeys){var I=LW(n||t.treeData,l.expandedKeys||t.expandedKeys,a);l.flattenNodes=I}if((e.selectable&&(r("selectedKeys")?l.selectedKeys=lV(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(l.selectedKeys=lV(e.defaultSelectedKeys,e))),e.checkable)&&(r("checkedKeys")?g=rV(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?g=rV(e.defaultCheckedKeys)||{}:n&&(g=rV(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),g)){var C=g,u=C.checkedKeys,m=void 0===u?[]:u,A=C.halfCheckedKeys,b=void 0===A?[]:A;if(!e.checkStrictly){var p=cV(m,!0,c);m=p.checkedKeys,b=p.halfCheckedKeys}l.checkedKeys=m,l.halfCheckedKeys=b}return r("loadedKeys")&&(l.loadedKeys=e.loadedKeys),l}}]),o}(t.Component);Ve(_R,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:xR,allowDrop:function(){return!0},expandAction:!1}),Ve(_R,"TreeNode",PW);const ew=_R;const tw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var nw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:tw}))};const ow=t.forwardRef(nw);const lw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var rw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:lw}))};const aw=t.forwardRef(rw);const iw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var gw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:iw}))};const cw=t.forwardRef(gw);const sw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var dw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:sw}))};const Iw=t.forwardRef(dw),Cw=e=>{let{treeCls:t,treeNodeCls:n,directoryNodeSelectedBg:o,directoryNodeSelectedColor:l,motionDurationMid:r,borderRadius:a,controlItemBgHover:i}=e;return{[`${t}${t}-directory ${n}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`&:has(${t}-drop-indicator)`]:{position:"relative"},[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${r}`,content:'""',borderRadius:a},"&:hover:before":{background:i}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{background:o,borderRadius:a,[`${t}-switcher, ${t}-draggable-icon`]:{color:l},[`${t}-node-content-wrapper`]:{color:l,background:"transparent","&:before, &:hover:before":{background:o}}}}}},uw=new no("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),mw=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Aw=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${wt(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),bw=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:l,titleHeight:r,indentSize:a,nodeSelectedBg:i,nodeHoverBg:g,colorTextQuaternary:c,controlItemBgActiveDisabled:s}=t;return{[n]:Object.assign(Object.assign({},Ja(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},Ha(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:uw,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:l,lineHeight:wt(r),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:l},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${o}-disabled${o}-selected ${n}-node-content-wrapper`]:{backgroundColor:s},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:r,textAlign:"center",visibility:"visible",color:c},[`&${o}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(r).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},mw(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:r,height:r,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(r).div(2).equal(),bottom:t.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(r).div(2).equal()).mul(.8).equal(),height:t.calc(r).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:r,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Aw(e,t)),{"&:hover":{backgroundColor:g},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:i},[`${n}-iconEle`]:{display:"inline-block",width:r,height:r,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(r).div(2).equal(),bottom:t.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${wt(t.calc(r).div(2).equal())} !important`}})}},pw=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=`.${e}`,l=`${o}-treenode`,r=t.calc(t.paddingXS).div(2).equal(),a=Ni(t,{treeCls:o,treeNodeCls:l,treeNodePadding:r});return[bw(e,a),n&&Cw(a)].filter(Boolean)},hw=Ui("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:mV(`${n}-checkbox`,e)},pw(n,e),ib(e)]},e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:o}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})});const fw=function(e){const{dropPosition:n,dropLevelOffset:o,prefixCls:l,indent:r,direction:a="ltr"}=e,i="ltr"===a?"left":"right",g="ltr"===a?"right":"left",c={[i]:-o*r+4,[g]:0};switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[i]=r+4}return t.createElement("div",{style:c,className:`${l}-drop-indicator`})};const yw={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var vw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:yw}))};const Zw=t.forwardRef(vw);const Gw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var Sw=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:Gw}))};const Bw=t.forwardRef(Sw);const kw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var Ww=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:kw}))};const Vw=t.forwardRef(Ww),Rw=e=>{var n,o;const{prefixCls:l,switcherIcon:r,treeNodeProps:a,showLine:i,switcherLoadingIcon:g}=e,{isLeaf:c,expanded:s,loading:d}=a;if(d)return t.isValidElement(g)?g:t.createElement(Hu,{className:`${l}-switcher-loading-icon`});let I;if(i&&"object"===typeof i&&(I=i.showLeafIcon),c){if(!i)return null;if("boolean"!==typeof I&&I){const e="function"===typeof I?I(a):I,o=`${l}-switcher-line-custom-icon`;return t.isValidElement(e)?dI(e,{className:Ol()(null===(n=e.props)||void 0===n?void 0:n.className,o)}):e}return I?t.createElement(ow,{className:`${l}-switcher-line-icon`}):t.createElement("span",{className:`${l}-switcher-leaf-line`})}const C=`${l}-switcher-icon`,u="function"===typeof r?r(a):r;return t.isValidElement(u)?dI(u,{className:Ol()(null===(o=u.props)||void 0===o?void 0:o.className,C)}):void 0!==u?u:i?s?t.createElement(Bw,{className:`${l}-switcher-line-icon`}):t.createElement(Vw,{className:`${l}-switcher-line-icon`}):t.createElement(Zw,{className:C})},ww=t.forwardRef((e,n)=>{var o;const{getPrefixCls:l,direction:r,virtual:a,tree:i}=t.useContext(Rl),{prefixCls:g,className:c,showIcon:s=!1,showLine:d,switcherIcon:I,switcherLoadingIcon:C,blockNode:u=!1,children:m,checkable:A=!1,selectable:b=!0,draggable:p,motion:h,style:f}=e,y=l("tree",g),v=l(),Z=null!==h&&void 0!==h?h:Object.assign(Object.assign({},_d(v)),{motionAppear:!1}),G=Object.assign(Object.assign({},e),{checkable:A,selectable:b,showIcon:s,motion:Z,blockNode:u,showLine:Boolean(d),dropIndicatorRender:fw}),[S,B,k]=hw(y),[,W]=Wa(),V=W.paddingXS/2+((null===(o=W.Tree)||void 0===o?void 0:o.titleHeight)||W.controlHeightSM),R=t.useMemo(()=>{if(!p)return!1;let e={};switch(typeof p){case"function":e.nodeDraggable=p;break;case"object":e=Object.assign({},p)}return!1!==e.icon&&(e.icon=e.icon||t.createElement(Iw,null)),e},[p]);return S(t.createElement(ew,Object.assign({itemHeight:V,ref:n,virtual:a},G,{style:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.style),f),prefixCls:y,className:Ol()({[`${y}-icon-hide`]:!s,[`${y}-block-node`]:u,[`${y}-unselectable`]:!b,[`${y}-rtl`]:"rtl"===r},null===i||void 0===i?void 0:i.className,c,B,k),direction:r,checkable:A?t.createElement("span",{className:`${y}-checkbox-inner`}):A,selectable:b,switcherIcon:e=>t.createElement(Rw,{prefixCls:y,switcherIcon:I,switcherLoadingIcon:C,treeNodeProps:e,showLine:d}),draggable:R}),m))});const Xw=ww;function Jw(e,t,n){const{key:o,children:l}=n;e.forEach(function(e){const r=e[o],a=e[l];!1!==t(r,e)&&Jw(a||[],t,n)})}function Hw(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:l,fieldNames:r}=e;const a=[];let i=0;if(o&&o===l)return[o];if(!o||!l)return[];return Jw(t,e=>{if(2===i)return!1;if(function(e){return e===o||e===l}(e)){if(a.push(e),0===i)i=1;else if(1===i)return i=2,!1}else 1===i&&a.push(e);return n.includes(e)},MW(r)),a}function xw(e,t,n){const o=Ye(t),l=[];return Jw(e,(e,t)=>{const n=o.indexOf(e);return-1!==n&&(l.push(t),o.splice(n,1)),!!o.length},MW(n)),l}var Yw=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function Nw(e){const{isLeaf:n,expanded:o}=e;return n?t.createElement(ow,null):o?t.createElement(aw,null):t.createElement(cw,null)}function Ew(e){let{treeData:t,children:n}=e;return t||zW(n)}const Fw=(e,n)=>{var{defaultExpandAll:o,defaultExpandParent:l,defaultExpandedKeys:r}=e,a=Yw(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const i=t.useRef(null),g=t.useRef(null),[c,s]=t.useState(a.selectedKeys||a.defaultSelectedKeys||[]),[d,I]=t.useState(()=>(()=>{const{keyEntities:e}=DW(Ew(a));let t;return t=o?Object.keys(e):l?aV(a.expandedKeys||r||[],e):a.expandedKeys||r||[],t})());t.useEffect(()=>{"selectedKeys"in a&&s(a.selectedKeys)},[a.selectedKeys]),t.useEffect(()=>{"expandedKeys"in a&&I(a.expandedKeys)},[a.expandedKeys]);const{getPrefixCls:C,direction:u}=t.useContext(Rl),{prefixCls:m,className:A,showIcon:b=!0,expandAction:p="click"}=a,h=Yw(a,["prefixCls","className","showIcon","expandAction"]),f=C("tree",m),y=Ol()(`${f}-directory`,{[`${f}-directory-rtl`]:"rtl"===u},A);return t.createElement(Xw,Object.assign({icon:Nw,ref:n,blockNode:!0},h,{showIcon:b,expandAction:p,prefixCls:f,className:y,expandedKeys:d,selectedKeys:c,onSelect:(e,t)=>{var n;const{multiple:o,fieldNames:l}=a,{node:r,nativeEvent:c}=t,{key:I=""}=r,C=Ew(a),u=Object.assign(Object.assign({},t),{selected:!0}),m=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),A=null===c||void 0===c?void 0:c.shiftKey;let b;o&&m?(b=e,i.current=I,g.current=b,u.selectedNodes=xw(C,b,l)):o&&A?(b=Array.from(new Set([].concat(Ye(g.current||[]),Ye(Hw({treeData:C,expandedKeys:d,startKey:I,endKey:i.current,fieldNames:l}))))),u.selectedNodes=xw(C,b,l)):(b=[I],i.current=I,g.current=b,u.selectedNodes=xw(C,b,l)),null===(n=a.onSelect)||void 0===n||n.call(a,b,u),"selectedKeys"in a||s(b)},onExpand:(e,t)=>{var n;return"expandedKeys"in a||I(e),null===(n=a.onExpand)||void 0===n?void 0:n.call(a,e,t)}}))};const Kw=t.forwardRef(Fw),Mw=Xw;Mw.DirectoryTree=Kw,Mw.TreeNode=PW;const zw=Mw;function Lw(e,n){const o=(0,t.useRef)([]),l=()=>{o.current.push(setTimeout(()=>{var t,n,o,l;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(o=e.current)||void 0===o?void 0:o.input.hasAttribute("value"))&&(null===(l=e.current)||void 0===l||l.input.removeAttribute("value"))}))};return(0,t.useEffect)(()=>(n&&l(),()=>o.current.forEach(e=>{e&&clearTimeout(e)})),[]),l}var Dw=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Tw=(0,t.forwardRef)((e,n)=>{const{prefixCls:o,bordered:l=!0,status:r,size:a,disabled:i,onBlur:g,onFocus:c,suffix:s,allowClear:d,addonAfter:I,addonBefore:C,className:u,style:m,styles:A,rootClassName:b,onChange:p,classNames:h,variant:f}=e,y=Dw(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:v,direction:Z,allowClear:G,autoComplete:S,className:B,style:k,classNames:W,styles:V}=Jl("input"),R=v("input",o),w=(0,t.useRef)(null),X=fC(R),[J,H,x]=eu(R,b),[Y]=tu(R,X),{compactSize:N,compactItemClassnames:E}=Nd(R,Z),F=Rd(e=>{var t;return null!==(t=null!==a&&void 0!==a?a:N)&&void 0!==t?t:e}),K=t.useContext(El),M=null!==i&&void 0!==i?i:K,{status:z,hasFeedback:L,feedbackIcon:D}=(0,t.useContext)(kd),T=hC(z,r),j=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!L;(0,t.useRef)(j);const O=Lw(w,!0),U=(L||s)&&t.createElement(t.Fragment,null,s,L&&D),Q=bC(null!==d&&void 0!==d?d:G),[$,P]=yC("input",f,l);return J(Y(t.createElement(oC,Object.assign({ref:lr(n,w),prefixCls:R,autoComplete:S},y,{disabled:M,onBlur:e=>{O(),null===g||void 0===g||g(e)},onFocus:e=>{O(),null===c||void 0===c||c(e)},style:Object.assign(Object.assign({},k),m),styles:Object.assign(Object.assign({},V),A),suffix:U,allowClear:Q,className:Ol()(u,b,x,X,E,B),onChange:e=>{O(),null===p||void 0===p||p(e)},addonBefore:C&&t.createElement(Md,{form:!0,space:!0},C),addonAfter:I&&t.createElement(Md,{form:!0,space:!0},I),classNames:Object.assign(Object.assign(Object.assign({},h),W),{input:Ol()({[`${R}-sm`]:"small"===F,[`${R}-lg`]:"large"===F,[`${R}-rtl`]:"rtl"===Z},null===h||void 0===h?void 0:h.input,W.input,H),variant:Ol()({[`${R}-${$}`]:P},pC(R,T)),affixWrapper:Ol()({[`${R}-affix-wrapper-sm`]:"small"===F,[`${R}-affix-wrapper-lg`]:"large"===F,[`${R}-affix-wrapper-rtl`]:"rtl"===Z},H),wrapper:Ol()({[`${R}-group-rtl`]:"rtl"===Z},H),groupWrapper:Ol()({[`${R}-group-wrapper-sm`]:"small"===F,[`${R}-group-wrapper-lg`]:"large"===F,[`${R}-group-wrapper-rtl`]:"rtl"===Z,[`${R}-group-wrapper-${$}`]:P},pC(`${R}-group-wrapper`,T,L),H)})}))))});const jw=Tw,Ow=e=>{const{value:n,filterSearch:o,tablePrefixCls:l,locale:r,onChange:a}=e;return o?t.createElement("div",{className:`${l}-filter-dropdown-search`},t.createElement(jw,{prefix:t.createElement(HG,null),placeholder:r.filterSearchPlaceholder,onChange:a,value:n,htmlSize:1,className:`${l}-filter-dropdown-search-input`})):null},Uw=e=>{const{keyCode:t}=e;t===OI.ENTER&&e.stopPropagation()},Qw=t.forwardRef((e,n)=>t.createElement("div",{className:e.className,onClick:e=>e.stopPropagation(),onKeyDown:Uw,ref:n},e.children));const $w=Qw;function Pw(e){let t=[];return(e||[]).forEach(e=>{let{value:n,children:o}=e;t.push(n),o&&(t=[].concat(Ye(t),Ye(Pw(o))))}),t}function qw(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function _w(e){let{filters:n,prefixCls:o,filteredKeys:l,filterMultiple:r,searchValue:a,filterSearch:i}=e;return n.map((e,n)=>{const g=String(e.value);if(e.children)return{key:g||n,label:e.text,popupClassName:`${o}-dropdown-submenu`,children:_w({filters:e.children,prefixCls:o,filteredKeys:l,filterMultiple:r,searchValue:a,filterSearch:i})};const c=r?SV:bR,s={key:void 0!==e.value?g:n,label:t.createElement(t.Fragment,null,t.createElement(c,{checked:l.includes(g)}),t.createElement("span",null,e.text))};return a.trim()?"function"===typeof i?i(a,e)?s:null:qw(a,e.text)?s:null:s})}function eX(e){return e||[]}const tX=e=>{var n,o,l,r;const{tablePrefixCls:a,prefixCls:i,column:g,dropdownPrefixCls:c,columnKey:s,filterOnClose:d,filterMultiple:I,filterMode:C="menu",filterSearch:u=!1,filterState:m,triggerFilter:A,locale:b,children:p,getPopupContainer:h,rootClassName:f}=e,{filterResetToDefaultFilteredValue:y,defaultFilteredValue:v,filterDropdownProps:Z={},filterDropdownOpen:G,filterDropdownVisible:S,onFilterDropdownVisibleChange:B,onFilterDropdownOpenChange:k}=g,[W,V]=t.useState(!1),R=!(!m||!(null===(n=m.filteredKeys)||void 0===n?void 0:n.length)&&!m.forceFiltered),w=e=>{var t;V(e),null===(t=Z.onOpenChange)||void 0===t||t.call(Z,e),null===k||void 0===k||k(e),null===B||void 0===B||B(e)};const X=null!==(r=null!==(l=null!==(o=Z.open)&&void 0!==o?o:G)&&void 0!==l?l:S)&&void 0!==r?r:W,J=null===m||void 0===m?void 0:m.filteredKeys,[H,x]=function(e){const n=t.useRef(e),o=yh();return[()=>n.current,e=>{n.current=e,o()}]}(eX(J)),Y=e=>{let{selectedKeys:t}=e;x(t)},N=(e,t)=>{let{node:n,checked:o}=t;Y(I?{selectedKeys:e}:{selectedKeys:o&&n.key?[n.key]:[]})};t.useEffect(()=>{W&&Y({selectedKeys:eX(J)})},[J]);const[E,F]=t.useState([]),K=e=>{F(e)},[M,z]=t.useState(""),L=e=>{const{value:t}=e.target;z(t)};t.useEffect(()=>{W||z("")},[W]);const D=e=>{const t=(null===e||void 0===e?void 0:e.length)?e:null;return null!==t||m&&m.filteredKeys?at(t,null===m||void 0===m?void 0:m.filteredKeys,!0)?null:void A({column:g,key:s,filteredKeys:t}):null},T=()=>{w(!1),D(H())},j=function(){let{confirm:e,closeDropdown:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1};e&&D([]),t&&w(!1),z(""),x(y?(v||[]).map(e=>String(e)):[])},O=function(){let{closeDropdown:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0};e&&w(!1),D(H())},U=Ol()({[`${c}-menu-without-submenu`]:(Q=g.filters||[],!Q.some(e=>{let{children:t}=e;return t}))});var Q;const $=e=>{if(e.target.checked){const e=Pw(null===g||void 0===g?void 0:g.filters).map(e=>String(e));x(e)}else x([])},P=e=>{let{filters:t}=e;return(t||[]).map((e,t)=>{const n=String(e.value),o={title:e.text,key:void 0!==e.value?n:String(t)};return e.children&&(o.children=P({filters:e.children})),o})},q=e=>{var t;return Object.assign(Object.assign({},e),{text:e.title,value:e.key,children:(null===(t=e.children)||void 0===t?void 0:t.map(e=>q(e)))||[]})};let _;const{direction:ee,renderEmpty:te}=t.useContext(Rl);if("function"===typeof g.filterDropdown)_=g.filterDropdown({prefixCls:`${c}-custom`,setSelectedKeys:e=>Y({selectedKeys:e}),selectedKeys:H(),confirm:O,clearFilters:j,filters:g.filters,visible:X,close:()=>{w(!1)}});else if(g.filterDropdown)_=g.filterDropdown;else{const e=H()||[],n=()=>{var n,o;const l=null!==(n=null===te||void 0===te?void 0:te("Table.filter"))&&void 0!==n?n:t.createElement(sv,{image:sv.PRESENTED_IMAGE_SIMPLE,description:b.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if(0===(g.filters||[]).length)return l;if("tree"===C)return t.createElement(t.Fragment,null,t.createElement(Ow,{filterSearch:u,value:M,onChange:L,tablePrefixCls:a,locale:b}),t.createElement("div",{className:`${a}-filter-dropdown-tree`},I?t.createElement(SV,{checked:e.length===Pw(g.filters).length,indeterminate:e.length>0&&e.length<Pw(g.filters).length,className:`${a}-filter-dropdown-checkall`,onChange:$},null!==(o=null===b||void 0===b?void 0:b.filterCheckall)&&void 0!==o?o:null===b||void 0===b?void 0:b.filterCheckAll):null,t.createElement(zw,{checkable:!0,selectable:!1,blockNode:!0,multiple:I,checkStrictly:!I,className:`${c}-menu`,onCheck:N,checkedKeys:e,selectedKeys:e,showIcon:!1,treeData:P({filters:g.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:M.trim()?e=>"function"===typeof u?u(M,q(e)):qw(M,e.title):void 0})));const r=_w({filters:g.filters||[],filterSearch:u,prefixCls:i,filteredKeys:H(),filterMultiple:I,searchValue:M}),s=r.every(e=>null===e);return t.createElement(t.Fragment,null,t.createElement(Ow,{filterSearch:u,value:M,onChange:L,tablePrefixCls:a,locale:b}),s?l:t.createElement(Yb,{selectable:!0,multiple:I,prefixCls:`${c}-menu`,className:U,onSelect:Y,onDeselect:Y,selectedKeys:e,getPopupContainer:h,openKeys:E,onOpenChange:K,items:r}))},o=()=>y?at((v||[]).map(e=>String(e)),e,!0):0===e.length;_=t.createElement(t.Fragment,null,n(),t.createElement("div",{className:`${i}-dropdown-btns`},t.createElement(bh,{type:"link",size:"small",disabled:o(),onClick:()=>j()},b.filterReset),t.createElement(bh,{type:"primary",size:"small",onClick:T},b.filterConfirm)))}g.filterDropdown&&(_=t.createElement(rb,{selectable:void 0},_)),_=t.createElement($w,{className:`${i}-dropdown`},_);const ne=tv({trigger:["click"],placement:"rtl"===ee?"bottomLeft":"bottomRight",children:(()=>{let e;return e="function"===typeof g.filterIcon?g.filterIcon(R):g.filterIcon?g.filterIcon:t.createElement(HR,null),t.createElement("span",{role:"button",tabIndex:-1,className:Ol()(`${i}-trigger`,{active:R}),onClick:e=>{e.stopPropagation()}},e)})(),getPopupContainer:h},Object.assign(Object.assign({},Z),{rootClassName:Ol()(f,Z.rootClassName),open:X,onOpenChange:(e,t)=>{"trigger"===t.source&&(e&&void 0!==J&&x(eX(J)),w(e),e||g.filterDropdown||!d||T())},popupRender:()=>"function"===typeof(null===Z||void 0===Z?void 0:Z.dropdownRender)?Z.dropdownRender(_):_}));return t.createElement("div",{className:`${i}-column`},t.createElement("span",{className:`${a}-column-title`},p),t.createElement(NV,Object.assign({},ne)))},nX=(e,t,n)=>{let o=[];return(e||[]).forEach((e,l)=>{var r;const a=RR(l,n),i=void 0!==e.filterDropdown;if(e.filters||i||"onFilter"in e)if("filteredValue"in e){let t=e.filteredValue;i||(t=null!==(r=null===t||void 0===t?void 0:t.map(String))&&void 0!==r?r:t),o.push({column:e,key:VR(e,a),filteredKeys:t,forceFiltered:e.filtered})}else o.push({column:e,key:VR(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(o=[].concat(Ye(o),Ye(nX(e.children,t,a))))}),o};function oX(e,n,o,l,r,a,i,g,c){return o.map((o,s)=>{const d=RR(s,g),{filterOnClose:I=!0,filterMultiple:C=!0,filterMode:u,filterSearch:m}=o;let A=o;if(A.filters||A.filterDropdown){const g=VR(A,d),s=l.find(e=>{let{key:t}=e;return g===t});A=Object.assign(Object.assign({},A),{title:l=>t.createElement(tX,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:n,column:A,columnKey:g,filterState:s,filterOnClose:I,filterMultiple:C,filterMode:u,filterSearch:m,triggerFilter:a,locale:r,getPopupContainer:i,rootClassName:c},wR(o.title,l))})}return"children"in A&&(A=Object.assign(Object.assign({},A),{children:oX(e,n,A.children,l,r,a,i,d,c)})),A})}const lX=e=>{const t={};return e.forEach(e=>{let{key:n,filteredKeys:o,column:l}=e;const r=n,{filters:a,filterDropdown:i}=l;if(i)t[r]=o||null;else if(Array.isArray(o)){const e=Pw(a);t[r]=e.filter(e=>o.includes(String(e)))}else t[r]=null}),t},rX=(e,t,n)=>{const o=t.reduce((e,o)=>{const{column:{onFilter:l,filters:r},filteredKeys:a}=o;return l&&a&&a.length?e.map(e=>Object.assign({},e)).filter(e=>a.some(o=>{const a=Pw(r),i=a.findIndex(e=>String(e)===String(o)),g=-1!==i?a[i]:o;return e[n]&&(e[n]=rX(e[n],t,n)),l(g,e)})):e},e);return o},aX=e=>e.flatMap(e=>"children"in e?[e].concat(Ye(aX(e.children||[]))):[e]),iX=e=>{const{prefixCls:n,dropdownPrefixCls:o,mergedColumns:l,onFilterChange:r,getPopupContainer:a,locale:i,rootClassName:g}=e,c=(mo("Table"),t.useMemo(()=>aX(l||[]),[l])),[s,d]=t.useState(()=>nX(c,!0)),I=t.useMemo(()=>{const e=nX(c,!1);if(0===e.length)return e;let t=!0,n=!0;if(e.forEach(e=>{let{filteredKeys:o}=e;void 0!==o?t=!1:n=!1}),t){const e=(c||[]).map((e,t)=>VR(e,RR(t)));return s.filter(t=>{let{key:n}=t;return e.includes(n)}).map(t=>{const n=c[e.findIndex(e=>e===t.key)];return Object.assign(Object.assign({},t),{column:Object.assign(Object.assign({},t.column),n),forceFiltered:n.filtered})})}return e},[c,s]),C=t.useMemo(()=>lX(I),[I]),u=e=>{const t=I.filter(t=>{let{key:n}=t;return n!==e.key});t.push(e),d(t),r(lX(t),t)};return[e=>oX(n,o,e,I,i,u,a,void 0,g),I,C]},gX=(e,n,o)=>{const l=t.useRef({});return[function(t){var r;if(!l.current||l.current.data!==e||l.current.childrenColumnName!==n||l.current.getRowKey!==o){const a=new Map;function i(e){e.forEach((e,t)=>{const l=o(e,t);a.set(l,e),e&&"object"===typeof e&&n in e&&i(e[n]||[])})}i(e),l.current={data:e,childrenColumnName:n,kvMap:a,getRowKey:o}}return null===(r=l.current.kvMap)||void 0===r?void 0:r.get(t)}]};var cX=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const sX=10;const dX=function(e,n,o){const l=o&&"object"===typeof o?o:{},{total:r=0}=l,a=cX(l,["total"]),[i,g]=(0,t.useState)(()=>({current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:sX})),c=tv(i,a,{total:r>0?r:e}),s=Math.ceil((r||e)/c.pageSize);c.current>s&&(c.current=s||1);const d=(e,t)=>{g({current:null!==e&&void 0!==e?e:1,pageSize:t||c.pageSize})};return!1===o?[{},()=>{}]:[Object.assign(Object.assign({},c),{onChange:(e,t)=>{var l;o&&(null===(l=o.onChange)||void 0===l||l.call(o,e,t)),d(e,t),n(e,t||(null===c||void 0===c?void 0:c.pageSize))}}),d]};const IX={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var CX=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:IX}))};const uX=t.forwardRef(CX);const mX={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};var AX=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:mX}))};const bX=t.forwardRef(AX),pX="ascend",hX="descend",fX=e=>"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple,yX=e=>"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare,vX=(e,t,n)=>{let o=[];const l=(e,t)=>{o.push({column:e,key:VR(e,t),multiplePriority:fX(e),sortOrder:e.sortOrder})};return(e||[]).forEach((e,r)=>{const a=RR(r,n);e.children?("sortOrder"in e&&l(e,a),o=[].concat(Ye(o),Ye(vX(e.children,t,a)))):e.sorter&&("sortOrder"in e?l(e,a):t&&e.defaultSortOrder&&o.push({column:e,key:VR(e,a),multiplePriority:fX(e),sortOrder:e.defaultSortOrder}))}),o},ZX=(e,n,o,l,r,a,i,g)=>{const c=(n||[]).map((n,c)=>{const s=RR(c,g);let d=n;if(d.sorter){const g=d.sortDirections||r,c=void 0===d.showSorterTooltip?i:d.showSorterTooltip,I=VR(d,s),C=o.find(e=>{let{key:t}=e;return t===I}),u=C?C.sortOrder:null,m=((e,t)=>t?e[e.indexOf(t)+1]:e[0])(g,u);let A;if(n.sortIcon)A=n.sortIcon({sortOrder:u});else{const n=g.includes(pX)&&t.createElement(bX,{className:Ol()(`${e}-column-sorter-up`,{active:u===pX})}),o=g.includes(hX)&&t.createElement(uX,{className:Ol()(`${e}-column-sorter-down`,{active:u===hX})});A=t.createElement("span",{className:Ol()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!(!n||!o)})},t.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},n,o))}const{cancelSort:b,triggerAsc:p,triggerDesc:h}=a||{};let f=b;m===hX?f=h:m===pX&&(f=p);const y="object"===typeof c?Object.assign({title:f},c):{title:f};d=Object.assign(Object.assign({},d),{className:Ol()(d.className,{[`${e}-column-sort`]:u}),title:o=>{const l=`${e}-column-sorters`,r=t.createElement("span",{className:`${e}-column-title`},wR(n.title,o)),a=t.createElement("div",{className:l},r,A);return c?"boolean"!==typeof c&&"sorter-icon"===(null===c||void 0===c?void 0:c.target)?t.createElement("div",{className:`${l} ${e}-column-sorters-tooltip-target-sorter`},r,t.createElement(zI,Object.assign({},y),A)):t.createElement(zI,Object.assign({},y),a):a},onHeaderCell:t=>{var o;const r=(null===(o=n.onHeaderCell)||void 0===o?void 0:o.call(n,t))||{},a=r.onClick,i=r.onKeyDown;r.onClick=e=>{l({column:n,key:I,sortOrder:m,multiplePriority:fX(n)}),null===a||void 0===a||a(e)},r.onKeyDown=e=>{e.keyCode===OI.ENTER&&(l({column:n,key:I,sortOrder:m,multiplePriority:fX(n)}),null===i||void 0===i||i(e))};const g=((e,t)=>{const n=wR(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n})(n.title,{}),c=null===g||void 0===g?void 0:g.toString();return u&&(r["aria-sort"]="ascend"===u?"ascending":"descending"),r["aria-label"]=c||"",r.className=Ol()(r.className,`${e}-column-has-sorters`),r.tabIndex=0,n.ellipsis&&(r.title=(null!==g&&void 0!==g?g:"").toString()),r}})}return"children"in d&&(d=Object.assign(Object.assign({},d),{children:ZX(e,d.children,o,l,r,a,i,s)})),d});return c},GX=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},SX=e=>{const t=e.filter(e=>{let{sortOrder:t}=e;return t}).map(GX);if(0===t.length&&e.length){const t=e.length-1;return Object.assign(Object.assign({},GX(e[t])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},BX=(e,t,n)=>{const o=t.slice().sort((e,t)=>t.multiplePriority-e.multiplePriority),l=e.slice(),r=o.filter(e=>{let{column:{sorter:t},sortOrder:n}=e;return yX(t)&&n});return r.length?l.sort((e,t)=>{for(let n=0;n<r.length;n+=1){const o=r[n],{column:{sorter:l},sortOrder:a}=o,i=yX(l);if(i&&a){const n=i(e,t,a);if(0!==n)return a===pX?n:-n}}return 0}).map(e=>{const o=e[n];return o?Object.assign(Object.assign({},e),{[n]:BX(o,t,n)}):e}):l},kX=e=>{const{prefixCls:n,mergedColumns:o,sortDirections:l,tableLocale:r,showSorterTooltip:a,onSorterChange:i}=e,[g,c]=t.useState(()=>vX(o,!0)),s=(e,t)=>{const n=[];return e.forEach((e,o)=>{const l=RR(o,t);if(n.push(VR(e,l)),Array.isArray(e.children)){const t=s(e.children,l);n.push.apply(n,Ye(t))}}),n},d=t.useMemo(()=>{let e=!0;const t=vX(o,!1);if(!t.length){const e=s(o);return g.filter(t=>{let{key:n}=t;return e.includes(n)})}const n=[];function l(t){e?n.push(t):n.push(Object.assign(Object.assign({},t),{sortOrder:null}))}let r=null;return t.forEach(t=>{null===r?(l(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:r=!0)):(r&&!1!==t.multiplePriority||(e=!1),l(t))}),n},[o,g]),I=t.useMemo(()=>{var e,t;const n=d.map(e=>{let{column:t,sortOrder:n}=e;return{column:t,order:n}});return{sortColumns:n,sortColumn:null===(e=n[0])||void 0===e?void 0:e.column,sortOrder:null===(t=n[0])||void 0===t?void 0:t.order}},[d]),C=e=>{let t;t=!1!==e.multiplePriority&&d.length&&!1!==d[0].multiplePriority?[].concat(Ye(d.filter(t=>{let{key:n}=t;return n!==e.key})),[e]):[e],c(t),i(SX(t),t)};return[e=>ZX(n,e,d,C,l,r,a),d,I,()=>SX(d)]},WX=(e,t)=>{const n=e.map(e=>{const n=Object.assign({},e);return n.title=wR(e.title,t),"children"in n&&(n.children=WX(n.children,t)),n});return n},VX=e=>[t.useCallback(t=>WX(t,e),[e])],RX=AW((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:o}=t;return n!==o}),wX=RX,XX=RW((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:o}=t;return n!==o}),JX=XX,HX=e=>{const{componentCls:t,lineWidth:n,lineType:o,tableBorderColor:l,tableHeaderBg:r,tablePaddingVertical:a,tablePaddingHorizontal:i,calc:g}=e,c=`${wt(n)} ${o} ${l}`,s=(e,o,l)=>({[`&${t}-${e}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${wt(g(o).mul(-1).equal())}\n              ${wt(g(g(l).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:c,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:c,borderTop:c,[`\n            > ${t}-content,\n            > ${t}-header,\n            > ${t}-body,\n            > ${t}-summary\n          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${wt(g(a).mul(-1).equal())} ${wt(g(g(i).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`\n                > tr${t}-expanded-row,\n                > tr${t}-placeholder\n              `]:{"> th, > td":{borderInlineEnd:0}}}}}},s("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),s("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:c,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${wt(n)} 0 ${wt(n)} ${r}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:c}}}},xX=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Xa),{wordBreak:"keep-all",[`\n          &${t}-cell-fix-left-last,\n          &${t}-cell-fix-right-first\n        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},YX=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},NX=e=>{const{componentCls:t,antCls:n,motionDurationSlow:o,lineWidth:l,paddingXS:r,lineType:a,tableBorderColor:i,tableExpandIconBg:g,tableExpandColumnWidth:c,borderRadius:s,tablePaddingVertical:d,tablePaddingHorizontal:I,tableExpandedRowBg:C,paddingXXS:u,expandIconMarginTop:m,expandIconSize:A,expandIconHalfInner:b,expandIconScale:p,calc:h}=e,f=`${wt(l)} ${a} ${i}`,y=h(u).sub(l).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:c},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},Na(e)),{position:"relative",float:"left",width:A,height:A,color:"inherit",lineHeight:wt(A),background:g,border:f,borderRadius:s,transform:`scale(${p})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:b,insetInlineEnd:y,insetInlineStart:y,height:l},"&::after":{top:y,bottom:y,insetInlineStart:b,width:l,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:m,marginInlineEnd:r},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:C}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${wt(h(d).mul(-1).equal())} ${wt(h(I).mul(-1).equal())}`,padding:`${wt(d)} ${wt(I)}`}}}},EX=e=>{const{componentCls:t,antCls:n,iconCls:o,tableFilterDropdownWidth:l,tableFilterDropdownSearchWidth:r,paddingXXS:a,paddingXS:i,colorText:g,lineWidth:c,lineType:s,tableBorderColor:d,headerIconColor:I,fontSizeSM:C,tablePaddingHorizontal:u,borderRadius:m,motionDurationSlow:A,colorIcon:b,colorPrimary:p,tableHeaderFilterActiveBg:h,colorTextDisabled:f,tableFilterDropdownBg:y,tableFilterDropdownHeight:v,controlItemBgHover:Z,controlItemBgActive:G,boxShadowSecondary:S,filterDropdownMenuBg:B,calc:k}=e,W=`${n}-dropdown`,V=`${t}-filter-dropdown`,R=`${n}-tree`,w=`${wt(c)} ${s} ${d}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:k(a).mul(-1).equal(),marginInline:`${wt(a)} ${wt(k(u).div(2).mul(-1).equal())}`,padding:`0 ${wt(a)}`,color:I,fontSize:C,borderRadius:m,cursor:"pointer",transition:`all ${A}`,"&:hover":{color:b,background:h},"&.active":{color:p}}}},{[`${n}-dropdown`]:{[V]:Object.assign(Object.assign({},Ja(e)),{minWidth:l,backgroundColor:y,borderRadius:m,boxShadow:S,overflow:"hidden",[`${W}-menu`]:{maxHeight:v,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:B,"&:empty::after":{display:"block",padding:`${wt(i)} 0`,color:f,fontSize:C,textAlign:"center",content:'"Not Found"'}},[`${V}-tree`]:{paddingBlock:`${wt(i)} 0`,paddingInline:i,[R]:{padding:0},[`${R}-treenode ${R}-node-content-wrapper:hover`]:{backgroundColor:Z},[`${R}-treenode-checkbox-checked ${R}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:G}}},[`${V}-search`]:{padding:i,borderBottom:w,"&-input":{input:{minWidth:r},[o]:{color:f}}},[`${V}-checkall`]:{width:"100%",marginBottom:a,marginInlineStart:a},[`${V}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${wt(k(i).sub(c).equal())} ${wt(i)}`,overflow:"hidden",borderTop:w}})}},{[`${n}-dropdown ${V}, ${V}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:i,color:g},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},FX=e=>{const{componentCls:t,lineWidth:n,colorSplit:o,motionDurationSlow:l,zIndexTableFixed:r,tableBg:a,zIndexTableSticky:i,calc:g}=e,c=o;return{[`${t}-wrapper`]:{[`\n        ${t}-cell-fix-left,\n        ${t}-cell-fix-right\n      `]:{position:"sticky !important",zIndex:r,background:a},[`\n        ${t}-cell-fix-left-first::after,\n        ${t}-cell-fix-left-last::after\n      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:g(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`\n        ${t}-cell-fix-right-first::after,\n        ${t}-cell-fix-right-last::after\n      `]:{position:"absolute",top:0,bottom:g(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:g(i).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${l}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`\n          ${t}-cell-fix-left-first::after,\n          ${t}-cell-fix-left-last::after\n        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`\n          ${t}-cell-fix-right-first::after,\n          ${t}-cell-fix-right-last::after\n        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${t}-fixed-column-gapped`]:{[`\n        ${t}-cell-fix-left-first::after,\n        ${t}-cell-fix-left-last::after,\n        ${t}-cell-fix-right-first::after,\n        ${t}-cell-fix-right-last::after\n      `]:{boxShadow:"none"}}}}},KX=e=>{const{componentCls:t,antCls:n,margin:o}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${n}-pagination`]:{margin:`${wt(o)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},MX=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${wt(n)} ${wt(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${wt(n)} ${wt(n)}`}}}}},zX=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},LX=e=>{const{componentCls:t,antCls:n,iconCls:o,fontSizeIcon:l,padding:r,paddingXS:a,headerIconColor:i,headerIconHoverColor:g,tableSelectionColumnWidth:c,tableSelectedRowBg:s,tableSelectedRowHoverBg:d,tableRowHoverBg:I,tablePaddingHorizontal:C,calc:u}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:c,[`&${t}-selection-col-with-dropdown`]:{width:u(c).add(l).add(u(r).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:u(c).add(u(a).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:u(c).add(l).add(u(r).div(4)).add(u(a).mul(2)).equal()}},[`\n        table tr th${t}-selection-column,\n        table tr td${t}-selection-column,\n        ${t}-selection-column\n      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:u(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:wt(u(C).div(4).equal()),[o]:{color:i,fontSize:l,verticalAlign:"baseline","&:hover":{color:g}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:s,"&-row-hover":{background:d}}},[`> ${t}-cell-row-hover`]:{background:I}}}}}},DX=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:o}=e,l=(e,l,r,a)=>({[`${t}${t}-${e}`]:{fontSize:a,[`\n        ${t}-title,\n        ${t}-footer,\n        ${t}-cell,\n        ${t}-thead > tr > th,\n        ${t}-tbody > tr > th,\n        ${t}-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      `]:{padding:`${wt(l)} ${wt(r)}`},[`${t}-filter-trigger`]:{marginInlineEnd:wt(o(r).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${wt(o(l).mul(-1).equal())} ${wt(o(r).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:wt(o(l).mul(-1).equal()),marginInline:`${wt(o(n).sub(r).equal())} ${wt(o(r).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:wt(o(r).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},l("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),l("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},TX=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:o,headerIconColor:l,headerIconHoverColor:r}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`\n          &${t}-cell-fix-left:hover,\n          &${t}-cell-fix-right:hover\n        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:l,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:r}}}},jX=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:o,tableScrollThumbBgHover:l,tableScrollThumbSize:r,tableScrollBg:a,zIndexTableSticky:i,stickyScrollBarBorderRadius:g,lineWidth:c,lineType:s,tableBorderColor:d}=e,I=`${wt(c)} ${s} ${d}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:i,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${wt(r)} !important`,zIndex:i,display:"flex",alignItems:"center",background:a,borderTop:I,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:r,backgroundColor:o,borderRadius:g,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:l}}}}}}},OX=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:o,calc:l}=e,r=`${wt(n)} ${e.lineType} ${o}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:r}}},[`div${t}-summary`]:{boxShadow:`0 ${wt(l(n).mul(-1).equal())} 0 ${o}`}}}},UX=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:o,lineType:l,tableBorderColor:r,calc:a}=e,i=`${wt(o)} ${l} ${r}`,g=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`\n            & > ${t}-row, \n            & > div:not(${t}-row) > ${t}-row\n          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:i,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${g}${g}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${wt(o)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:i,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:i,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:a(o).mul(-1).equal(),borderInlineStart:i}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:i,borderBottom:i}}}}}},QX=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:o,tablePaddingHorizontal:l,tableExpandColumnWidth:r,lineWidth:a,lineType:i,tableBorderColor:g,tableFontSize:c,tableBg:s,tableRadius:d,tableHeaderTextColor:I,motionDurationMid:C,tableHeaderBg:u,tableHeaderCellSplitColor:m,tableFooterTextColor:A,tableFooterBg:b,calc:p}=e,h=`${wt(a)} ${i} ${g}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[t]:Object.assign(Object.assign({},Ja(e)),{fontSize:c,background:s,borderRadius:`${wt(d)} ${wt(d)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${wt(d)} ${wt(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`\n          ${t}-cell,\n          ${t}-thead > tr > th,\n          ${t}-tbody > tr > th,\n          ${t}-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        `]:{position:"relative",padding:`${wt(o)} ${wt(l)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${wt(o)} ${wt(l)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:I,fontWeight:n,textAlign:"start",background:u,borderBottom:h,transition:`background ${C} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:m,transform:"translateY(-50%)",transition:`background-color ${C}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${C}, border-color ${C}`,borderBottom:h,[`\n              > ${t}-wrapper:only-child,\n              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child\n            `]:{[t]:{marginBlock:wt(p(o).mul(-1).equal()),marginInline:`${wt(p(r).sub(l).equal())}\n                ${wt(p(l).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:I,fontWeight:n,textAlign:"start",background:u,borderBottom:h,transition:`background ${C} ease`}}},[`${t}-footer`]:{padding:`${wt(o)} ${wt(l)}`,color:A,background:b}})}},$X=Ui("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:o,controlInteractiveSize:l,headerBg:r,headerColor:a,headerSortActiveBg:i,headerSortHoverBg:g,bodySortBg:c,rowHoverBg:s,rowSelectedBg:d,rowSelectedHoverBg:I,rowExpandedBg:C,cellPaddingBlock:u,cellPaddingInline:m,cellPaddingBlockMD:A,cellPaddingInlineMD:b,cellPaddingBlockSM:p,cellPaddingInlineSM:h,borderColor:f,footerBg:y,footerColor:v,headerBorderRadius:Z,cellFontSize:G,cellFontSizeMD:S,cellFontSizeSM:B,headerSplitColor:k,fixedHeaderSortActiveBg:W,headerFilterHoverBg:V,filterDropdownBg:R,expandIconBg:w,selectionColumnWidth:X,stickyScrollBarBg:J,calc:H}=e,x=Ni(e,{tableFontSize:G,tableBg:o,tableRadius:Z,tablePaddingVertical:u,tablePaddingHorizontal:m,tablePaddingVerticalMiddle:A,tablePaddingHorizontalMiddle:b,tablePaddingVerticalSmall:p,tablePaddingHorizontalSmall:h,tableBorderColor:f,tableHeaderTextColor:a,tableHeaderBg:r,tableFooterTextColor:v,tableFooterBg:y,tableHeaderCellSplitColor:k,tableHeaderSortBg:i,tableHeaderSortHoverBg:g,tableBodySortBg:c,tableFixedHeaderSortActiveBg:W,tableHeaderFilterActiveBg:V,tableFilterDropdownBg:R,tableRowHoverBg:s,tableSelectedRowBg:d,tableSelectedRowHoverBg:I,zIndexTableFixed:2,zIndexTableSticky:H(2).add(1).equal({unit:!1}),tableFontSizeMiddle:S,tableFontSizeSmall:B,tableSelectionColumnWidth:X,tableExpandIconBg:w,tableExpandColumnWidth:H(l).add(H(e.padding).mul(2)).equal(),tableExpandedRowBg:C,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:J,tableScrollThumbBgHover:t,tableScrollBg:n});return[QX(x),KX(x),OX(x),TX(x),EX(x),HX(x),MX(x),NX(x),OX(x),YX(x),LX(x),FX(x),jX(x),xX(x),DX(x),zX(x),UX(x)]},e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:o,colorFillSecondary:l,colorFillContent:r,controlItemBgActive:a,controlItemBgActiveHover:i,padding:g,paddingSM:c,paddingXS:s,colorBorderSecondary:d,borderRadiusLG:I,controlHeight:C,colorTextPlaceholder:u,fontSize:m,fontSizeSM:A,lineHeight:b,lineWidth:p,colorIcon:h,colorIconHover:f,opacityLoading:y,controlInteractiveSize:v}=e,Z=new Jo(l).onBackground(n).toHexString(),G=new Jo(r).onBackground(n).toHexString(),S=new Jo(t).onBackground(n).toHexString(),B=new Jo(h),k=new Jo(f),W=v/2-p,V=2*W+3*p;return{headerBg:S,headerColor:o,headerSortActiveBg:Z,headerSortHoverBg:G,bodySortBg:S,rowHoverBg:S,rowSelectedBg:a,rowSelectedHoverBg:i,rowExpandedBg:t,cellPaddingBlock:g,cellPaddingInline:g,cellPaddingBlockMD:c,cellPaddingInlineMD:s,cellPaddingBlockSM:s,cellPaddingInlineSM:s,borderColor:d,headerBorderRadius:I,footerBg:S,footerColor:o,cellFontSize:m,cellFontSizeMD:m,cellFontSizeSM:m,headerSplitColor:d,fixedHeaderSortActiveBg:Z,headerFilterHoverBg:r,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:C,stickyScrollBarBg:u,stickyScrollBarBorderRadius:100,expandIconMarginTop:(m*b-3*p)/2-Math.ceil((1.4*A-3*p)/2),headerIconColor:B.clone().setA(B.a*y).toRgbString(),headerIconHoverColor:k.clone().setA(k.a*y).toRgbString(),expandIconHalfInner:W,expandIconSize:V,expandIconScale:v/V}},{unitless:{expandIconScale:!0}}),PX=[],qX=(e,n)=>{var o,l;const{prefixCls:r,className:a,rootClassName:i,style:g,size:c,bordered:s,dropdownPrefixCls:d,dataSource:I,pagination:C,rowSelection:u,rowKey:m="key",rowClassName:A,columns:b,children:p,childrenColumnName:h,onChange:f,getPopupContainer:y,loading:v,expandIcon:Z,expandable:G,expandedRowRender:S,expandIconColumnIndex:B,indentSize:k,scroll:W,sortDirections:V,locale:R,showSorterTooltip:w={target:"full-header"},virtual:X}=e;mo("Table");const J=t.useMemo(()=>b||$k(p),[b,p]),H=t.useMemo(()=>J.some(e=>e.responsive),[J]),x=vh(H),Y=t.useMemo(()=>{const e=new Set(Object.keys(x).filter(e=>x[e]));return J.filter(t=>!t.responsive||t.responsive.some(t=>e.has(t)))},[J,x]),N=Pa(e,["className","style","columns"]),{locale:E=vo,direction:F,table:K,renderEmpty:M,getPrefixCls:z,getPopupContainer:L}=t.useContext(Rl),D=Rd(c),T=Object.assign(Object.assign({},E.Table),R),j=I||PX,O=z("table",r),U=z("dropdown",d),[,Q]=Wa(),$=fC(O),[P,q,_]=$X(O,$),ee=Object.assign(Object.assign({childrenColumnName:h,expandIconColumnIndex:B},G),{expandIcon:null!==(o=null===G||void 0===G?void 0:G.expandIcon)&&void 0!==o?o:null===(l=null===K||void 0===K?void 0:K.expandable)||void 0===l?void 0:l.expandIcon}),{childrenColumnName:te="children"}=ee,ne=t.useMemo(()=>j.some(e=>null===e||void 0===e?void 0:e[te])?"nest":S||(null===G||void 0===G?void 0:G.expandedRowRender)?"row":null,[j]),oe={body:t.useRef(null)},le=function(e){return(t,n)=>{const o=t.querySelector(`.${e}-container`);let l=n;if(o){const e=getComputedStyle(o);l=n-parseInt(e.borderLeftWidth,10)-parseInt(e.borderRightWidth,10)}return l}}(O),re=t.useRef(null),ae=t.useRef(null);SR(n,()=>Object.assign(Object.assign({},ae.current),{nativeElement:re.current}));const ie=t.useMemo(()=>"function"===typeof m?m:e=>null===e||void 0===e?void 0:e[m],[m]),[ge]=gX(j,te,ie),ce={},se=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var o,l,r,a;const i=Object.assign(Object.assign({},ce),e);n&&(null===(o=ce.resetPagination)||void 0===o||o.call(ce),(null===(l=i.pagination)||void 0===l?void 0:l.current)&&(i.pagination.current=1),C&&(null===(r=C.onChange)||void 0===r||r.call(C,1,null===(a=i.pagination)||void 0===a?void 0:a.pageSize))),W&&!1!==W.scrollToFirstRowOnChange&&oe.body.current&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getContainer:n=()=>window,callback:o,duration:l=450}=t,r=n(),a=kR(r),i=Date.now(),g=()=>{const t=Date.now()-i,n=function(e,t,n,o){const l=n-t;return(e/=o/2)<1?l/2*e*e*e+t:l/2*((e-=2)*e*e+2)+t}(t>l?l:t,a,e,l);BR(r)?r.scrollTo(window.pageXOffset,n):r instanceof Document||"HTMLDocument"===r.constructor.name?r.documentElement.scrollTop=n:r.scrollTop=n,t<l?ea(g):"function"===typeof o&&o()};ea(g)}(0,{getContainer:()=>oe.body.current}),null===f||void 0===f||f(i.pagination,i.filters,i.sorter,{currentDataSource:rX(BX(j,i.sorterStates,te),i.filterStates,te),action:t})},[de,Ie,Ce,ue]=kX({prefixCls:O,mergedColumns:Y,onSorterChange:(e,t)=>{se({sorter:e,sorterStates:t},"sort",!1)},sortDirections:V||["ascend","descend"],tableLocale:T,showSorterTooltip:w}),me=t.useMemo(()=>BX(j,Ie,te),[j,Ie]);ce.sorter=ue(),ce.sorterStates=Ie;const[Ae,be,pe]=iX({prefixCls:O,locale:T,dropdownPrefixCls:U,mergedColumns:Y,onFilterChange:(e,t)=>{se({filters:e,filterStates:t},"filter",!0)},getPopupContainer:y||L,rootClassName:Ol()(i,$)}),he=rX(me,be,te);ce.filters=pe,ce.filterStates=be;const fe=t.useMemo(()=>{const e={};return Object.keys(pe).forEach(t=>{null!==pe[t]&&(e[t]=pe[t])}),Object.assign(Object.assign({},Ce),{filters:e})},[Ce,pe]),[ye]=VX(fe),[ve,Ze]=dX(he.length,(e,t)=>{se({pagination:Object.assign(Object.assign({},ce.pagination),{current:e,pageSize:t})},"paginate")},C);ce.pagination=!1===C?{}:function(e,t){const n={current:e.current,pageSize:e.pageSize},o=t&&"object"===typeof t?t:{};return Object.keys(o).forEach(t=>{const o=e[t];"function"!==typeof o&&(n[t]=o)}),n}(ve,C),ce.resetPagination=Ze;const Ge=t.useMemo(()=>{if(!1===C||!ve.pageSize)return he;const{current:e=1,total:t,pageSize:n=sX}=ve;return he.length<t?he.length>n?he.slice((e-1)*n,e*n):he:he.slice((e-1)*n,e*n)},[!!C,he,null===ve||void 0===ve?void 0:ve.current,null===ve||void 0===ve?void 0:ve.pageSize,null===ve||void 0===ve?void 0:ve.total]),[Se,Be]=GR({prefixCls:O,data:he,pageData:Ge,getRowKey:ie,getRecordByKey:ge,expandType:ne,childrenColumnName:te,locale:T,getPopupContainer:y||L},u);ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||Z||WR(T),"nest"===ne&&void 0===ee.expandIconColumnIndex?ee.expandIconColumnIndex=u?1:0:ee.expandIconColumnIndex>0&&u&&(ee.expandIconColumnIndex-=1),"number"!==typeof ee.indentSize&&(ee.indentSize="number"===typeof k?k:15);const ke=t.useCallback(e=>ye(Se(Ae(de(e)))),[de,Ae,Se]);let We,Ve,Re;if(!1!==C&&(null===ve||void 0===ve?void 0:ve.total)){let e;e=ve.size?ve.size:"small"===D||"middle"===D?"small":void 0;const n=n=>t.createElement(oS,Object.assign({},ve,{className:Ol()(`${O}-pagination ${O}-pagination-${n}`,ve.className),size:e})),o="rtl"===F?"left":"right",{position:l}=ve;if(null!==l&&Array.isArray(l)){const e=l.find(e=>e.includes("top")),t=l.find(e=>e.includes("bottom")),r=l.every(e=>"none"===`${e}`);e||t||r||(Ve=n(o)),e&&(We=n(e.toLowerCase().replace("top",""))),t&&(Ve=n(t.toLowerCase().replace("bottom","")))}else Ve=n(o)}"boolean"===typeof v?Re={spinning:v}:"object"===typeof v&&(Re=Object.assign({spinning:!0},v));const we=Ol()(_,$,`${O}-wrapper`,null===K||void 0===K?void 0:K.className,{[`${O}-wrapper-rtl`]:"rtl"===F},a,i,q),Xe=Object.assign(Object.assign({},null===K||void 0===K?void 0:K.style),g),Je="undefined"!==typeof(null===R||void 0===R?void 0:R.emptyText)?R.emptyText:(null===M||void 0===M?void 0:M("Table"))||t.createElement(dv,{componentName:"Table"}),He=X?JX:wX,xe={},Ye=t.useMemo(()=>{const{fontSize:e,lineHeight:t,lineWidth:n,padding:o,paddingXS:l,paddingSM:r}=Q,a=Math.floor(e*t);switch(D){case"middle":return 2*r+a+n;case"small":return 2*l+a+n;default:return 2*o+a+n}},[Q,D]);return X&&(xe.listItemHeight=Ye),P(t.createElement("div",{ref:re,className:we,style:Xe},t.createElement(pS,Object.assign({spinning:!1},Re),We,t.createElement(He,Object.assign({},xe,N,{ref:ae,columns:Y,direction:F,expandable:ee,prefixCls:O,className:Ol()({[`${O}-middle`]:"middle"===D,[`${O}-small`]:"small"===D,[`${O}-bordered`]:s,[`${O}-empty`]:0===j.length},_,$,q),data:Ge,rowKey:ie,rowClassName:(e,t,n)=>{let o;return o="function"===typeof A?Ol()(A(e,t,n)):Ol()(A),Ol()({[`${O}-row-selected`]:Be.has(ie(e,t))},o)},emptyText:Je,internalHooks:lk,internalRefs:oe,transformColumns:ke,getContainerWidth:le})),Ve)))},_X=t.forwardRef(qX),eJ=(e,n)=>{const o=t.useRef(0);return o.current+=1,t.createElement(_X,Object.assign({},e,{ref:n,_renderTimes:o.current}))},tJ=t.forwardRef(eJ);tJ.SELECTION_COLUMN=pR,tJ.EXPAND_COLUMN=ok,tJ.SELECTION_ALL=hR,tJ.SELECTION_INVERT=fR,tJ.SELECTION_NONE=yR,tJ.Column=wW,tJ.ColumnGroup=XW,tJ.Summary=Bk;const nJ=tJ;var oJ=n(223),lJ=n.n(oJ),rJ=n(199),aJ=n.n(rJ),iJ=n(865),gJ=n.n(iJ),cJ=n(556),sJ=n.n(cJ),dJ=n(76),IJ=n.n(dJ);a().extend(g()),a().extend(IJ()),a().extend(lJ()),a().extend(aJ()),a().extend(gJ()),a().extend(sJ()),a().extend(function(e,t){var n=t.prototype,o=n.format;n.format=function(e){var t=(e||"").replace("Wo","wo");return o.bind(this)(t)}});var CJ={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},uJ=function(e){return CJ[e]||e.split("_")[0]},mJ=function(){},AJ={getNow:function(){var e=a()();return"function"===typeof e.tz?e.tz():e},getFixedDate:function(e){return a()(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var t=e.locale("en");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,t){return e.add(t,"year")},addMonth:function(e,t){return e.add(t,"month")},addDate:function(e,t){return e.add(t,"day")},setYear:function(e,t){return e.year(t)},setMonth:function(e,t){return e.month(t)},setDate:function(e,t){return e.date(t)},setHour:function(e,t){return e.hour(t)},setMinute:function(e,t){return e.minute(t)},setSecond:function(e,t){return e.second(t)},setMillisecond:function(e,t){return e.millisecond(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return a()().locale(uJ(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.locale(uJ(e)).weekday(0)},getWeek:function(e,t){return t.locale(uJ(e)).week()},getShortWeekDays:function(e){return a()().locale(uJ(e)).localeData().weekdaysMin()},getShortMonths:function(e){return a()().locale(uJ(e)).localeData().monthsShort()},format:function(e,t,n){return t.locale(uJ(e)).format(n)},parse:function(e,t,n){for(var o=uJ(e),l=0;l<n.length;l+=1){var r=n[l],i=t;if(r.includes("wo")||r.includes("Wo")){for(var g=i.split("-")[0],c=i.split("-")[1],s=a()(g,"YYYY").startOf("year").locale(o),d=0;d<=52;d+=1){var I=s.add(d,"week");if(I.format("Wo")===c)return I}return mJ(),null}var C=a()(i,r,!0).locale(o);if(C.isValid())return C}return null}}};const bJ=AJ;const pJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};var hJ=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:pJ}))};const fJ=t.forwardRef(hJ);const yJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};var vJ=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:yJ}))};const ZJ=t.forwardRef(vJ);const GJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};var SJ=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:GJ}))};const BJ=t.forwardRef(SJ);const kJ=t.createContext(null);var WJ={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};const VJ=function(e){var n=e.popupElement,o=e.popupStyle,l=e.popupClassName,r=e.popupAlign,a=e.transitionName,i=e.getPopupContainer,g=e.children,c=e.range,s=e.placement,d=e.builtinPlacements,I=void 0===d?WJ:d,C=e.direction,u=e.visible,m=e.onClose,A=t.useContext(kJ).prefixCls,b="".concat(A,"-dropdown"),p=function(e,t){return void 0!==e?e:t?"bottomRight":"bottomLeft"}(s,"rtl"===C);return t.createElement(Dc,{showAction:[],hideAction:["click"],popupPlacement:p,builtinPlacements:I,prefixCls:b,popupTransitionName:a,popup:n,popupAlign:r,popupVisible:u,popupClassName:Ol()(l,Ve(Ve({},"".concat(b,"-range"),c),"".concat(b,"-rtl"),"rtl"===C)),popupStyle:o,stretch:"minWidth",getPopupContainer:i,onPopupVisibleChange:function(e){e||m()}},g)};function RJ(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(n).concat(o);return o}function wJ(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function XJ(e,t,n){var o=Ye(e);return o[t]=n,o}function JJ(e,t){var n={};return(t||Object.keys(e)).forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n}function HJ(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function xJ(e,t,n){var o=void 0!==n?n:t[t.length-1],l=t.find(function(t){return e[t]});return o!==l?e[l]:void 0}function YJ(e){return JJ(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function NJ(e,n,o,l){var r=t.useMemo(function(){return e||function(e,t){var l=e;return n&&"date"===t.type?n(l,t.today):o&&"month"===t.type?o(l,t.locale):t.originNode}},[e,o,n]),a=t.useCallback(function(e,t){return r(e,Ee(Ee({},t),{},{range:l}))},[r,l]);return a}function EJ(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=He(t.useState([!1,!1]),2),r=l[0],a=l[1],i=t.useMemo(function(){return r.map(function(t,l){if(t)return!0;var r=e[l];return!!r&&(!o[l]&&!r||!(!r||!n(r,{activeIndex:l})))})},[e,r,n,o]);return[i,function(e,t){a(function(n){return XJ(n,t,e)})}]}function FJ(e,t,n,o,l){var r="",a=[];return e&&a.push(l?"hh":"HH"),t&&a.push("mm"),n&&a.push("ss"),r=a.join(":"),o&&(r+=".SSS"),l&&(r+=" A"),r}function KJ(e,n){var o=n.showHour,l=n.showMinute,r=n.showSecond,a=n.showMillisecond,i=n.use12Hours;return t.useMemo(function(){return function(e,t,n,o,l,r){var a=e.fieldDateTimeFormat,i=e.fieldDateFormat,g=e.fieldTimeFormat,c=e.fieldMonthFormat,s=e.fieldYearFormat,d=e.fieldWeekFormat,I=e.fieldQuarterFormat,C=e.yearFormat,u=e.cellYearFormat,m=e.cellQuarterFormat,A=e.dayFormat,b=e.cellDateFormat,p=FJ(t,n,o,l,r);return Ee(Ee({},e),{},{fieldDateTimeFormat:a||"YYYY-MM-DD ".concat(p),fieldDateFormat:i||"YYYY-MM-DD",fieldTimeFormat:g||p,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:s||"YYYY",fieldWeekFormat:d||"gggg-wo",fieldQuarterFormat:I||"YYYY-[Q]Q",yearFormat:C||"YYYY",cellYearFormat:u||"YYYY",cellQuarterFormat:m||"[Q]Q",cellDateFormat:b||A||"D"})}(e,o,l,r,a,i)},[e,o,l,r,a,i])}function MJ(e,t,n){return null!==n&&void 0!==n?n:t.some(function(t){return e.includes(t)})}var zJ=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function LJ(e){return e&&"string"===typeof e}function DJ(e,t,n,o){return[e,t,n,o].some(function(e){return void 0!==e})}function TJ(e,t,n,o,l){var r=t,a=n,i=o;if(e||r||a||i||l){if(e){var g,c,s,d=[r,a,i].some(function(e){return!1===e}),I=[r,a,i].some(function(e){return!0===e}),C=!!d||!I;r=null!==(g=r)&&void 0!==g?g:C,a=null!==(c=a)&&void 0!==c?c:C,i=null!==(s=i)&&void 0!==s?s:C}}else r=!0,a=!0,i=!0;return[r,a,i,l]}function jJ(e){var t=e.showTime,n=function(e){var t=JJ(e,zJ),n=e.format,o=e.picker,l=null;return n&&(l=n,Array.isArray(l)&&(l=l[0]),l="object"===ke(l)?l.format:l),"time"===o&&(t.format=l),[t,l]}(e),o=He(n,2),l=o[0],r=o[1],a=t&&"object"===ke(t)?t:{},i=Ee(Ee({defaultOpenValue:a.defaultOpenValue||a.defaultValue},l),a),g=i.showMillisecond,c=i.showHour,s=i.showMinute,d=i.showSecond,I=He(TJ(DJ(c,s,d,g),c,s,d,g),3);return c=I[0],s=I[1],d=I[2],[i,Ee(Ee({},i),{},{showHour:c,showMinute:s,showSecond:d,showMillisecond:g}),i.format,r]}function OJ(e,t,n,o,l){if("datetime"===e||"time"===e){for(var r=o,a=HJ(e,l,null),i=[t,n],g=0;g<i.length;g+=1){var c=wJ(i[g])[0];if(LJ(c)){a=c;break}}var s=r.showHour,d=r.showMinute,I=r.showSecond,C=r.showMillisecond,u=MJ(a,["a","A","LT","LLL","LTS"],r.use12Hours),m=DJ(s,d,I,C);m||(s=MJ(a,["H","h","k","LT","LLL"]),d=MJ(a,["m","LT","LLL"]),I=MJ(a,["s","LTS"]),C=MJ(a,["SSS"]));var A=He(TJ(m,s,d,I,C),3);s=A[0],d=A[1],I=A[2];var b=t||FJ(s,d,I,C,u);return Ee(Ee({},r),{},{format:b,showHour:s,showMinute:d,showSecond:I,showMillisecond:C,use12Hours:u})}return null}function UJ(e,n,o){return!1===n?null:(n&&"object"===ke(n)?n:{}).clearIcon||o||t.createElement("span",{className:"".concat(e,"-clear-btn")})}function QJ(e,t,n){return!e&&!t||e===t||!(!e||!t)&&n()}function $J(e,t,n){return QJ(t,n,function(){return Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)})}function PJ(e,t,n){return QJ(t,n,function(){return e.getYear(t)===e.getYear(n)})}function qJ(e,t){return Math.floor(e.getMonth(t)/3)+1}function _J(e,t,n){return QJ(t,n,function(){return PJ(e,t,n)&&e.getMonth(t)===e.getMonth(n)})}function eH(e,t,n){return QJ(t,n,function(){return PJ(e,t,n)&&_J(e,t,n)&&e.getDate(t)===e.getDate(n)})}function tH(e,t,n){return QJ(t,n,function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)})}function nH(e,t,n){return QJ(t,n,function(){return eH(e,t,n)&&tH(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)})}function oH(e,t,n,o){return QJ(n,o,function(){var l=e.locale.getWeekFirstDate(t,n),r=e.locale.getWeekFirstDate(t,o);return PJ(e,l,r)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,o)})}function lH(e,t,n,o,l){switch(l){case"date":return eH(e,n,o);case"week":return oH(e,t.locale,n,o);case"month":return _J(e,n,o);case"quarter":return function(e,t,n){return QJ(t,n,function(){return PJ(e,t,n)&&qJ(e,t)===qJ(e,n)})}(e,n,o);case"year":return PJ(e,n,o);case"decade":return $J(e,n,o);case"time":return tH(e,n,o);default:return nH(e,n,o)}}function rH(e,t,n,o){return!!(t&&n&&o)&&(e.isAfter(o,t)&&e.isAfter(n,o))}function aH(e,t,n,o,l){return!!lH(e,t,n,o,l)||e.isAfter(n,o)}function iH(e,t){var n=t.generateConfig,o=t.locale,l=t.format;return e?"function"===typeof l?l(e):n.locale.format(o.locale,e,l):""}function gH(e,t,n){var o=t,l=["getHour","getMinute","getSecond","getMillisecond"];return["setHour","setMinute","setSecond","setMillisecond"].forEach(function(t,r){o=n?e[t](o,e[l[r]](n)):e[t](o,0)}),o}function cH(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.useMemo(function(){var t=e?wJ(e):e;return n&&t&&(t[1]=t[1]||t[0]),t},[e,n]);return o}function sH(e,n){var o=e.generateConfig,l=e.locale,r=e.picker,a=void 0===r?"date":r,i=e.prefixCls,g=void 0===i?"rc-picker":i,c=e.styles,s=void 0===c?{}:c,d=e.classNames,I=void 0===d?{}:d,C=e.order,u=void 0===C||C,m=e.components,A=void 0===m?{}:m,b=e.inputRender,p=e.allowClear,h=e.clearIcon,f=e.needConfirm,y=e.multiple,v=e.format,Z=e.inputReadOnly,G=e.disabledDate,S=e.minDate,B=e.maxDate,k=e.showTime,W=e.value,V=e.defaultValue,R=e.pickerValue,w=e.defaultPickerValue,X=cH(W),J=cH(V),H=cH(R),x=cH(w),Y="date"===a&&k?"datetime":a,N="time"===Y||"datetime"===Y,E=N||y,F=null!==f&&void 0!==f?f:N,K=He(jJ(e),4),M=K[0],z=K[1],L=K[2],D=K[3],T=KJ(l,z),j=t.useMemo(function(){return OJ(Y,L,D,M,T)},[Y,L,D,M,T]);var O=t.useMemo(function(){return Ee(Ee({},e),{},{prefixCls:g,locale:T,picker:a,styles:s,classNames:I,order:u,components:Ee({input:b},A),clearIcon:UJ(g,p,h),showTime:j,value:X,defaultValue:J,pickerValue:H,defaultPickerValue:x},null===n||void 0===n?void 0:n())},[e]),U=function(e,n,o){return t.useMemo(function(){var t=wJ(HJ(e,n,o)),l=t[0],r="object"===ke(l)&&"mask"===l.type?l.format:null;return[t.map(function(e){return"string"===typeof e||"function"===typeof e?e:e.format}),r]},[e,n,o])}(Y,T,v),Q=He(U,2),$=Q[0],P=Q[1],q=function(e,t,n){return!("function"!==typeof e[0]&&!n)||t}($,Z,y),_=function(e,t,n,o,l){var r=yr(function(r,a){return!(!n||!n(r,a))||!(!o||!e.isAfter(o,r)||lH(e,t,o,r,a.type))||!(!l||!e.isAfter(r,l)||lH(e,t,l,r,a.type))});return r}(o,l,G,S,B),ee=function(e,t,n,o){var l=yr(function(l,r){var a=Ee({type:t},r);if(delete a.activeIndex,!e.isValidate(l)||n&&n(l,a))return!0;if(("date"===t||"time"===t)&&o){var i,g=r&&1===r.activeIndex?"end":"start",c=(null===(i=o.disabledTime)||void 0===i?void 0:i.call(o,l,g,{from:a.from}))||{},s=c.disabledHours,d=c.disabledMinutes,I=c.disabledSeconds,C=c.disabledMilliseconds,u=o.disabledHours,m=o.disabledMinutes,A=o.disabledSeconds,b=s||u,p=d||m,h=I||A,f=e.getHour(l),y=e.getMinute(l),v=e.getSecond(l),Z=e.getMillisecond(l);if(b&&b().includes(f))return!0;if(p&&p(f).includes(y))return!0;if(h&&h(f,y).includes(v))return!0;if(C&&C(f,y,v).includes(Z))return!0}return!1});return l}(o,a,_,j);return[t.useMemo(function(){return Ee(Ee({},O),{},{needConfirm:F,inputReadOnly:q,disabledDate:_})},[O,F,q,_]),Y,E,$,P,ee]}function dH(e,n){var o=arguments.length>3?arguments[3]:void 0,l=function(e,n,o){var l=He(Gr(n,{value:e}),2),r=l[0],a=l[1],i=t.useRef(e),g=t.useRef(),c=function(){ea.cancel(g.current)},s=yr(function(){a(i.current),o&&r!==i.current&&o(i.current)}),d=yr(function(e,t){c(),i.current=e,e||t?s():g.current=ea(s)});return t.useEffect(function(){return c},[]),[r,d]}(!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).every(function(e){return e})&&e,n||!1,o),r=He(l,2),a=r[0],i=r[1];return[a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.inherit&&!a||i(e,t.force)}]}function IH(e){var n=t.useRef();return t.useImperativeHandle(e,function(){var e;return{nativeElement:null===(e=n.current)||void 0===e?void 0:e.nativeElement,focus:function(e){var t;null===(t=n.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=n.current)||void 0===e||e.blur()}}}),n}function CH(e,n){return t.useMemo(function(){return e||(n?(rt(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(n).map(function(e){var t=He(e,2);return{label:t[0],value:t[1]}})):[])},[e,n])}function uH(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=t.useRef(n);l.current=n,Et(function(){if(!e){var t=ea(function(){l.current(e)},o);return function(){ea.cancel(t)}}l.current(e)},[e])}function mH(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=He(t.useState(0),2),r=l[0],a=l[1],i=He(t.useState(!1),2),g=i[0],c=i[1],s=t.useRef([]),d=t.useRef(null),I=t.useRef(null),C=function(e){d.current=e};return uH(g||o,function(){g||(s.current=[],C(null))}),t.useEffect(function(){g&&s.current.push(r)},[g,r]),[g,function(e){c(e)},function(e){return e&&(I.current=e),I.current},r,a,function(t){var o=s.current,l=new Set(o.filter(function(e){return t[e]||n[e]})),r=0===o[o.length-1]?1:0;return l.size>=2||e[r]?null:r},s.current,C,function(e){return d.current===e}]}function AH(e,t,n,o){switch(t){case"date":case"week":return e.addMonth(n,o);case"month":case"quarter":return e.addYear(n,o);case"year":return e.addYear(n,10*o);case"decade":return e.addYear(n,100*o);default:return n}}var bH=[];function pH(e,n,o,l,r,a,i,g){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:bH,s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:bH,d=arguments.length>11?arguments[11]:void 0,I=arguments.length>12?arguments[12]:void 0,C=arguments.length>13?arguments[13]:void 0,u="time"===i,m=a||0,A=function(t){var n=e.getNow();return u&&(n=gH(e,n)),c[t]||o[t]||n},b=He(arguments.length>9&&void 0!==arguments[9]?arguments[9]:bH,2),p=b[0],h=b[1],f=He(Gr(function(){return A(0)},{value:p}),2),y=f[0],v=f[1],Z=He(Gr(function(){return A(1)},{value:h}),2),G=Z[0],S=Z[1],B=t.useMemo(function(){var t=[y,G][m];return u?t:gH(e,t,s[m])},[u,y,G,m,e,s]),k=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"panel";(0,[v,S][m])(t);var r=[y,G];r[m]=t,!d||lH(e,n,y,r[0],i)&&lH(e,n,G,r[1],i)||d(r,{source:o,range:1===m?"end":"start",mode:l})},W=t.useRef(null);return Ft(function(){if(r&&!c[m]){var t=u?null:e.getNow();if(null!==W.current&&W.current!==m?t=[y,G][1^m]:o[m]?t=0===m?o[0]:function(t,o){if(g){var l={date:"month",week:"month",month:"year",quarter:"year"}[i];if(l&&!lH(e,n,t,o,l))return AH(e,i,o,-1);if("year"===i&&t&&Math.floor(e.getYear(t)/10)!==Math.floor(e.getYear(o)/10))return AH(e,i,o,-1)}return o}(o[0],o[1]):o[1^m]&&(t=o[1^m]),t){I&&e.isAfter(I,t)&&(t=I);var l=g?AH(e,i,t,1):t;C&&e.isAfter(l,C)&&(t=g?AH(e,i,C,-1):C),k(t,"reset")}}},[r,m,o[m]]),t.useEffect(function(){W.current=r?m:null},[r,m]),Ft(function(){r&&c&&c[m]&&k(c[m],"reset")},[r,m]),[B,k]}function hH(e,n){var o=t.useRef(e),l=He(t.useState({}),2)[1],r=function(e){return e&&void 0!==n?n:o.current};return[r,function(e){o.current=e,l({})},r(!0)]}var fH=[];function yH(e,t,n){return[function(o){return o.map(function(o){return iH(o,{generateConfig:e,locale:t,format:n[0]})})},function(t,n){for(var o=Math.max(t.length,n.length),l=-1,r=0;r<o;r+=1){var a=t[r]||null,i=n[r]||null;if(a!==i&&!nH(e,a,i)){l=r;break}}return[l<0,0!==l]}]}function vH(e,t){return Ye(e).sort(function(e,n){return t.isAfter(e,n)?1:-1})}function ZH(e,n,o,l,r,a,i,g,c){var s=He(Gr(a,{value:i}),2),d=s[0],I=s[1],C=d||fH,u=function(e){var n=He(hH(e),2),o=n[0],l=n[1],r=yr(function(){l(e)});return t.useEffect(function(){r()},[e]),[o,l]}(C),m=He(u,2),A=m[0],b=m[1],p=He(yH(e,n,o),2),h=p[0],f=p[1],y=yr(function(t){var n=Ye(t);if(l)for(var o=0;o<2;o+=1)n[o]=n[o]||null;else r&&(n=vH(n.filter(function(e){return e}),e));var a=He(f(A(),n),2),i=a[0],c=a[1];if(!i&&(b(n),g)){var s=h(n);g(n,s,{range:c?"end":"start"})}});return[C,I,A,y,function(){c&&c(A())}]}function GH(e,n,o,l,r,a,i,g,c,s){var d=e.generateConfig,I=e.locale,C=e.picker,u=e.onChange,m=e.allowEmpty,A=e.order,b=!a.some(function(e){return e})&&A,p=He(yH(d,I,i),2),h=p[0],f=p[1],y=He(hH(n),2),v=y[0],Z=y[1],G=yr(function(){Z(n)});t.useEffect(function(){G()},[n]);var S=yr(function(e){var t=null===e,l=Ye(e||v());if(t)for(var i=Math.max(a.length,l.length),g=0;g<i;g+=1)a[g]||(l[g]=null);b&&l[0]&&l[1]&&(l=vH(l,d)),r(l);var c=He(l,2),p=c[0],y=c[1],Z=!p,G=!y,S=!m||(!Z||m[0])&&(!G||m[1]),B=!A||Z||G||lH(d,I,p,y,C)||d.isAfter(y,p),k=(a[0]||!p||!s(p,{activeIndex:0}))&&(a[1]||!y||!s(y,{from:p,activeIndex:1})),W=t||S&&B&&k;if(W){o(l);var V=He(f(l,n),1)[0];u&&!V&&u(t&&l.every(function(e){return!e})?null:l,h(l))}return W}),B=yr(function(e,t){var n=XJ(v(),e,l()[e]);Z(n),t&&S()}),k=!g&&!c;return uH(!k,function(){k&&(S(),r(n),G())},2),[B,S]}function SH(e,t,n,o,l){return("date"===t||"time"===t)&&(void 0!==n?n:void 0!==o?o:!l&&("date"===e||"time"===e))}function BH(){return[]}function kH(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,a=[],i=n>=1?0|n:1,g=e;g<=t;g+=i){var c=l.includes(g);c&&o||a.push({label:RJ(g,r),value:g,disabled:c})}return a}function WH(e){var n=arguments.length>2?arguments[2]:void 0,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},l=o.use12Hours,r=o.hourStep,a=void 0===r?1:r,i=o.minuteStep,g=void 0===i?1:i,c=o.secondStep,s=void 0===c?1:c,d=o.millisecondStep,I=void 0===d?100:d,C=o.hideDisabledOptions,u=o.disabledTime,m=o.disabledHours,A=o.disabledMinutes,b=o.disabledSeconds,p=t.useMemo(function(){return n||e.getNow()},[n,e]),h=t.useCallback(function(e){var t=(null===u||void 0===u?void 0:u(e))||{};return[t.disabledHours||m||BH,t.disabledMinutes||A||BH,t.disabledSeconds||b||BH,t.disabledMilliseconds||BH]},[u,m,A,b]),f=He(t.useMemo(function(){return h(p)},[p,h]),4),y=f[0],v=f[1],Z=f[2],G=f[3],S=t.useCallback(function(e,t,n,o){var r=kH(0,23,a,C,e()),i=l?r.map(function(e){return Ee(Ee({},e),{},{label:RJ(e.value%12||12,2)})}):r;return[i,function(e){return kH(0,59,g,C,t(e))},function(e,t){return kH(0,59,s,C,n(e,t))},function(e,t,n){return kH(0,999,I,C,o(e,t,n),3)}]},[C,a,l,I,g,s]),B=He(t.useMemo(function(){return S(y,v,Z,G)},[S,y,v,Z,G]),4),k=B[0],W=B[1],V=B[2],R=B[3];return[function(t,n){var o=function(){return k},l=W,r=V,a=R;if(n){var i=He(h(n),4),g=i[0],c=i[1],s=i[2],d=i[3],I=He(S(g,c,s,d),4),C=I[0];o=function(){return C},l=I[1],r=I[2],a=I[3]}var u=function(e,t,n,o,l,r){var a=e;function i(e,t,n){var o=r[e](a),l=n.find(function(e){return e.value===o});if(!l||l.disabled){var i=n.filter(function(e){return!e.disabled}),g=Ye(i).reverse().find(function(e){return e.value<=o})||i[0];g&&(o=g.value,a=r[t](a,o))}return o}var g=i("getHour","setHour",t()),c=i("getMinute","setMinute",n(g)),s=i("getSecond","setSecond",o(g,c));return i("getMillisecond","setMillisecond",l(g,c,s)),a}(t,o,l,r,a,e);return u},k,W,V,R]}function VH(e){var n=e.mode,o=e.internalMode,l=e.renderExtraFooter,r=e.showNow,a=e.showTime,i=e.onSubmit,g=e.onNow,c=e.invalid,s=e.needConfirm,d=e.generateConfig,I=e.disabledDate,C=t.useContext(kJ),u=C.prefixCls,m=C.locale,A=C.button,b=void 0===A?"button":A,p=d.getNow(),h=He(WH(d,a,p),1)[0],f=null===l||void 0===l?void 0:l(n),y=I(p,{type:n}),v="".concat(u,"-now"),Z="".concat(v,"-btn"),G=r&&t.createElement("li",{className:v},t.createElement("a",{className:Ol()(Z,y&&"".concat(Z,"-disabled")),"aria-disabled":y,onClick:function(){if(!y){var e=h(p);g(e)}}},"date"===o?m.today:m.now)),S=s&&t.createElement("li",{className:"".concat(u,"-ok")},t.createElement(b,{disabled:c,onClick:i},m.ok)),B=(G||S)&&t.createElement("ul",{className:"".concat(u,"-ranges")},G,S);return f||B?t.createElement("div",{className:"".concat(u,"-footer")},f&&t.createElement("div",{className:"".concat(u,"-footer-extra")},f),B):null}function RH(e,t,n){return function(o,l){var r=o.findIndex(function(o){return lH(e,t,o,l,n)});if(-1===r)return[].concat(Ye(o),[l]);var a=Ye(o);return a.splice(r,1),a}}var wH=t.createContext(null);function XH(){return t.useContext(wH)}function JH(e,t){var n=e.prefixCls,o=e.generateConfig,l=e.locale,r=e.disabledDate,a=e.minDate,i=e.maxDate,g=e.cellRender,c=e.hoverValue,s=e.hoverRangeValue,d=e.onHover,I=e.values,C=e.pickerValue,u=e.onSelect,m=e.prevIcon,A=e.nextIcon,b=e.superPrevIcon,p=e.superNextIcon,h=o.getNow();return[{now:h,values:I,pickerValue:C,prefixCls:n,disabledDate:r,minDate:a,maxDate:i,cellRender:g,hoverValue:c,hoverRangeValue:s,onHover:d,locale:l,generateConfig:o,onSelect:u,panelType:t,prevIcon:m,nextIcon:A,superPrevIcon:b,superNextIcon:p},h]}var HH=t.createContext({});function xH(e){for(var n=e.rowNum,o=e.colNum,l=e.baseDate,r=e.getCellDate,a=e.prefixColumn,i=e.rowClassName,g=e.titleFormat,c=e.getCellText,s=e.getCellClassName,d=e.headerCells,I=e.cellSelection,C=void 0===I||I,u=e.disabledDate,m=XH(),A=m.prefixCls,b=m.panelType,p=m.now,h=m.disabledDate,f=m.cellRender,y=m.onHover,v=m.hoverValue,Z=m.hoverRangeValue,G=m.generateConfig,S=m.values,B=m.locale,k=m.onSelect,W=u||h,V="".concat(A,"-cell"),R=t.useContext(HH).onCellDblClick,w=function(e){return S.some(function(t){return t&&lH(G,B,e,t,b)})},X=[],J=0;J<n;J+=1){for(var H=[],x=void 0,Y=function(){var e=r(l,J*o+N),n=null===W||void 0===W?void 0:W(e,{type:b});0===N&&(x=e,a&&H.push(a(x)));var i=!1,d=!1,I=!1;if(C&&Z){var u=He(Z,2),m=u[0],h=u[1];i=rH(G,m,h,e),d=lH(G,B,e,m,b),I=lH(G,B,e,h,b)}var S=g?iH(e,{locale:B,format:g,generateConfig:G}):void 0,X=t.createElement("div",{className:"".concat(V,"-inner")},c(e));H.push(t.createElement("td",{key:N,title:S,className:Ol()(V,Ee(Ve(Ve(Ve(Ve(Ve(Ve({},"".concat(V,"-disabled"),n),"".concat(V,"-hover"),(v||[]).some(function(t){return lH(G,B,e,t,b)})),"".concat(V,"-in-range"),i&&!d&&!I),"".concat(V,"-range-start"),d),"".concat(V,"-range-end"),I),"".concat(A,"-cell-selected"),!Z&&"week"!==b&&w(e)),s(e))),onClick:function(){n||k(e)},onDoubleClick:function(){!n&&R&&R()},onMouseEnter:function(){n||null===y||void 0===y||y(e)},onMouseLeave:function(){n||null===y||void 0===y||y(null)}},f?f(e,{prefixCls:A,originNode:X,today:p,type:b,locale:B}):X))},N=0;N<o;N+=1)Y();X.push(t.createElement("tr",{key:J,className:null===i||void 0===i?void 0:i(x)},H))}return t.createElement("div",{className:"".concat(A,"-body")},t.createElement("table",{className:"".concat(A,"-content")},d&&t.createElement("thead",null,t.createElement("tr",null,d)),t.createElement("tbody",null,X)))}var YH={visibility:"hidden"};const NH=function(e){var n=e.offset,o=e.superOffset,l=e.onChange,r=e.getStart,a=e.getEnd,i=e.children,g=XH(),c=g.prefixCls,s=g.prevIcon,d=void 0===s?"\u2039":s,I=g.nextIcon,C=void 0===I?"\u203a":I,u=g.superPrevIcon,m=void 0===u?"\xab":u,A=g.superNextIcon,b=void 0===A?"\xbb":A,p=g.minDate,h=g.maxDate,f=g.generateConfig,y=g.locale,v=g.pickerValue,Z=g.panelType,G="".concat(c,"-header"),S=t.useContext(HH),B=S.hidePrev,k=S.hideNext,W=S.hideHeader,V=t.useMemo(function(){if(!p||!n||!a)return!1;var e=a(n(-1,v));return!aH(f,y,e,p,Z)},[p,n,v,a,f,y,Z]),R=t.useMemo(function(){if(!p||!o||!a)return!1;var e=a(o(-1,v));return!aH(f,y,e,p,Z)},[p,o,v,a,f,y,Z]),w=t.useMemo(function(){if(!h||!n||!r)return!1;var e=r(n(1,v));return!aH(f,y,h,e,Z)},[h,n,v,r,f,y,Z]),X=t.useMemo(function(){if(!h||!o||!r)return!1;var e=r(o(1,v));return!aH(f,y,h,e,Z)},[h,o,v,r,f,y,Z]),J=function(e){n&&l(n(e,v))},H=function(e){o&&l(o(e,v))};if(W)return null;var x="".concat(G,"-prev-btn"),Y="".concat(G,"-next-btn"),N="".concat(G,"-super-prev-btn"),E="".concat(G,"-super-next-btn");return t.createElement("div",{className:G},o&&t.createElement("button",{type:"button","aria-label":y.previousYear,onClick:function(){return H(-1)},tabIndex:-1,className:Ol()(N,R&&"".concat(N,"-disabled")),disabled:R,style:B?YH:{}},m),n&&t.createElement("button",{type:"button","aria-label":y.previousMonth,onClick:function(){return J(-1)},tabIndex:-1,className:Ol()(x,V&&"".concat(x,"-disabled")),disabled:V,style:B?YH:{}},d),t.createElement("div",{className:"".concat(G,"-view")},i),n&&t.createElement("button",{type:"button","aria-label":y.nextMonth,onClick:function(){return J(1)},tabIndex:-1,className:Ol()(Y,w&&"".concat(Y,"-disabled")),disabled:w,style:k?YH:{}},C),o&&t.createElement("button",{type:"button","aria-label":y.nextYear,onClick:function(){return H(1)},tabIndex:-1,className:Ol()(E,X&&"".concat(E,"-disabled")),disabled:X,style:k?YH:{}},b))};function EH(e){var n=e.prefixCls,o=e.panelName,l=void 0===o?"date":o,r=e.locale,a=e.generateConfig,i=e.pickerValue,g=e.onPickerValueChange,c=e.onModeChange,s=e.mode,d=void 0===s?"date":s,I=e.disabledDate,C=e.onSelect,u=e.onHover,m=e.showWeek,A="".concat(n,"-").concat(l,"-panel"),b="".concat(n,"-cell"),p="week"===d,h=He(JH(e,d),2),f=h[0],y=h[1],v=a.locale.getWeekFirstDay(r.locale),Z=a.setDate(i,1),G=function(e,t,n){var o=t.locale.getWeekFirstDay(e),l=t.setDate(n,1),r=t.getWeekDay(l),a=t.addDate(l,o-r);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(r.locale,a,Z),S=a.getMonth(i),B=(void 0===m?p:m)?function(e){var n=null===I||void 0===I?void 0:I(e,{type:"week"});return t.createElement("td",{key:"week",className:Ol()(b,"".concat(b,"-week"),Ve({},"".concat(b,"-disabled"),n)),onClick:function(){n||C(e)},onMouseEnter:function(){n||null===u||void 0===u||u(e)},onMouseLeave:function(){n||null===u||void 0===u||u(null)}},t.createElement("div",{className:"".concat(b,"-inner")},a.locale.getWeek(r.locale,e)))}:null,k=[],W=r.shortWeekDays||(a.locale.getShortWeekDays?a.locale.getShortWeekDays(r.locale):[]);B&&k.push(t.createElement("th",{key:"empty"},t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},r.week)));for(var V=0;V<7;V+=1)k.push(t.createElement("th",{key:V},W[(V+v)%7]));var R=r.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(r.locale):[]),w=t.createElement("button",{type:"button","aria-label":r.yearSelect,key:"year",onClick:function(){c("year",i)},tabIndex:-1,className:"".concat(n,"-year-btn")},iH(i,{locale:r,format:r.yearFormat,generateConfig:a})),X=t.createElement("button",{type:"button","aria-label":r.monthSelect,key:"month",onClick:function(){c("month",i)},tabIndex:-1,className:"".concat(n,"-month-btn")},r.monthFormat?iH(i,{locale:r,format:r.monthFormat,generateConfig:a}):R[S]),J=r.monthBeforeYear?[X,w]:[w,X];return t.createElement(wH.Provider,{value:f},t.createElement("div",{className:Ol()(A,m&&"".concat(A,"-show-week"))},t.createElement(NH,{offset:function(e){return a.addMonth(i,e)},superOffset:function(e){return a.addYear(i,e)},onChange:g,getStart:function(e){return a.setDate(e,1)},getEnd:function(e){var t=a.setDate(e,1);return t=a.addMonth(t,1),a.addDate(t,-1)}},J),t.createElement(xH,$t({titleFormat:r.fieldDateFormat},e,{colNum:7,rowNum:6,baseDate:G,headerCells:k,getCellDate:function(e,t){return a.addDate(e,t)},getCellText:function(e){return iH(e,{locale:r,format:r.cellDateFormat,generateConfig:a})},getCellClassName:function(e){return Ve(Ve({},"".concat(n,"-cell-in-view"),_J(a,e,i)),"".concat(n,"-cell-today"),eH(a,e,y))},prefixColumn:B,cellSelection:!p}))))}var FH=1/3;function KH(e){return e.map(function(e){return[e.value,e.label,e.disabled].join(",")}).join(";")}function MH(e){var n=e.units,o=e.value,l=e.optionalValue,r=e.type,a=e.onChange,i=e.onHover,g=e.onDblClick,c=e.changeOnScroll,s=XH(),d=s.prefixCls,I=s.cellRender,C=s.now,u=s.locale,m="".concat(d,"-time-panel"),A="".concat(d,"-time-panel-cell"),b=t.useRef(null),p=t.useRef(),h=function(){clearTimeout(p.current)},f=function(e,n){var o=t.useRef(!1),l=t.useRef(null),r=t.useRef(null),a=function(){ea.cancel(l.current),o.current=!1},i=t.useRef();return[yr(function(){var t=e.current;if(r.current=null,i.current=0,t){var g=t.querySelector('[data-value="'.concat(n,'"]')),c=t.querySelector("li");g&&c&&function e(){a(),o.current=!0,i.current+=1;var n=t.scrollTop,s=c.offsetTop,d=g.offsetTop,I=d-s;if(0===d&&g!==c||!Rc(t))i.current<=5&&(l.current=ea(e));else{var C=n+(I-n)*FH,u=Math.abs(I-C);if(null!==r.current&&r.current<u)a();else{if(r.current=u,u<=1)return t.scrollTop=I,void a();t.scrollTop=C,l.current=ea(e)}}}()}}),a,function(){return o.current}]}(b,null!==o&&void 0!==o?o:l),y=He(f,3),v=y[0],Z=y[1],G=y[2];Ft(function(){return v(),h(),function(){Z(),h()}},[o,l,KH(n)]);var S="".concat(m,"-column");return t.createElement("ul",{className:S,ref:b,"data-type":r,onScroll:function(e){h();var t=e.target;!G()&&c&&(p.current=setTimeout(function(){var e=b.current,o=e.querySelector("li").offsetTop,l=Array.from(e.querySelectorAll("li")).map(function(e){return e.offsetTop-o}).map(function(e,o){return n[o].disabled?Number.MAX_SAFE_INTEGER:Math.abs(e-t.scrollTop)}),r=Math.min.apply(Math,Ye(l)),i=l.findIndex(function(e){return e===r}),g=n[i];g&&!g.disabled&&a(g.value)},300))}},n.map(function(e){var n=e.label,l=e.value,c=e.disabled,s=t.createElement("div",{className:"".concat(A,"-inner")},n);return t.createElement("li",{key:l,className:Ol()(A,Ve(Ve({},"".concat(A,"-selected"),o===l),"".concat(A,"-disabled"),c)),onClick:function(){c||a(l)},onDoubleClick:function(){!c&&g&&g()},onMouseEnter:function(){i(l)},onMouseLeave:function(){i(null)},"data-value":l},I?I(l,{prefixCls:d,originNode:s,today:C,type:"time",subType:r,locale:u}):s)}))}function zH(e){return e<12}function LH(e){var n=e.showHour,o=e.showMinute,l=e.showSecond,r=e.showMillisecond,a=e.use12Hours,i=e.changeOnScroll,g=XH(),c=g.prefixCls,s=g.values,d=g.generateConfig,I=g.locale,C=g.onSelect,u=g.onHover,m=void 0===u?function(){}:u,A=g.pickerValue,b=(null===s||void 0===s?void 0:s[0])||null,p=t.useContext(HH).onCellDblClick,h=He(WH(d,e,b),5),f=h[0],y=h[1],v=h[2],Z=h[3],G=h[4],S=function(e){return[b&&d[e](b),A&&d[e](A)]},B=He(S("getHour"),2),k=B[0],W=B[1],V=He(S("getMinute"),2),R=V[0],w=V[1],X=He(S("getSecond"),2),J=X[0],H=X[1],x=He(S("getMillisecond"),2),Y=x[0],N=x[1],E=null===k?null:zH(k)?"am":"pm",F=t.useMemo(function(){return a?zH(k)?y.filter(function(e){return zH(e.value)}):y.filter(function(e){return!zH(e.value)}):y},[k,y,a]),K=function(e,t){var n,o=e.filter(function(e){return!e.disabled});return null!==t&&void 0!==t?t:null===o||void 0===o||null===(n=o[0])||void 0===n?void 0:n.value},M=K(y,k),z=t.useMemo(function(){return v(M)},[v,M]),L=K(z,R),D=t.useMemo(function(){return Z(M,L)},[Z,M,L]),T=K(D,J),j=t.useMemo(function(){return G(M,L,T)},[G,M,L,T]),O=K(j,Y),U=t.useMemo(function(){if(!a)return[];var e=d.getNow(),t=d.setHour(e,6),n=d.setHour(e,18),o=function(e,t){var n=I.cellMeridiemFormat;return n?iH(e,{generateConfig:d,locale:I,format:n}):t};return[{label:o(t,"AM"),value:"am",disabled:y.every(function(e){return e.disabled||!zH(e.value)})},{label:o(n,"PM"),value:"pm",disabled:y.every(function(e){return e.disabled||zH(e.value)})}]},[y,a,d,I]),Q=function(e){var t=f(e);C(t)},$=t.useMemo(function(){var e=b||A||d.getNow(),t=function(e){return null!==e&&void 0!==e};return t(k)?(e=d.setHour(e,k),e=d.setMinute(e,R),e=d.setSecond(e,J),e=d.setMillisecond(e,Y)):t(W)?(e=d.setHour(e,W),e=d.setMinute(e,w),e=d.setSecond(e,H),e=d.setMillisecond(e,N)):t(M)&&(e=d.setHour(e,M),e=d.setMinute(e,L),e=d.setSecond(e,T),e=d.setMillisecond(e,O)),e},[b,A,k,R,J,Y,M,L,T,O,W,w,H,N,d]),P=function(e,t){return null===e?null:d[t]($,e)},q=function(e){return P(e,"setHour")},_=function(e){return P(e,"setMinute")},ee=function(e){return P(e,"setSecond")},te=function(e){return P(e,"setMillisecond")},ne=function(e){return null===e?null:"am"!==e||zH(k)?"pm"===e&&zH(k)?d.setHour($,k+12):$:d.setHour($,k-12)},oe={onDblClick:p,changeOnScroll:i};return t.createElement("div",{className:"".concat(c,"-content")},n&&t.createElement(MH,$t({units:F,value:k,optionalValue:W,type:"hour",onChange:function(e){Q(q(e))},onHover:function(e){m(q(e))}},oe)),o&&t.createElement(MH,$t({units:z,value:R,optionalValue:w,type:"minute",onChange:function(e){Q(_(e))},onHover:function(e){m(_(e))}},oe)),l&&t.createElement(MH,$t({units:D,value:J,optionalValue:H,type:"second",onChange:function(e){Q(ee(e))},onHover:function(e){m(ee(e))}},oe)),r&&t.createElement(MH,$t({units:j,value:Y,optionalValue:N,type:"millisecond",onChange:function(e){Q(te(e))},onHover:function(e){m(te(e))}},oe)),a&&t.createElement(MH,$t({units:U,value:E,type:"meridiem",onChange:function(e){Q(ne(e))},onHover:function(e){m(ne(e))}},oe)))}function DH(e){var n=e.prefixCls,o=e.value,l=e.locale,r=e.generateConfig,a=e.showTime,i=(a||{}).format,g="".concat(n,"-time-panel"),c=He(JH(e,"time"),1)[0];return t.createElement(wH.Provider,{value:c},t.createElement("div",{className:Ol()(g)},t.createElement(NH,null,o?iH(o,{locale:l,format:i,generateConfig:r}):"\xa0"),t.createElement(LH,a)))}var TH={date:EH,datetime:function(e){var n=e.prefixCls,o=e.generateConfig,l=e.showTime,r=e.onSelect,a=e.value,i=e.pickerValue,g=e.onHover,c="".concat(n,"-datetime-panel"),s=He(WH(o,l),1)[0],d=function(e){return gH(o,e,a||i)};return t.createElement("div",{className:c},t.createElement(EH,$t({},e,{onSelect:function(e){var t=d(e);r(s(t,t))},onHover:function(e){null===g||void 0===g||g(e?d(e):e)}})),t.createElement(DH,e))},week:function(e){var n=e.prefixCls,o=e.generateConfig,l=e.locale,r=e.value,a=e.hoverValue,i=e.hoverRangeValue,g=l.locale,c="".concat(n,"-week-panel-row");return t.createElement(EH,$t({},e,{mode:"week",panelName:"week",rowClassName:function(e){var t={};if(i){var n=He(i,2),l=n[0],s=n[1],d=oH(o,g,l,e),I=oH(o,g,s,e);t["".concat(c,"-range-start")]=d,t["".concat(c,"-range-end")]=I,t["".concat(c,"-range-hover")]=!d&&!I&&rH(o,l,s,e)}return a&&(t["".concat(c,"-hover")]=a.some(function(t){return oH(o,g,e,t)})),Ol()(c,Ve({},"".concat(c,"-selected"),!i&&oH(o,g,r,e)),t)}}))},month:function(e){var n=e.prefixCls,o=e.locale,l=e.generateConfig,r=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,g=e.onModeChange,c="".concat(n,"-month-panel"),s=He(JH(e,"month"),1)[0],d=l.setMonth(r,0),I=o.shortMonths||(l.locale.getShortMonths?l.locale.getShortMonths(o.locale):[]),C=a?function(e,t){var n=l.setDate(e,1),o=l.setMonth(n,l.getMonth(n)+1),r=l.addDate(o,-1);return a(n,t)&&a(r,t)}:null,u=t.createElement("button",{type:"button",key:"year","aria-label":o.yearSelect,onClick:function(){g("year")},tabIndex:-1,className:"".concat(n,"-year-btn")},iH(r,{locale:o,format:o.yearFormat,generateConfig:l}));return t.createElement(wH.Provider,{value:s},t.createElement("div",{className:c},t.createElement(NH,{superOffset:function(e){return l.addYear(r,e)},onChange:i,getStart:function(e){return l.setMonth(e,0)},getEnd:function(e){return l.setMonth(e,11)}},u),t.createElement(xH,$t({},e,{disabledDate:C,titleFormat:o.fieldMonthFormat,colNum:3,rowNum:4,baseDate:d,getCellDate:function(e,t){return l.addMonth(e,t)},getCellText:function(e){var t=l.getMonth(e);return o.monthFormat?iH(e,{locale:o,format:o.monthFormat,generateConfig:l}):I[t]},getCellClassName:function(){return Ve({},"".concat(n,"-cell-in-view"),!0)}}))))},quarter:function(e){var n=e.prefixCls,o=e.locale,l=e.generateConfig,r=e.pickerValue,a=e.onPickerValueChange,i=e.onModeChange,g="".concat(n,"-quarter-panel"),c=He(JH(e,"quarter"),1)[0],s=l.setMonth(r,0),d=t.createElement("button",{type:"button",key:"year","aria-label":o.yearSelect,onClick:function(){i("year")},tabIndex:-1,className:"".concat(n,"-year-btn")},iH(r,{locale:o,format:o.yearFormat,generateConfig:l}));return t.createElement(wH.Provider,{value:c},t.createElement("div",{className:g},t.createElement(NH,{superOffset:function(e){return l.addYear(r,e)},onChange:a,getStart:function(e){return l.setMonth(e,0)},getEnd:function(e){return l.setMonth(e,11)}},d),t.createElement(xH,$t({},e,{titleFormat:o.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:s,getCellDate:function(e,t){return l.addMonth(e,3*t)},getCellText:function(e){return iH(e,{locale:o,format:o.cellQuarterFormat,generateConfig:l})},getCellClassName:function(){return Ve({},"".concat(n,"-cell-in-view"),!0)}}))))},year:function(e){var n=e.prefixCls,o=e.locale,l=e.generateConfig,r=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,g=e.onModeChange,c="".concat(n,"-year-panel"),s=He(JH(e,"year"),1)[0],d=function(e){var t=10*Math.floor(l.getYear(e)/10);return l.setYear(e,t)},I=function(e){var t=d(e);return l.addYear(t,9)},C=d(r),u=I(r),m=l.addYear(C,-1),A=a?function(e,t){var n=l.setMonth(e,0),o=l.setDate(n,1),r=l.addYear(o,1),i=l.addDate(r,-1);return a(o,t)&&a(i,t)}:null,b=t.createElement("button",{type:"button",key:"decade","aria-label":o.decadeSelect,onClick:function(){g("decade")},tabIndex:-1,className:"".concat(n,"-decade-btn")},iH(C,{locale:o,format:o.yearFormat,generateConfig:l}),"-",iH(u,{locale:o,format:o.yearFormat,generateConfig:l}));return t.createElement(wH.Provider,{value:s},t.createElement("div",{className:c},t.createElement(NH,{superOffset:function(e){return l.addYear(r,10*e)},onChange:i,getStart:d,getEnd:I},b),t.createElement(xH,$t({},e,{disabledDate:A,titleFormat:o.fieldYearFormat,colNum:3,rowNum:4,baseDate:m,getCellDate:function(e,t){return l.addYear(e,t)},getCellText:function(e){return iH(e,{locale:o,format:o.cellYearFormat,generateConfig:l})},getCellClassName:function(e){return Ve({},"".concat(n,"-cell-in-view"),PJ(l,e,C)||PJ(l,e,u)||rH(l,C,u,e))}}))))},decade:function(e){var n=e.prefixCls,o=e.locale,l=e.generateConfig,r=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,g="".concat(n,"-decade-panel"),c=He(JH(e,"decade"),1)[0],s=function(e){var t=100*Math.floor(l.getYear(e)/100);return l.setYear(e,t)},d=function(e){var t=s(e);return l.addYear(t,99)},I=s(r),C=d(r),u=l.addYear(I,-10),m=a?function(e,t){var n=l.setDate(e,1),o=l.setMonth(n,0),r=l.setYear(o,10*Math.floor(l.getYear(o)/10)),i=l.addYear(r,10),g=l.addDate(i,-1);return a(r,t)&&a(g,t)}:null,A="".concat(iH(I,{locale:o,format:o.yearFormat,generateConfig:l}),"-").concat(iH(C,{locale:o,format:o.yearFormat,generateConfig:l}));return t.createElement(wH.Provider,{value:c},t.createElement("div",{className:g},t.createElement(NH,{superOffset:function(e){return l.addYear(r,100*e)},onChange:i,getStart:s,getEnd:d},A),t.createElement(xH,$t({},e,{disabledDate:m,colNum:3,rowNum:4,baseDate:u,getCellDate:function(e,t){return l.addYear(e,10*t)},getCellText:function(e){var t=o.cellYearFormat,n=iH(e,{locale:o,format:t,generateConfig:l}),r=iH(l.addYear(e,9),{locale:o,format:t,generateConfig:l});return"".concat(n,"-").concat(r)},getCellClassName:function(e){return Ve({},"".concat(n,"-cell-in-view"),$J(l,e,I)||$J(l,e,C)||rH(l,I,C,e))}}))))},time:DH};function jH(e,n){var o,l=e.locale,r=e.generateConfig,a=e.direction,i=e.prefixCls,g=e.tabIndex,c=void 0===g?0:g,s=e.multiple,d=e.defaultValue,I=e.value,C=e.onChange,u=e.onSelect,m=e.defaultPickerValue,A=e.pickerValue,b=e.onPickerValueChange,p=e.mode,h=e.onPanelChange,f=e.picker,y=void 0===f?"date":f,v=e.showTime,Z=e.hoverValue,G=e.hoverRangeValue,S=e.cellRender,B=e.dateRender,k=e.monthCellRender,W=e.components,V=void 0===W?{}:W,R=e.hideHeader,w=(null===(o=t.useContext(kJ))||void 0===o?void 0:o.prefixCls)||i||"rc-picker",X=t.useRef();t.useImperativeHandle(n,function(){return{nativeElement:X.current}});var J=He(jJ(e),4),H=J[0],x=J[1],Y=J[2],N=J[3],E=KJ(l,x),F="date"===y&&v?"datetime":y,K=t.useMemo(function(){return OJ(F,Y,N,H,E)},[F,Y,N,H,E]),M=r.getNow(),z=He(Gr(y,{value:p,postState:function(e){return e||"date"}}),2),L=z[0],D=z[1],T="date"===L&&K?"datetime":L,j=RH(r,l,F),O=He(Gr(d,{value:I}),2),U=O[0],Q=O[1],$=t.useMemo(function(){var e=wJ(U).filter(function(e){return e});return s?e:e.slice(0,1)},[U,s]),P=yr(function(e){Q(e),C&&(null===e||$.length!==e.length||$.some(function(t,n){return!lH(r,l,t,e[n],F)}))&&(null===C||void 0===C||C(s?e:e[0]))}),q=yr(function(e){if(null===u||void 0===u||u(e),L===y){var t=s?j($,e):[e];P(t)}}),_=He(Gr(m||$[0]||M,{value:A}),2),ee=_[0],te=_[1];t.useEffect(function(){$[0]&&!A&&te($[0])},[$[0]]);var ne=function(e,t){null===h||void 0===h||h(e||A,t||L)},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];te(e),null===b||void 0===b||b(e),t&&ne(e)},le=function(e,t){D(e),t&&oe(t),ne(t,e)},re=t.useMemo(function(){var e,t;if(Array.isArray(G)){var n=He(G,2);e=n[0],t=n[1]}else e=G;return e||t?(e=e||t,t=t||e,r.isAfter(e,t)?[t,e]:[e,t]):null},[G,r]),ae=NJ(S,B,k),ie=V[T]||TH[T]||EH,ge=t.useContext(HH),ce=t.useMemo(function(){return Ee(Ee({},ge),{},{hideHeader:R})},[ge,R]);var se="".concat(w,"-panel"),de=JJ(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return t.createElement(HH.Provider,{value:ce},t.createElement("div",{ref:X,tabIndex:c,className:Ol()(se,Ve({},"".concat(se,"-rtl"),"rtl"===a))},t.createElement(ie,$t({},de,{showTime:K,prefixCls:w,locale:E,generateConfig:r,onModeChange:le,pickerValue:ee,onPickerValueChange:function(e){oe(e,!0)},value:$[0],onSelect:function(e){if(q(e),oe(e),L!==y){var t=["decade","year"],n=[].concat(t,["month"]),o={quarter:[].concat(t,["quarter"]),week:[].concat(Ye(n),["week"]),date:[].concat(Ye(n),["date"])}[y]||n,l=o.indexOf(L),r=o[l+1];r&&le(r,e)}},values:$,cellRender:ae,hoverRangeValue:re,hoverValue:Z}))))}const OH=t.memo(t.forwardRef(jH));function UH(e){var n=e.picker,o=e.multiplePanel,l=e.pickerValue,r=e.onPickerValueChange,a=e.needConfirm,i=e.onSubmit,g=e.range,c=e.hoverValue,s=t.useContext(kJ),d=s.prefixCls,I=s.generateConfig,C=t.useCallback(function(e,t){return AH(I,n,e,t)},[I,n]),u=t.useMemo(function(){return C(l,1)},[l,C]),m={onCellDblClick:function(){a&&i()}},A="time"===n,b=Ee(Ee({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:A});return g?b.hoverRangeValue=c:b.hoverValue=c,o?t.createElement("div",{className:"".concat(d,"-panels")},t.createElement(HH.Provider,{value:Ee(Ee({},m),{},{hideNext:!0})},t.createElement(OH,b)),t.createElement(HH.Provider,{value:Ee(Ee({},m),{},{hidePrev:!0})},t.createElement(OH,$t({},b,{pickerValue:u,onPickerValueChange:function(e){r(C(e,-1))}})))):t.createElement(HH.Provider,{value:Ee({},m)},t.createElement(OH,b))}function QH(e){return"function"===typeof e?e():e}function $H(e){var n=e.prefixCls,o=e.presets,l=e.onClick,r=e.onHover;return o.length?t.createElement("div",{className:"".concat(n,"-presets")},t.createElement("ul",null,o.map(function(e,n){var o=e.label,a=e.value;return t.createElement("li",{key:n,onClick:function(){l(QH(a))},onMouseEnter:function(){r(QH(a))},onMouseLeave:function(){r(null)}},o)}))):null}function PH(e){var n=e.panelRender,o=e.internalMode,l=e.picker,r=e.showNow,a=e.range,i=e.multiple,g=e.activeInfo,c=void 0===g?[0,0,0]:g,s=e.presets,d=e.onPresetHover,I=e.onPresetSubmit,C=e.onFocus,u=e.onBlur,m=e.onPanelMouseDown,A=e.direction,b=e.value,p=e.onSelect,h=e.isInvalid,f=e.defaultOpenValue,y=e.onOk,v=e.onSubmit,Z=t.useContext(kJ).prefixCls,G="".concat(Z,"-panel"),S="rtl"===A,B=t.useRef(null),k=t.useRef(null),W=He(t.useState(0),2),V=W[0],R=W[1],w=He(t.useState(0),2),X=w[0],J=w[1],H=He(t.useState(0),2),x=H[0],Y=H[1],N=He(c,3),E=N[0],F=N[1],K=N[2],M=He(t.useState(0),2),z=M[0],L=M[1];function D(e){return e.filter(function(e){return e})}t.useEffect(function(){L(10)},[E]),t.useEffect(function(){if(a&&k.current){var e,t=(null===(e=B.current)||void 0===e?void 0:e.offsetWidth)||0,n=k.current.getBoundingClientRect();if(!n.height||n.right<0)return void L(function(e){return Math.max(0,e-1)});var o=(S?F-t:E)-n.left;if(Y(o),V&&V<K){var l=S?n.right-(F-t+V):E+t-n.left-V,r=Math.max(0,l);J(r)}else J(0)}},[z,S,V,E,F,K,a]);var T=t.useMemo(function(){return D(wJ(b))},[b]),j="time"===l&&!T.length,O=t.useMemo(function(){return j?D([f]):T},[j,T,f]),U=j?f:T,Q=t.useMemo(function(){return!O.length||O.some(function(e){return h(e)})},[O,h]),$=t.createElement("div",{className:"".concat(Z,"-panel-layout")},t.createElement($H,{prefixCls:Z,presets:s,onClick:I,onHover:d}),t.createElement("div",null,t.createElement(UH,$t({},e,{value:U})),t.createElement(VH,$t({},e,{showNow:!i&&r,invalid:Q,onSubmit:function(){j&&p(f),y(),v()}}))));n&&($=n($));var P="".concat(G,"-container"),q="marginLeft",_="marginRight",ee=t.createElement("div",{onMouseDown:m,tabIndex:-1,className:Ol()(P,"".concat(Z,"-").concat(o,"-panel-container")),style:Ve(Ve({},S?_:q,X),S?q:_,"auto"),onFocus:C,onBlur:u},$);return a&&(ee=t.createElement("div",{onMouseDown:m,ref:k,className:Ol()("".concat(Z,"-range-wrapper"),"".concat(Z,"-").concat(l,"-range-wrapper"))},t.createElement("div",{ref:B,className:"".concat(Z,"-range-arrow"),style:{left:x}}),t.createElement(qg,{onResize:function(e){e.width&&R(e.width)}},ee))),ee}function qH(e,n){var o=e.format,l=e.maskFormat,r=e.generateConfig,a=e.locale,i=e.preserveInvalidOnBlur,g=e.inputReadOnly,c=e.required,s=e["aria-required"],d=e.onSubmit,I=e.onFocus,C=e.onBlur,u=e.onInputChange,m=e.onInvalid,A=e.open,b=e.onOpenChange,p=e.onKeyDown,h=e.onChange,f=e.activeHelp,y=e.name,v=e.autoComplete,Z=e.id,G=e.value,S=e.invalid,B=e.placeholder,k=e.disabled,W=e.activeIndex,V=e.allHelp,R=e.picker,w=function(e,t){var n=r.locale.parse(a.locale,e,[t]);return n&&r.isValidate(n)?n:null},X=o[0],J=t.useCallback(function(e){return iH(e,{locale:a,format:X,generateConfig:r})},[a,r,X]),H=t.useMemo(function(){return G.map(J)},[G,J]),x=t.useMemo(function(){var e="time"===R?8:10,t="function"===typeof X?X(r.getNow()).length:X.length;return Math.max(e,t)+2},[X,R,r]),Y=function(e){for(var t=0;t<o.length;t+=1){var n=o[t];if("string"===typeof n){var l=w(e,n);if(l)return l}}return!1};return[function(t){function o(e){return void 0!==t?e[t]:e}var r=Ee(Ee({},My(e,{aria:!0,data:!0})),{},{format:l,validateFormat:function(e){return!!Y(e)},preserveInvalidOnBlur:i,readOnly:g,required:c,"aria-required":s,name:y,autoComplete:v,size:x,id:o(Z),value:o(H)||"",invalid:o(S),placeholder:o(B),active:W===t,helped:V||f&&W===t,disabled:o(k),onFocus:function(e){I(e,t)},onBlur:function(e){C(e,t)},onSubmit:d,onChange:function(e){u();var n=Y(e);if(n)return m(!1,t),void h(n,t);m(!!e,t)},onHelp:function(){b(!0,{index:t})},onKeyDown:function(e){var n=!1;if(null===p||void 0===p||p(e,function(){n=!0}),!e.defaultPrevented&&!n)switch(e.key){case"Escape":b(!1,{index:t});break;case"Enter":A||b(!0)}}},null===n||void 0===n?void 0:n({valueTexts:H}));return Object.keys(r).forEach(function(e){void 0===r[e]&&delete r[e]}),r},J]}var _H=["onMouseEnter","onMouseLeave"];function ex(e){return t.useMemo(function(){return JJ(e,_H)},[e])}var tx=["icon","type"],nx=["onClear"];function ox(e){var n=e.icon,o=e.type,l=cr(e,tx),r=t.useContext(kJ).prefixCls;return n?t.createElement("span",$t({className:"".concat(r,"-").concat(o)},l),n):null}function lx(e){var n=e.onClear,o=cr(e,nx);return t.createElement(ox,$t({},o,{type:"clear",role:"button",onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.stopPropagation(),n()}}))}var rx=["YYYY","MM","DD","HH","mm","ss","SSS"],ax=function(){function e(t){it(this,e),Ve(this,"format",void 0),Ve(this,"maskFormat",void 0),Ve(this,"cells",void 0),Ve(this,"maskCells",void 0),this.format=t;var n=rx.map(function(e){return"(".concat(e,")")}).join("|"),o=new RegExp(n,"g");this.maskFormat=t.replace(o,function(e){return"\u9867".repeat(e.length)});var l=new RegExp("(".concat(rx.join("|"),")")),r=(t.split(l)||[]).filter(function(e){return e}),a=0;this.cells=r.map(function(e){var t=rx.includes(e),n=a,o=a+e.length;return a=o,{text:e,mask:t,start:n,end:o}}),this.maskCells=this.cells.filter(function(e){return e.mask})}return ct(e,[{key:"getSelection",value:function(e){var t=this.maskCells[e]||{};return[t.start||0,t.end||0]}},{key:"match",value:function(e){for(var t=0;t<this.maskFormat.length;t+=1){var n=this.maskFormat[t],o=e[t];if(!o||"\u9867"!==n&&n!==o)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,o=0;o<this.maskCells.length;o+=1){var l=this.maskCells[o],r=l.start,a=l.end;if(e>=r&&e<=a)return o;var i=Math.min(Math.abs(e-r),Math.abs(e-a));i<t&&(t=i,n=o)}return n}}]),e}();var ix=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],gx=t.forwardRef(function(e,n){var o=e.active,l=e.showActiveCls,r=void 0===l||l,a=e.suffixIcon,i=e.format,g=e.validateFormat,c=e.onChange,s=(e.onInput,e.helped),d=e.onHelp,I=e.onSubmit,C=e.onKeyDown,u=e.preserveInvalidOnBlur,m=void 0!==u&&u,A=e.invalid,b=e.clearIcon,p=cr(e,ix),h=e.value,f=e.onFocus,y=e.onBlur,v=e.onMouseUp,Z=t.useContext(kJ),G=Z.prefixCls,S=Z.input,B=void 0===S?"input":S,k="".concat(G,"-input"),W=He(t.useState(!1),2),V=W[0],R=W[1],w=He(t.useState(h),2),X=w[0],J=w[1],H=He(t.useState(""),2),x=H[0],Y=H[1],N=He(t.useState(null),2),E=N[0],F=N[1],K=He(t.useState(null),2),M=K[0],z=K[1],L=X||"";t.useEffect(function(){J(h)},[h]);var D=t.useRef(),T=t.useRef();t.useImperativeHandle(n,function(){return{nativeElement:D.current,inputElement:T.current,focus:function(e){T.current.focus(e)},blur:function(){T.current.blur()}}});var j=t.useMemo(function(){return new ax(i||"")},[i]),O=He(t.useMemo(function(){return s?[0,0]:j.getSelection(E)},[j,E,s]),2),U=O[0],Q=O[1],$=function(e){e&&e!==i&&e!==h&&d()},P=yr(function(e){g(e)&&c(e),J(e),$(e)}),q=t.useRef(!1),_=function(e){y(e)};uH(o,function(){o||m||J(h)});var ee=function(e){"Enter"===e.key&&g(L)&&I(),null===C||void 0===C||C(e)},te=t.useRef();Ft(function(){if(V&&i&&!q.current){if(j.match(L))return T.current.setSelectionRange(U,Q),te.current=ea(function(){T.current.setSelectionRange(U,Q)}),function(){ea.cancel(te.current)};P(i)}},[j,i,V,L,E,U,Q,M,P]);var ne=i?{onFocus:function(e){R(!0),F(0),Y(""),f(e)},onBlur:function(e){R(!1),_(e)},onKeyDown:function(e){ee(e);var t=e.key,n=null,o=null,l=Q-U,r=i.slice(U,Q),a=function(e){F(function(t){var n=t+e;return n=Math.max(n,0),n=Math.min(n,j.size()-1)})},g=function(e){var t=function(e){return{YYYY:[0,9999,(new Date).getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]}[e]}(r),n=He(t,3),o=n[0],l=n[1],a=n[2],i=L.slice(U,Q),g=Number(i);if(isNaN(g))return String(a||(e>0?o:l));var c=l-o+1;return String(o+(c+(g+e)-o)%c)};switch(t){case"Backspace":case"Delete":n="",o=r;break;case"ArrowLeft":n="",a(-1);break;case"ArrowRight":n="",a(1);break;case"ArrowUp":n="",o=g(1);break;case"ArrowDown":n="",o=g(-1);break;default:isNaN(Number(t))||(o=n=x+t)}if(null!==n&&(Y(n),n.length>=l&&(a(1),Y(""))),null!==o){var c=L.slice(0,U)+RJ(o,l)+L.slice(Q);P(c.slice(0,i.length))}z({})},onMouseDown:function(){q.current=!0},onMouseUp:function(e){var t=e.target.selectionStart,n=j.getMaskCellIndex(t);F(n),z({}),null===v||void 0===v||v(e),q.current=!1},onPaste:function(e){var t=e.clipboardData.getData("text");g(t)&&P(t)}}:{};return t.createElement("div",{ref:D,className:Ol()(k,Ve(Ve({},"".concat(k,"-active"),o&&r),"".concat(k,"-placeholder"),s))},t.createElement(B,$t({ref:T,"aria-invalid":A,autoComplete:"off"},p,{onKeyDown:ee,onBlur:_},ne,{value:L,onChange:function(e){if(!i){var t=e.target.value;$(t),J(t),c(t)}}})),t.createElement(ox,{type:"suffix",icon:a}),b)});const cx=gx;var sx=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],dx=["index"];function Ix(e,n){var o=e.id,l=e.prefix,r=e.clearIcon,a=e.suffixIcon,i=e.separator,g=void 0===i?"~":i,c=e.activeIndex,s=(e.activeHelp,e.allHelp,e.focused),d=(e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig,e.placeholder),I=e.className,C=e.style,u=e.onClick,m=e.onClear,A=e.value,b=(e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid,e.disabled),p=e.invalid,h=(e.inputReadOnly,e.direction),f=(e.onOpenChange,e.onActiveInfo),y=(e.placement,e.onMouseDown),v=(e.required,e["aria-required"],e.autoFocus),Z=e.tabIndex,G=cr(e,sx),S="rtl"===h,B=t.useContext(kJ).prefixCls,k=t.useMemo(function(){if("string"===typeof o)return[o];var e=o||{};return[e.start,e.end]},[o]),W=t.useRef(),V=t.useRef(),R=t.useRef(),w=function(e){var t;return null===(t=[V,R][e])||void 0===t?void 0:t.current};t.useImperativeHandle(n,function(){return{nativeElement:W.current,focus:function(e){if("object"===ke(e)){var t,n=e||{},o=n.index,l=void 0===o?0:o,r=cr(n,dx);null===(t=w(l))||void 0===t||t.focus(r)}else{var a;null===(a=w(null!==e&&void 0!==e?e:0))||void 0===a||a.focus()}},blur:function(){var e,t;null===(e=w(0))||void 0===e||e.blur(),null===(t=w(1))||void 0===t||t.blur()}}});var X=ex(G),J=t.useMemo(function(){return Array.isArray(d)?d:[d,d]},[d]),H=He(qH(Ee(Ee({},e),{},{id:k,placeholder:J})),1)[0],x=He(t.useState({position:"absolute",width:0}),2),Y=x[0],N=x[1],E=yr(function(){var e=w(c);if(e){var t=e.nativeElement.getBoundingClientRect(),n=W.current.getBoundingClientRect(),o=t.left-n.left;N(function(e){return Ee(Ee({},e),{},{width:t.width,left:o})}),f([t.left,t.right,n.width])}});t.useEffect(function(){E()},[c]);var F=r&&(A[0]&&!b[0]||A[1]&&!b[1]),K=v&&!b[0],M=v&&!K&&!b[1];return t.createElement(qg,{onResize:E},t.createElement("div",$t({},X,{className:Ol()(B,"".concat(B,"-range"),Ve(Ve(Ve(Ve({},"".concat(B,"-focused"),s),"".concat(B,"-disabled"),b.every(function(e){return e})),"".concat(B,"-invalid"),p.some(function(e){return e})),"".concat(B,"-rtl"),S),I),style:C,ref:W,onClick:u,onMouseDown:function(e){var t=e.target;t!==V.current.inputElement&&t!==R.current.inputElement&&e.preventDefault(),null===y||void 0===y||y(e)}}),l&&t.createElement("div",{className:"".concat(B,"-prefix")},l),t.createElement(cx,$t({ref:V},H(0),{autoFocus:K,tabIndex:Z,"date-range":"start"})),t.createElement("div",{className:"".concat(B,"-range-separator")},g),t.createElement(cx,$t({ref:R},H(1),{autoFocus:M,tabIndex:Z,"date-range":"end"})),t.createElement("div",{className:"".concat(B,"-active-bar"),style:Y}),t.createElement(ox,{type:"suffix",icon:a}),F&&t.createElement(lx,{icon:r,onClear:m})))}const Cx=t.forwardRef(Ix);function ux(e,t){var n=null!==e&&void 0!==e?e:t;return Array.isArray(n)?n:[n,n]}function mx(e){return 1===e?"end":"start"}function Ax(e,n){var o=sH(e,function(){var t=e.disabled,n=e.allowEmpty;return{disabled:ux(t,!1),allowEmpty:ux(n,!1)}}),l=He(o,6),r=l[0],a=l[1],i=l[2],g=l[3],c=l[4],s=l[5],d=r.prefixCls,I=r.styles,C=r.classNames,u=r.defaultValue,m=r.value,A=r.needConfirm,b=r.onKeyDown,p=r.disabled,h=r.allowEmpty,f=r.disabledDate,y=r.minDate,v=r.maxDate,Z=r.defaultOpen,G=r.open,S=r.onOpenChange,B=r.locale,k=r.generateConfig,W=r.picker,V=r.showNow,R=r.showToday,w=r.showTime,X=r.mode,J=r.onPanelChange,H=r.onCalendarChange,x=r.onOk,Y=r.defaultPickerValue,N=r.pickerValue,E=r.onPickerValueChange,F=r.inputReadOnly,K=r.suffixIcon,M=r.onFocus,z=r.onBlur,L=r.presets,D=r.ranges,T=r.components,j=r.cellRender,O=r.dateRender,U=r.monthCellRender,Q=r.onClick,$=IH(n),P=He(dH(G,Z,p,S),2),q=P[0],_=P[1],ee=function(e,t){!p.some(function(e){return!e})&&e||_(e,t)},te=He(ZH(k,B,g,!0,!1,u,m,H,x),5),ne=te[0],oe=te[1],le=te[2],re=te[3],ae=te[4],ie=le(),ge=He(mH(p,h,q),9),ce=ge[0],se=ge[1],de=ge[2],Ie=ge[3],Ce=ge[4],ue=ge[5],me=ge[6],Ae=ge[7],be=ge[8],pe=function(e,t){se(!0),null===M||void 0===M||M(e,{range:mx(null!==t&&void 0!==t?t:Ie)})},he=function(e,t){se(!1),null===z||void 0===z||z(e,{range:mx(null!==t&&void 0!==t?t:Ie)})},fe=t.useMemo(function(){if(!w)return null;var e=w.disabledTime,t=e?function(t){var n=mx(Ie),o=xJ(ie,me,Ie);return e(t,n,{from:o})}:void 0;return Ee(Ee({},w),{},{disabledTime:t})},[w,Ie,ie,me]),ye=He(Gr([W,W],{value:X}),2),ve=ye[0],Ze=ye[1],Ge=ve[Ie]||W,Se="date"===Ge&&fe?"datetime":Ge,Be=Se===W&&"time"!==Se,ke=SH(W,Ge,V,R,!0),We=He(GH(r,ne,oe,le,re,p,g,ce,q,s),2),Ve=We[0],Re=We[1],we=function(e,t,n,o,l,r){var a=n[n.length-1];return function(i,g){var c=He(e,2),s=c[0],d=c[1],I=Ee(Ee({},g),{},{from:xJ(e,n)});return!(1!==a||!t[0]||!s||lH(o,l,s,i,I.type)||!o.isAfter(s,i))||!(0!==a||!t[1]||!d||lH(o,l,d,i,I.type)||!o.isAfter(i,d))||(null===r||void 0===r?void 0:r(i,I))}}(ie,p,me,k,B,f),Xe=He(EJ(ie,s,h),2),Je=Xe[0],xe=Xe[1],Ne=He(pH(k,B,ie,ve,q,Ie,a,Be,Y,N,null===fe||void 0===fe?void 0:fe.defaultOpenValue,E,y,v),2),Fe=Ne[0],Ke=Ne[1],Me=yr(function(e,t,n){var o=XJ(ve,Ie,t);if(o[0]===ve[0]&&o[1]===ve[1]||Ze(o),J&&!1!==n){var l=Ye(ie);e&&(l[Ie]=e),J(l,o)}}),ze=function(e,t){return XJ(ie,t,e)},Le=function(e,t){var n=ie;e&&(n=ze(e,Ie)),Ae(Ie);var o=ue(n);re(n),Ve(Ie,null===o),null===o?ee(!1,{force:!0}):t||$.current.focus({index:o})},De=He(t.useState(null),2),Te=De[0],je=De[1],Oe=He(t.useState(null),2),Ue=Oe[0],Qe=Oe[1],$e=t.useMemo(function(){return Ue||ie},[ie,Ue]);t.useEffect(function(){q||Qe(null)},[q]);var Pe=He(t.useState([0,0,0]),2),qe=Pe[0],_e=Pe[1],et=CH(L,D),tt=NJ(j,O,U,mx(Ie)),nt=ie[Ie]||null,ot=yr(function(e){return s(e,{activeIndex:Ie})}),lt=t.useMemo(function(){var e=My(r,!1);return Pa(r,[].concat(Ye(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]))},[r]),rt=t.createElement(PH,$t({},lt,{showNow:ke,showTime:fe,range:!0,multiplePanel:Be,activeInfo:qe,disabledDate:we,onFocus:function(e){ee(!0),pe(e)},onBlur:he,onPanelMouseDown:function(){de("panel")},picker:W,mode:Ge,internalMode:Se,onPanelChange:Me,format:c,value:nt,isInvalid:ot,onChange:null,onSelect:function(e){var t=XJ(ie,Ie,e);re(t),A||i||a!==Se||Le(e)},pickerValue:Fe,defaultOpenValue:wJ(null===w||void 0===w?void 0:w.defaultOpenValue)[Ie],onPickerValueChange:Ke,hoverValue:$e,onHover:function(e){Qe(e?ze(e,Ie):null),je("cell")},needConfirm:A,onSubmit:Le,onOk:ae,presets:et,onPresetHover:function(e){Qe(e),je("preset")},onPresetSubmit:function(e){Re(e)&&ee(!1,{force:!0})},onNow:function(e){Le(e)},cellRender:tt})),at=t.useMemo(function(){return{prefixCls:d,locale:B,generateConfig:k,button:T.button,input:T.input}},[d,B,k,T.button,T.input]);return Ft(function(){q&&void 0!==Ie&&Me(null,W,!1)},[q,Ie,W]),Ft(function(){var e=de();q||"input"!==e||(ee(!1),Le(null,!0)),q||!i||A||"panel"!==e||(ee(!0),Le())},[q]),t.createElement(kJ.Provider,{value:at},t.createElement(VJ,$t({},YJ(r),{popupElement:rt,popupStyle:I.popup,popupClassName:C.popup,visible:q,onClose:function(){ee(!1)},range:!0}),t.createElement(Cx,$t({},r,{ref:$,suffixIcon:K,activeIndex:ce||q?Ie:null,activeHelp:!!Ue,allHelp:!!Ue&&"preset"===Te,focused:ce,onFocus:function(e,t){var n=me.length,o=me[n-1];n&&o!==t&&A&&!h[o]&&!be(o)&&ie[o]?$.current.focus({index:o}):(de("input"),ee(!0,{inherit:!0}),Ie!==t&&q&&!A&&i&&Le(null,!0),Ce(t),pe(e,t))},onBlur:function(e,t){if(ee(!1),!A&&"input"===de()){var n=ue(ie);Ve(Ie,null===n)}he(e,t)},onKeyDown:function(e,t){"Tab"===e.key&&Le(null,!0),null===b||void 0===b||b(e,t)},onSubmit:Le,value:$e,maskFormat:c,onChange:function(e,t){var n=ze(e,t);re(n)},onInputChange:function(){de("input")},format:g,inputReadOnly:F,disabled:p,open:q,onOpenChange:ee,onClick:function(e){var t,n=e.target.getRootNode();if(!$.current.nativeElement.contains(null!==(t=n.activeElement)&&void 0!==t?t:document.activeElement)){var o=p.findIndex(function(e){return!e});o>=0&&$.current.focus({index:o})}ee(!0),null===Q||void 0===Q||Q(e)},onClear:function(){Re(null),ee(!1,{force:!0})},invalid:Je,onInvalid:xe,onActiveInfo:_e}))))}const bx=t.forwardRef(Ax);function px(e){var n=e.prefixCls,o=e.value,l=e.onRemove,r=e.removeIcon,a=void 0===r?"\xd7":r,i=e.formatDate,g=e.disabled,c=e.maxTagCount,s=e.placeholder,d="".concat(n,"-selector"),I="".concat(n,"-selection"),C="".concat(I,"-overflow");function u(e,n){return t.createElement("span",{className:Ol()("".concat(I,"-item")),title:"string"===typeof e?e:null},t.createElement("span",{className:"".concat(I,"-item-content")},e),!g&&n&&t.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:n,className:"".concat(I,"-item-remove")},a))}return t.createElement("div",{className:d},t.createElement(Wm,{prefixCls:C,data:o,renderItem:function(e){return u(i(e),function(t){t&&t.stopPropagation(),l(e)})},renderRest:function(e){return u("+ ".concat(e.length," ..."))},itemKey:function(e){return i(e)},maxCount:c}),!o.length&&t.createElement("span",{className:"".concat(n,"-selection-placeholder")},s))}var hx=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function fx(e,n){e.id;var o=e.open,l=e.prefix,r=e.clearIcon,a=e.suffixIcon,i=(e.activeHelp,e.allHelp,e.focused),g=(e.onFocus,e.onBlur,e.onKeyDown,e.locale),c=e.generateConfig,s=e.placeholder,d=e.className,I=e.style,C=e.onClick,u=e.onClear,m=e.internalPicker,A=e.value,b=e.onChange,p=e.onSubmit,h=(e.onInputChange,e.multiple),f=e.maxTagCount,y=(e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid,e.disabled),v=e.invalid,Z=(e.inputReadOnly,e.direction),G=(e.onOpenChange,e.onMouseDown),S=(e.required,e["aria-required"],e.autoFocus),B=e.tabIndex,k=e.removeIcon,W=cr(e,hx),V="rtl"===Z,R=t.useContext(kJ).prefixCls,w=t.useRef(),X=t.useRef();t.useImperativeHandle(n,function(){return{nativeElement:w.current,focus:function(e){var t;null===(t=X.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=X.current)||void 0===e||e.blur()}}});var J=ex(W),H=qH(Ee(Ee({},e),{},{onChange:function(e){b([e])}}),function(e){return{value:e.valueTexts[0]||"",active:i}}),x=He(H,2),Y=x[0],N=x[1],E=!(!r||!A.length||y),F=h?t.createElement(t.Fragment,null,t.createElement(px,{prefixCls:R,value:A,onRemove:function(e){var t=A.filter(function(t){return t&&!lH(c,g,t,e,m)});b(t),o||p()},formatDate:N,maxTagCount:f,disabled:y,removeIcon:k,placeholder:s}),t.createElement("input",{className:"".concat(R,"-multiple-input"),value:A.map(N).join(","),ref:X,readOnly:!0,autoFocus:S,tabIndex:B}),t.createElement(ox,{type:"suffix",icon:a}),E&&t.createElement(lx,{icon:r,onClear:u})):t.createElement(cx,$t({ref:X},Y(),{autoFocus:S,tabIndex:B,suffixIcon:a,clearIcon:E&&t.createElement(lx,{icon:r,onClear:u}),showActiveCls:!1}));return t.createElement("div",$t({},J,{className:Ol()(R,Ve(Ve(Ve(Ve(Ve({},"".concat(R,"-multiple"),h),"".concat(R,"-focused"),i),"".concat(R,"-disabled"),y),"".concat(R,"-invalid"),v),"".concat(R,"-rtl"),V),d),style:I,ref:w,onClick:C,onMouseDown:function(e){var t;e.target!==(null===(t=X.current)||void 0===t?void 0:t.inputElement)&&e.preventDefault(),null===G||void 0===G||G(e)}}),l&&t.createElement("div",{className:"".concat(R,"-prefix")},l),F)}const yx=t.forwardRef(fx);function vx(e,n){var o=He(sH(e),6),l=o[0],r=o[1],a=o[2],i=o[3],g=o[4],c=o[5],s=l,d=s.prefixCls,I=s.styles,C=s.classNames,u=s.order,m=s.defaultValue,A=s.value,b=s.needConfirm,p=s.onChange,h=s.onKeyDown,f=s.disabled,y=s.disabledDate,v=s.minDate,Z=s.maxDate,G=s.defaultOpen,S=s.open,B=s.onOpenChange,k=s.locale,W=s.generateConfig,V=s.picker,R=s.showNow,w=s.showToday,X=s.showTime,J=s.mode,H=s.onPanelChange,x=s.onCalendarChange,Y=s.onOk,N=s.multiple,E=s.defaultPickerValue,F=s.pickerValue,K=s.onPickerValueChange,M=s.inputReadOnly,z=s.suffixIcon,L=s.removeIcon,D=s.onFocus,T=s.onBlur,j=s.presets,O=s.components,U=s.cellRender,Q=s.dateRender,$=s.monthCellRender,P=s.onClick,q=IH(n);function _(e){return null===e?null:N?e:e[0]}var ee=RH(W,k,r),te=He(dH(S,G,[f],B),2),ne=te[0],oe=te[1],le=He(ZH(W,k,i,!1,u,m,A,function(e,t,n){if(x){var o=Ee({},n);delete o.range,x(_(e),_(t),o)}},function(e){null===Y||void 0===Y||Y(_(e))}),5),re=le[0],ae=le[1],ie=le[2],ge=le[3],ce=le[4],se=ie(),de=He(mH([f]),4),Ie=de[0],Ce=de[1],ue=de[2],me=de[3],Ae=function(e){Ce(!0),null===D||void 0===D||D(e,{})},be=function(e){Ce(!1),null===T||void 0===T||T(e,{})},pe=He(Gr(V,{value:J}),2),he=pe[0],fe=pe[1],ye="date"===he&&X?"datetime":he,ve=SH(V,he,R,w),Ze=p&&function(e,t){p(_(e),_(t))},Ge=He(GH(Ee(Ee({},l),{},{onChange:Ze}),re,ae,ie,ge,[],i,Ie,ne,c),2)[1],Se=He(EJ(se,c),2),Be=Se[0],ke=Se[1],We=t.useMemo(function(){return Be.some(function(e){return e})},[Be]),Ve=He(pH(W,k,se,[he],ne,me,r,!1,E,F,wJ(null===X||void 0===X?void 0:X.defaultOpenValue),function(e,t){if(K){var n=Ee(Ee({},t),{},{mode:t.mode[0]});delete n.range,K(e[0],n)}},v,Z),2),Re=Ve[0],we=Ve[1],Xe=yr(function(e,t,n){if(fe(t),H&&!1!==n){var o=e||se[se.length-1];H(o,t)}}),Je=function(){Ge(ie()),oe(!1,{force:!0})},xe=He(t.useState(null),2),Ne=xe[0],Fe=xe[1],Ke=He(t.useState(null),2),Me=Ke[0],ze=Ke[1],Le=t.useMemo(function(){var e=[Me].concat(Ye(se)).filter(function(e){return e});return N?e:e.slice(0,1)},[se,Me,N]),De=t.useMemo(function(){return!N&&Me?[Me]:se.filter(function(e){return e})},[se,Me,N]);t.useEffect(function(){ne||ze(null)},[ne]);var Te=CH(j),je=function(e){var t=N?ee(ie(),e):[e];Ge(t)&&!N&&oe(!1,{force:!0})},Oe=NJ(U,Q,$),Ue=t.useMemo(function(){var e=My(l,!1);return Ee(Ee({},Pa(l,[].concat(Ye(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange"]))),{},{multiple:l.multiple})},[l]),Qe=t.createElement(PH,$t({},Ue,{showNow:ve,showTime:X,disabledDate:y,onFocus:function(e){oe(!0),Ae(e)},onBlur:be,picker:V,mode:he,internalMode:ye,onPanelChange:Xe,format:g,value:se,isInvalid:c,onChange:null,onSelect:function(e){if(ue("panel"),!N||ye===V){var t=N?ee(ie(),e):[e];ge(t),b||a||r!==ye||Je()}},pickerValue:Re,defaultOpenValue:null===X||void 0===X?void 0:X.defaultOpenValue,onPickerValueChange:we,hoverValue:Le,onHover:function(e){ze(e),Fe("cell")},needConfirm:b,onSubmit:Je,onOk:ce,presets:Te,onPresetHover:function(e){ze(e),Fe("preset")},onPresetSubmit:je,onNow:function(e){je(e)},cellRender:Oe})),$e=t.useMemo(function(){return{prefixCls:d,locale:k,generateConfig:W,button:O.button,input:O.input}},[d,k,W,O.button,O.input]);return Ft(function(){ne&&void 0!==me&&Xe(null,V,!1)},[ne,me,V]),Ft(function(){var e=ue();ne||"input"!==e||(oe(!1),Je()),ne||!a||b||"panel"!==e||Je()},[ne]),t.createElement(kJ.Provider,{value:$e},t.createElement(VJ,$t({},YJ(l),{popupElement:Qe,popupStyle:I.popup,popupClassName:C.popup,visible:ne,onClose:function(){oe(!1)}}),t.createElement(yx,$t({},l,{ref:q,suffixIcon:z,removeIcon:L,activeHelp:!!Me,allHelp:!!Me&&"preset"===Ne,focused:Ie,onFocus:function(e){ue("input"),oe(!0,{inherit:!0}),Ae(e)},onBlur:function(e){oe(!1),be(e)},onKeyDown:function(e,t){"Tab"===e.key&&Je(),null===h||void 0===h||h(e,t)},onSubmit:Je,value:De,maskFormat:g,onChange:function(e){ge(e)},onInputChange:function(){ue("input")},internalPicker:r,format:i,inputReadOnly:M,disabled:f,open:ne,onOpenChange:oe,onClick:function(e){f||q.current.nativeElement.contains(document.activeElement)||q.current.focus(),oe(!0),null===P||void 0===P||P(e)},onClear:function(){Ge(null),oe(!1,{force:!0})},invalid:We,onInvalid:function(e){ke(e,0)}}))))}const Zx=t.forwardRef(vx),Gx=(e,t)=>{const{componentCls:n,controlHeight:o}=e,l=t?`${n}-${t}`:"",r=aG(e);return[{[`${n}-multiple${l}`]:{paddingBlock:r.containerPadding,paddingInlineStart:r.basePadding,minHeight:o,[`${n}-selection-item`]:{height:r.itemHeight,lineHeight:wt(r.itemLineHeight)}}}]},Sx=e=>{const{componentCls:t,calc:n,lineWidth:o}=e,l=Ni(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),r=Ni(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[Gx(l,"small"),Gx(e),Gx(r,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},iG(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},Bx=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:o,borderRadiusSM:l,motionDurationMid:r,cellHoverBg:a,lineWidth:i,lineType:g,colorPrimary:c,cellActiveWithRangeBg:s,colorTextLightSolid:d,colorTextDisabled:I,cellBgDisabled:C,colorFillSecondary:u}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:wt(o),borderRadius:l,transition:`background ${r}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),\n    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:a}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${wt(i)} ${g} ${c}`,borderRadius:l,content:'""'}},[`&-in-view${t}-in-range,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:s}},[`&-in-view${t}-selected,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:d,background:c},[`&${t}-disabled ${n}`]:{background:u}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:l,borderEndStartRadius:l,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:l,borderEndEndRadius:l},"&-disabled":{color:I,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:C}},[`&-disabled${t}-today ${n}::before`]:{borderColor:I}}},kx=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:o,pickerYearMonthCellWidth:l,pickerControlIconSize:r,cellWidth:a,paddingSM:i,paddingXS:g,paddingXXS:c,colorBgContainer:s,lineWidth:d,lineType:I,borderRadiusLG:C,colorPrimary:u,colorTextHeading:m,colorSplit:A,pickerControlIconBorderWidth:b,colorIcon:p,textHeight:h,motionDurationMid:f,colorIconHover:y,fontWeightStrong:v,cellHeight:Z,pickerCellPaddingVertical:G,colorTextDisabled:S,colorText:B,fontSize:k,motionDurationSlow:W,withoutTimeCellHeight:V,pickerQuarterPanelContentHeight:R,borderRadiusSM:w,colorTextLightSolid:X,cellHoverBg:J,timeColumnHeight:H,timeColumnWidth:x,timeCellHeight:Y,controlItemBgActive:N,marginXXS:E,pickerDatePanelPaddingHorizontal:F,pickerControlIconMargin:K}=e,M=e.calc(a).mul(7).add(e.calc(F).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:s,borderRadius:C,outline:"none","&-focused":{borderColor:u},"&-rtl":{[`${t}-prev-icon,\n              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,\n              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:M},"&-header":{display:"flex",padding:`0 ${wt(g)}`,color:m,borderBottom:`${wt(d)} ${I} ${A}`,"> *":{flex:"none"},button:{padding:0,color:p,lineHeight:wt(h),background:"transparent",border:0,cursor:"pointer",transition:`color ${f}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:k,"&:hover":{color:y},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:v,lineHeight:wt(h),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:g},"&:hover":{color:u}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:r,height:r,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:r,height:r,border:"0 solid currentcolor",borderBlockStartWidth:b,borderInlineStartWidth:b,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:K,insetInlineStart:K,display:"inline-block",width:r,height:r,border:"0 solid currentcolor",borderBlockStartWidth:b,borderInlineStartWidth:b,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:Z,fontWeight:"normal"},th:{height:e.calc(Z).add(e.calc(G).mul(2)).equal(),color:B,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${wt(G)} 0`,color:S,cursor:"pointer","&-in-view":{color:B}},Bx(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(V).mul(4).equal()},[o]:{padding:`0 ${wt(g)}`}},"&-quarter-panel":{[`${t}-content`]:{height:R}},"&-decade-panel":{[o]:{padding:`0 ${wt(e.calc(g).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${wt(g)}`},[o]:{width:l}},"&-date-panel":{[`${t}-body`]:{padding:`${wt(g)} ${wt(F)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${o},\n            &-selected ${o},\n            ${o}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${f}`},"&:first-child:before":{borderStartStartRadius:w,borderEndStartRadius:w},"&:last-child:before":{borderStartEndRadius:w,borderEndEndRadius:w}},"&:hover td:before":{background:J},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:u},[`&${t}-cell-week`]:{color:new Jo(X).setA(.5).toHexString()},[o]:{color:X}}},"&-range-hover td:before":{background:N}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${wt(g)} ${wt(i)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${wt(d)} ${I} ${A}`},[`${t}-date-panel,\n          ${t}-time-panel`]:{transition:`opacity ${W}`},"&-active":{[`${t}-date-panel,\n            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:H},"&-column":{flex:"1 0 auto",width:x,margin:`${wt(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${f}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${wt(Y)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${wt(d)} ${I} ${A}`},"&-active":{background:new Jo(N).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:E,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(x).sub(e.calc(E).mul(2)).equal(),height:Y,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(x).sub(Y).div(2).equal(),color:B,lineHeight:wt(Y),borderRadius:w,cursor:"pointer",transition:`background ${f}`,"&:hover":{background:J}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:N}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:S,background:"transparent",cursor:"not-allowed"}}}}}}}}},Wx=e=>{const{componentCls:t,textHeight:n,lineWidth:o,paddingSM:l,antCls:r,colorPrimary:a,cellActiveWithRangeBg:i,colorPrimaryBorder:g,lineType:c,colorSplit:s}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${wt(o)} ${c} ${s}`,"&-extra":{padding:`0 ${wt(l)}`,lineHeight:wt(e.calc(n).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${wt(o)} ${c} ${s}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:wt(l),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:wt(e.calc(n).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${r}-tag-blue`]:{color:a,background:i,borderColor:g,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},Vx=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},wC(e)),zC(e)),NC(e)),HC(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}},Rx=(e,t)=>({padding:`${wt(e)} ${wt(t)}`}),wx=e=>{const{componentCls:t,colorError:n,colorWarning:o}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:o}}}}},Xx=e=>{var t;const{componentCls:n,antCls:o,paddingInline:l,lineWidth:r,lineType:a,colorBorder:i,borderRadius:g,motionDurationMid:c,colorTextDisabled:s,colorTextPlaceholder:d,fontSizeLG:I,inputFontSizeLG:C,fontSizeSM:u,inputFontSizeSM:m,controlHeightSM:A,paddingInlineSM:b,paddingXS:p,marginXS:h,colorIcon:f,lineWidthBold:y,colorPrimary:v,motionDurationSlow:Z,zIndexPopup:G,paddingXXS:S,sizePopupArrow:B,colorBgElevated:k,borderRadiusLG:W,boxShadowSecondary:V,borderRadiusSM:R,colorSplit:w,cellHoverBg:X,presetsWidth:J,presetsMaxWidth:H,boxShadowPopoverArrow:x,fontHeight:Y,lineHeightLG:N}=e;return[{[n]:Object.assign(Object.assign(Object.assign({},Ja(e)),Rx(e.paddingBlock,e.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:g,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:null!==(t=e.inputFontSize)&&void 0!==t?t:e.fontSize,lineHeight:e.lineHeight,transition:`all ${c}`},LC(d)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:s,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:d}}},"&-large":Object.assign(Object.assign({},Rx(e.paddingBlockLG,e.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:null!==C&&void 0!==C?C:I,lineHeight:N}}),"&-small":Object.assign(Object.assign({},Rx(e.paddingBlockSM,e.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:null!==m&&void 0!==m?m:u}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(p).div(2).equal(),color:s,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:h}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:s,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:f}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:I,color:s,fontSize:I,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:f},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:e.calc(r).mul(-1).equal(),height:y,background:v,opacity:0,transition:`all ${Z} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${wt(p)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:l},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:b}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},Ja(e)),kx(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:G,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,\n            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,\n            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${o}-slide-up-appear, &${o}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${o}-slide-up-enter${o}-slide-up-enter-active${n}-dropdown-placement-topLeft,\n          &${o}-slide-up-enter${o}-slide-up-enter-active${n}-dropdown-placement-topRight,\n          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-dropdown-placement-topLeft,\n          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:sb},[`&${o}-slide-up-enter${o}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,\n          &${o}-slide-up-enter${o}-slide-up-enter-active${n}-dropdown-placement-bottomRight,\n          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,\n          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:gb},[`&${o}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${o}-slide-up-leave${o}-slide-up-leave-active${n}-dropdown-placement-topLeft,\n          &${o}-slide-up-leave${o}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:db},[`&${o}-slide-up-leave${o}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,\n          &${o}-slide-up-leave${o}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:cb},[`${n}-panel > ${n}-time-panel`]:{paddingTop:S},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(l).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${Z} ease-out`},tI(e,k,x)),{"&:before":{insetInlineStart:e.calc(l).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:k,borderRadius:W,boxShadow:V,transition:`margin ${Z}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:J,maxWidth:H,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:p,borderInlineEnd:`${wt(r)} ${a} ${w}`,li:Object.assign(Object.assign({},Xa),{borderRadius:R,paddingInline:p,paddingBlock:e.calc(A).sub(Y).div(2).equal(),cursor:"pointer",transition:`all ${Z}`,"+ li":{marginTop:h},"&:hover":{background:X}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:i}}}}),"&-dropdown-range":{padding:`${wt(e.calc(B).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},bb(e,"slide-up"),bb(e,"slide-down"),oG(e,"move-up"),oG(e,"move-down")]},Jx=Ui("DatePicker",e=>{const t=Ni(SC(e),(e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:o,padding:l}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(l).add(e.calc(o).div(2)).equal()}})(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[Wx(t),Xx(t),Vx(t),wx(t),Sx(t),GC(e,{focusElCls:`${e.componentCls}-focused`})]},e=>Object.assign(Object.assign(Object.assign(Object.assign({},BC(e)),(e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:o,controlHeightLG:l,paddingXXS:r,lineWidth:a}=e,i=2*r,g=2*a,c=Math.min(n-i,n-g),s=Math.min(o-i,o-g),d=Math.min(l-i,l-g);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(r/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Jo(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Jo(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:1.4*l,timeColumnHeight:224,timeCellHeight:28,cellWidth:1.5*o,cellHeight:o,textHeight:l,withoutTimeCellHeight:1.65*l,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:s,multipleItemHeightLG:d,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}})(e)),eI(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}));function Hx(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function xx(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function Yx(e,n){const{allowClear:o=!0}=e,{clearIcon:l,removeIcon:r}=xG(Object.assign(Object.assign({},e),{prefixCls:n,componentName:"DatePicker"}));return[t.useMemo(()=>{if(!1===o)return!1;const e=!0===o?{}:o;return Object.assign({clearIcon:l},e)},[o,l]),r]}const[Nx,Ex]=["week","WeekPicker"],[Fx,Kx]=["month","MonthPicker"],[Mx,zx]=["year","YearPicker"],[Lx,Dx]=["quarter","QuarterPicker"],[Tx,jx]=["time","TimePicker"],Ox=e=>t.createElement(bh,Object.assign({size:"small",type:"primary"},e));function Ux(e){return(0,t.useMemo)(()=>Object.assign({button:Ox},e),[e])}function Qx(e){const t=e||{};for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return o.reduce((e,n)=>(Object.keys(n||{}).forEach(o=>{const l=t[o],r=n[o];if(l&&"object"===typeof l)if(r&&"object"===typeof r)e[o]=Qx(l,e[o],r);else{const{_default:t}=l;e[o]=e[o]||{},e[o][t]=Ol()(e[o][t],r)}else e[o]=Ol()(e[o],r)}),e),{})}function $x(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return t.useMemo(()=>Qx.apply(void 0,[e].concat(o)),[o])}function Px(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.useMemo(()=>n.reduce(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(n=>{e[n]=Object.assign(Object.assign({},e[n]),t[n])}),e},{}),[n])}function qx(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(e=>{if("_default"!==e){const o=t[e],l=n[e]||{};n[e]=o?qx(l,o):l}}),n}function _x(e,n,o){const l=$x.apply(void 0,[o].concat(Ye(e))),r=Px.apply(void 0,Ye(n));return t.useMemo(()=>[qx(l,o),qx(r,o)],[l,r])}const eY=(e,n,o,l,r)=>{const{classNames:a,styles:i}=Jl(e),[g,c]=_x([a,n],[i,o],{popup:{_default:"root"}});return t.useMemo(()=>{var e,t;return[Object.assign(Object.assign({},g),{popup:Object.assign(Object.assign({},g.popup),{root:Ol()(null===(e=g.popup)||void 0===e?void 0:e.root,l)})}),Object.assign(Object.assign({},c),{popup:Object.assign(Object.assign({},c.popup),{root:Object.assign(Object.assign({},null===(t=c.popup)||void 0===t?void 0:t.root),r)})})]},[g,c,l,r])};var tY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const nY=e=>{const n=(0,t.forwardRef)((n,o)=>{var l;const{prefixCls:r,getPopupContainer:a,components:i,className:g,style:c,placement:s,size:d,disabled:I,bordered:C=!0,placeholder:u,popupStyle:m,popupClassName:A,dropdownClassName:b,status:p,rootClassName:h,variant:f,picker:y,styles:v,classNames:Z}=n,G=tY(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames"]),S=y===Tx?"timePicker":"datePicker",B=t.useRef(null),{getPrefixCls:k,direction:W,getPopupContainer:V,rangePicker:R}=(0,t.useContext)(Rl),w=k("picker",r),{compactSize:X,compactItemClassnames:J}=Nd(w,W),H=k(),[x,Y]=yC("rangePicker",f,C),N=fC(w),[E,F,K]=Jx(w,N);const[M,z]=eY(S,Z,v,A||b,m),[L]=Yx(n,w),D=Ux(i),T=Rd(e=>{var t;return null!==(t=null!==d&&void 0!==d?d:X)&&void 0!==t?t:e}),j=t.useContext(El),O=null!==I&&void 0!==I?I:j,U=(0,t.useContext)(kd),{hasFeedback:Q,status:$,feedbackIcon:P}=U,q=t.createElement(t.Fragment,null,y===Tx?t.createElement(ZJ,null):t.createElement(fJ,null),Q&&P);(0,t.useImperativeHandle)(o,()=>B.current);const[_]=tc("Calendar",fo),ee=Object.assign(Object.assign({},_),n.locale),[te]=Od("DatePicker",null===(l=z.popup.root)||void 0===l?void 0:l.zIndex);return E(t.createElement(Md,{space:!0},t.createElement(bx,Object.assign({separator:t.createElement("span",{"aria-label":"to",className:`${w}-separator`},t.createElement(BJ,null)),disabled:O,ref:B,placement:s,placeholder:xx(ee,y,u),suffixIcon:q,prevIcon:t.createElement("span",{className:`${w}-prev-icon`}),nextIcon:t.createElement("span",{className:`${w}-next-icon`}),superPrevIcon:t.createElement("span",{className:`${w}-super-prev-icon`}),superNextIcon:t.createElement("span",{className:`${w}-super-next-icon`}),transitionName:`${H}-slide-up`,picker:y},G,{className:Ol()({[`${w}-${T}`]:T,[`${w}-${x}`]:Y},pC(w,hC($,p),Q),F,J,g,null===R||void 0===R?void 0:R.className,K,N,h,M.root),style:Object.assign(Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),c),z.root),locale:ee.lang,prefixCls:w,getPopupContainer:a||V,generateConfig:e,components:D,direction:W,classNames:{popup:Ol()(F,K,N,h,M.popup.root)},styles:{popup:Object.assign(Object.assign({},z.popup.root),{zIndex:te})},allowClear:L}))))});return n};var oY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const lY=e=>{const n=(n,o)=>{const l=o===jx?"timePicker":"datePicker",r=(0,t.forwardRef)((o,r)=>{var a;const{prefixCls:i,getPopupContainer:g,components:c,style:s,className:d,rootClassName:I,size:C,bordered:u,placement:m,placeholder:A,popupStyle:b,popupClassName:p,dropdownClassName:h,disabled:f,status:y,variant:v,onCalendarChange:Z,styles:G,classNames:S}=o,B=oY(o,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames"]),{getPrefixCls:k,direction:W,getPopupContainer:V,[l]:R}=(0,t.useContext)(Rl),w=k("picker",i),{compactSize:X,compactItemClassnames:J}=Nd(w,W),H=t.useRef(null),[x,Y]=yC("datePicker",v,u),N=fC(w),[E,F,K]=Jx(w,N);(0,t.useImperativeHandle)(r,()=>H.current);const M=n||o.picker,z=k(),{onSelect:L,multiple:D}=B,T=L&&"time"===n&&!D;const[j,O]=eY(l,S,G,p||h,b),[U,Q]=Yx(o,w),$=Ux(c),P=Rd(e=>{var t;return null!==(t=null!==C&&void 0!==C?C:X)&&void 0!==t?t:e}),q=t.useContext(El),_=null!==f&&void 0!==f?f:q,ee=(0,t.useContext)(kd),{hasFeedback:te,status:ne,feedbackIcon:oe}=ee,le=t.createElement(t.Fragment,null,"time"===M?t.createElement(ZJ,null):t.createElement(fJ,null),te&&oe),[re]=tc("DatePicker",fo),ae=Object.assign(Object.assign({},re),o.locale),[ie]=Od("DatePicker",null===(a=O.popup.root)||void 0===a?void 0:a.zIndex);return E(t.createElement(Md,{space:!0},t.createElement(Zx,Object.assign({ref:H,placeholder:Hx(ae,M,A),suffixIcon:le,placement:m,prevIcon:t.createElement("span",{className:`${w}-prev-icon`}),nextIcon:t.createElement("span",{className:`${w}-next-icon`}),superPrevIcon:t.createElement("span",{className:`${w}-super-prev-icon`}),superNextIcon:t.createElement("span",{className:`${w}-super-next-icon`}),transitionName:`${z}-slide-up`,picker:n,onCalendarChange:(e,t,n)=>{null===Z||void 0===Z||Z(e,t,n),T&&L(e)}},{showToday:!0},B,{locale:ae.lang,className:Ol()({[`${w}-${P}`]:P,[`${w}-${x}`]:Y},pC(w,hC(ne,y),te),F,J,null===R||void 0===R?void 0:R.className,d,K,N,I,j.root),style:Object.assign(Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),s),O.root),prefixCls:w,getPopupContainer:g||V,generateConfig:e,components:$,direction:W,disabled:_,classNames:{popup:Ol()(F,K,N,I,j.popup.root)},styles:{popup:Object.assign(Object.assign({},O.popup.root),{zIndex:ie})},allowClear:U,removeIcon:Q}))))});return r},o=n(),l=n(Nx,Ex),r=n(Fx,Kx),a=n(Mx,zx),i=n(Lx,Dx);return{DatePicker:o,WeekPicker:l,MonthPicker:r,YearPicker:a,TimePicker:n(Tx,jx),QuarterPicker:i}},rY=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:o,YearPicker:l,TimePicker:r,QuarterPicker:a}=lY(e),i=nY(e),g=t;return g.WeekPicker=n,g.MonthPicker=o,g.YearPicker=l,g.RangePicker=i,g.TimePicker=r,g.QuarterPicker=a,g},aY=rY(bJ),iY=UZ(aY,"popupAlign",void 0,"picker");aY._InternalPanelDoNotUseOrYouWillBeFired=iY;const gY=UZ(aY.RangePicker,"popupAlign",void 0,"picker");aY._InternalRangePanelDoNotUseOrYouWillBeFired=gY,aY.generatePicker=rY;const cY=aY;function sY(e){const[n,o]=t.useState(e);return t.useEffect(()=>{const t=setTimeout(()=>{o(e)},e.length?0:10);return()=>{clearTimeout(t)}},[e]),n}const dY=e=>{const{componentCls:t}=e,n=`${t}-show-help`,o=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[o]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${o}-appear, &${o}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${o}-leave-active`]:{transform:"translateY(-5px)"}}}}},IY=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${wt(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),CY=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},uY=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},Ja(e)),IY(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},CY(e,e.controlHeightSM)),"&-large":Object.assign({},CY(e,e.controlHeightLG))})}},mY=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:o,antCls:l,labelRequiredMarkColor:r,labelColor:a,labelFontSize:i,labelHeight:g,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:s,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${l}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:g,color:a,fontSize:i,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:r,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:s},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${l}-switch:only-child, > ${l}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:mI,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},AY=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},bY=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:o}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:o,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},pY=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),hY=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:o}=e;return{[`${n} ${n}-label`]:pY(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${o}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},fY=e=>{const{componentCls:t,formItemCls:n,antCls:o}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${o}-col-24${n}-label,\n        ${o}-col-xl-24${n}-label`]:pY(e)}},[`@media (max-width: ${wt(e.screenXSMax)})`]:[hY(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${o}-col-xs-24${n}-label`]:pY(e)}}}],[`@media (max-width: ${wt(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${o}-col-sm-24${n}-label`]:pY(e)}}},[`@media (max-width: ${wt(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${o}-col-md-24${n}-label`]:pY(e)}}},[`@media (max-width: ${wt(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${o}-col-lg-24${n}-label`]:pY(e)}}}}},yY=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${n}-col-24${t}-label,\n      ${n}-col-xl-24${t}-label`]:pY(e),[`@media (max-width: ${wt(e.screenXSMax)})`]:[hY(e),{[t]:{[`${n}-col-xs-24${t}-label`]:pY(e)}}],[`@media (max-width: ${wt(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:pY(e)}},[`@media (max-width: ${wt(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:pY(e)}},[`@media (max-width: ${wt(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:pY(e)}}}},vY=(e,t)=>Ni(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),ZY=Ui("Form",(e,t)=>{let{rootPrefixCls:n}=t;const o=vY(e,n);return[uY(o),mY(o),dY(o),AY(o,o.componentCls),AY(o,o.formItemCls),bY(o),fY(o),yY(o),ib(o),mI]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),{order:-1e3}),GY=[];function SY(e,t,n){return{key:"string"===typeof e?e:`${t}-${arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}`,error:e,errorStatus:n}}const BY=e=>{let{help:n,helpStatus:o,errors:l=GY,warnings:r=GY,className:a,fieldId:i,onVisibleChanged:g}=e;const{prefixCls:c}=t.useContext(Bd),s=`${c}-item-explain`,d=fC(c),[I,C,u]=ZY(c,d),m=t.useMemo(()=>_d(c),[c]),A=sY(l),b=sY(r),p=t.useMemo(()=>void 0!==n&&null!==n?[SY(n,"help",o)]:[].concat(Ye(A.map((e,t)=>SY(e,"error","error",t))),Ye(b.map((e,t)=>SY(e,"warning","warning",t)))),[n,o,A,b]),h=t.useMemo(()=>{const e={};return p.forEach(t=>{let{key:n}=t;e[n]=(e[n]||0)+1}),p.map((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key}))},[p]),f={};return i&&(f.id=`${i}_help`),I(t.createElement(pa,{motionDeadline:m.motionDeadline,motionName:`${c}-show-help`,visible:!!h.length,onVisibleChanged:g},e=>{const{className:n,style:o}=e;return t.createElement("div",Object.assign({},f,{className:Ol()(s,n,u,d,a,C),style:o}),t.createElement(ba,Object.assign({keys:h},_d(c),{motionName:`${c}-show-help-item`,component:!1}),e=>{const{key:n,error:o,errorStatus:l,className:r,style:a}=e;return t.createElement("div",{key:n,className:Ol()(r,{[`${s}-${l}`]:l}),style:a},o)}))}))};var kY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const WY=(e,n)=>{const o=t.useContext(El),{getPrefixCls:l,direction:r,requiredMark:a,colon:i,scrollToFirstError:g,className:c,style:s}=Jl("form"),{prefixCls:d,className:I,rootClassName:C,size:u,disabled:m=o,form:A,colon:b,labelAlign:p,labelWrap:h,labelCol:f,wrapperCol:y,hideRequiredMark:v,layout:Z="horizontal",scrollToFirstError:G,requiredMark:S,onFinishFailed:B,name:k,style:W,feedbackIcons:V,variant:R}=e,w=kY(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),X=Rd(u),J=t.useContext(Ao);const H=t.useMemo(()=>void 0!==S?S:!v&&(void 0===a||a),[v,S,a]),x=null!==b&&void 0!==b?b:i,Y=l("form",d),N=fC(Y),[E,F,K]=ZY(Y,N),M=Ol()(Y,`${Y}-${Z}`,{[`${Y}-hide-required-mark`]:!1===H,[`${Y}-rtl`]:"rtl"===r,[`${Y}-${X}`]:X},K,N,F,c,I,C),[z]=sR(A),{__INTERNAL__:L}=z;L.name=k;const D=t.useMemo(()=>({name:k,labelAlign:p,labelCol:f,labelWrap:h,wrapperCol:y,vertical:"vertical"===Z,colon:x,requiredMark:H,itemRef:L.itemRef,form:z,feedbackIcons:V}),[k,p,f,y,Z,x,H,z,V]),T=t.useRef(null);t.useImperativeHandle(n,()=>{var e;return Object.assign(Object.assign({},z),{nativeElement:null===(e=T.current)||void 0===e?void 0:e.nativeElement})});const j=(e,t)=>{if(e){let n={block:"nearest"};"object"===typeof e&&(n=Object.assign(Object.assign({},n),e)),z.scrollToField(t,n)}};return E(t.createElement(Vd.Provider,{value:R},t.createElement(Nl,{disabled:m},t.createElement(Ml.Provider,{value:X},t.createElement(Sd,{validateMessages:J},t.createElement(Zd.Provider,{value:D},t.createElement(vd,Object.assign({id:k},w,{name:k,onFinishFailed:e=>{if(null===B||void 0===B||B(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==G)return void j(G,t);void 0!==g&&j(g,t)}},form:z,ref:T,style:Object.assign(Object.assign({},s),W),className:M}))))))))};const VY=t.forwardRef(WY);const RY=()=>{const{status:e,errors:n=[],warnings:o=[]}=t.useContext(kd);return{status:e,errors:n,warnings:o}};RY.Context=kd;const wY=RY;const XY=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},JY=$i(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;const o=vY(e,n);return[XY(o)]});var HY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const xY=e=>{const{prefixCls:n,status:o,labelCol:l,wrapperCol:r,children:a,errors:i,warnings:g,_internalItemRender:c,extra:s,help:d,fieldId:I,marginBottom:C,onErrorVisibleChanged:u,label:m}=e,A=`${n}-item`,b=t.useContext(Zd),p=t.useMemo(()=>{let e=Object.assign({},r||b.wrapperCol||{});if(null===m&&!l&&!r&&b.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach(t=>{const n=t?[t]:[],o=ao(b.labelCol,n),l="object"===typeof o?o:{},r=ao(e,n);"span"in l&&!("offset"in("object"===typeof r?r:{}))&&l.span<24&&(e=go(e,[].concat(n,["offset"]),l.span))})}return e},[r,b]),h=Ol()(`${A}-control`,p.className),f=t.useMemo(()=>{const{labelCol:e,wrapperCol:t}=b;return HY(b,["labelCol","wrapperCol"])},[b]),y=t.useRef(null),[v,Z]=t.useState(0);Ft(()=>{s&&y.current?Z(y.current.clientHeight):Z(0)},[s]);const G=t.createElement("div",{className:`${A}-control-input`},t.createElement("div",{className:`${A}-control-input-content`},a)),S=t.useMemo(()=>({prefixCls:n,status:o}),[n,o]),B=null!==C||i.length||g.length?t.createElement(Bd.Provider,{value:S},t.createElement(BY,{fieldId:I,errors:i,warnings:g,help:d,helpStatus:o,className:`${A}-explain-connected`,onVisibleChanged:u})):null,k={};I&&(k.id=`${I}_extra`);const W=s?t.createElement("div",Object.assign({},k,{className:`${A}-extra`,ref:y}),s):null,V=B||W?t.createElement("div",{className:`${A}-additional`,style:C?{minHeight:C+v}:{}},B,W):null,R=c&&"pro_table_render"===c.mark&&c.render?c.render(e,{input:G,errorList:B,extra:W}):t.createElement(t.Fragment,null,G,V);return t.createElement(Zd.Provider,{value:f},t.createElement(Eh,Object.assign({},p,{className:h}),R),t.createElement(JY,{prefixCls:n}))};const YY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var NY=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:YY}))};const EY=t.forwardRef(NY);const FY=function(e){return void 0===e||null===e?null:"object"!==typeof e||(0,t.isValidElement)(e)?{title:e}:e};var KY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const MY=e=>{let{prefixCls:n,label:o,htmlFor:l,labelCol:r,labelAlign:a,colon:i,required:g,requiredMark:c,tooltip:s,vertical:d}=e;var I;const[C]=tc("Form"),{labelAlign:u,labelCol:m,labelWrap:A,colon:b}=t.useContext(Zd);if(!o)return null;const p=r||m||{},h=a||u,f=`${n}-item-label`,y=Ol()(f,"left"===h&&`${f}-left`,p.className,{[`${f}-wrap`]:!!A});let v=o;const Z=!0===i||!1!==b&&!1!==i;Z&&!d&&"string"===typeof o&&o.trim()&&(v=o.replace(/[:|\uff1a]\s*$/,""));const G=FY(s);if(G){const{icon:e=t.createElement(EY,null)}=G,o=KY(G,["icon"]),l=t.createElement(zI,Object.assign({},o),t.cloneElement(e,{className:`${n}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));v=t.createElement(t.Fragment,null,v,l)}const S="optional"===c,B="function"===typeof c,k=!1===c;let W;B?v=c(v,{required:!!g}):S&&!g&&(v=t.createElement(t.Fragment,null,v,t.createElement("span",{className:`${n}-item-optional`,title:""},(null===C||void 0===C?void 0:C.optional)||(null===(I=vo.Form)||void 0===I?void 0:I.optional)))),k?W="hidden":(S||B)&&(W="optional");const V=Ol()({[`${n}-item-required`]:g,[`${n}-item-required-mark-${W}`]:W,[`${n}-item-no-colon`]:!Z});return t.createElement(Eh,Object.assign({},p,{className:y}),t.createElement("label",{htmlFor:l,className:V,title:"string"===typeof o?o:""},v))},zY={success:lB,warning:iB,error:AC,validating:Hu};function LY(e){let{children:n,errors:o,warnings:l,hasFeedback:r,validateStatus:a,prefixCls:i,meta:g,noStyle:c,name:s}=e;const d=`${i}-item`,{feedbackIcons:I}=t.useContext(Zd),C=aR(o,l,g,null,!!r,a),{isFormItemInput:u,status:m,hasFeedback:A,feedbackIcon:b,name:p}=t.useContext(kd),h=t.useMemo(()=>{var e;let n;if(r){const a=!0!==r&&r.icons||I,i=C&&(null===(e=null===a||void 0===a?void 0:a({status:C,errors:o,warnings:l}))||void 0===e?void 0:e[C]),g=C&&zY[C];n=!1!==i&&g?t.createElement("span",{className:Ol()(`${d}-feedback-icon`,`${d}-feedback-icon-${C}`)},i||t.createElement(g,null)):null}const a={status:C||"",errors:o,warnings:l,hasFeedback:!!r,feedbackIcon:n,isFormItemInput:!0,name:s};return c&&(a.status=(null!==C&&void 0!==C?C:m)||"",a.isFormItemInput=u,a.hasFeedback=!!(null!==r&&void 0!==r?r:A),a.feedbackIcon=void 0!==r?a.feedbackIcon:b,a.name=null!==s&&void 0!==s?s:p),a},[C,r,c,u,m]);return t.createElement(kd.Provider,{value:h},n)}var DY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function TY(e){const{prefixCls:n,className:o,rootClassName:l,style:r,help:a,errors:i,warnings:g,validateStatus:c,meta:s,hasFeedback:d,hidden:I,children:C,fieldId:u,required:m,isRequired:A,onSubItemMetaChange:b,layout:p,name:h}=e,f=DY(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),y=`${n}-item`,{requiredMark:v,vertical:Z}=t.useContext(Zd),G=Z||"vertical"===p,S=t.useRef(null),B=sY(i),k=sY(g),W=void 0!==a&&null!==a,V=!!(W||i.length||g.length),R=!!S.current&&Rc(S.current),[w,X]=t.useState(null);Ft(()=>{if(V&&S.current){const e=getComputedStyle(S.current);X(parseInt(e.marginBottom,10))}},[V,R]);const J=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return aR(e?B:s.errors,e?k:s.warnings,s,"",!!d,c)}(),H=Ol()(y,o,l,{[`${y}-with-help`]:W||B.length||k.length,[`${y}-has-feedback`]:J&&d,[`${y}-has-success`]:"success"===J,[`${y}-has-warning`]:"warning"===J,[`${y}-has-error`]:"error"===J,[`${y}-is-validating`]:"validating"===J,[`${y}-hidden`]:I,[`${y}-${p}`]:p});return t.createElement("div",{className:H,style:r,ref:S},t.createElement(Xh,Object.assign({className:`${y}-row`},Pa(f,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),t.createElement(MY,Object.assign({htmlFor:u},e,{requiredMark:v,required:null!==m&&void 0!==m?m:A,prefixCls:n,vertical:G})),t.createElement(xY,Object.assign({},e,s,{errors:B,warnings:k,prefixCls:n,status:J,help:a,marginBottom:w,onErrorVisibleChanged:e=>{e||X(null)}}),t.createElement(Gd.Provider,{value:b},t.createElement(LY,{prefixCls:n,meta:s,errors:s.errors,warnings:s.warnings,hasFeedback:d,validateStatus:J,name:h},C)))),!!w&&t.createElement("div",{className:`${y}-margin-offset`,style:{marginBottom:-w}}))}const jY=t.memo(e=>{let{children:t}=e;return t},(e,t)=>function(e,t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(n=>{const o=e[n],l=t[n];return o===l||"function"===typeof o||"function"===typeof l})}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((e,n)=>e===t.childProps[n]));const OY=function(e){const{name:n,noStyle:o,className:l,dependencies:r,prefixCls:a,shouldUpdate:i,rules:g,children:c,required:s,label:d,messageVariables:I,trigger:C="onChange",validateTrigger:u,hidden:m,help:A,layout:b}=e,{getPrefixCls:p}=t.useContext(Rl),{name:h}=t.useContext(Zd),f=function(e){if("function"===typeof e)return e;const t=_a(e);return t.length<=1?t[0]:t}(c),y="function"===typeof f,v=t.useContext(Gd),{validateTrigger:Z}=t.useContext(ds),G=void 0!==u?u:Z,S=!(void 0===n||null===n),B=p("form",a),k=fC(B),[W,V,R]=ZY(B,k);mo("Form.Item");const w=t.useContext(Is),X=t.useRef(null),[J,H]=function(e){const[n,o]=t.useState(e),l=t.useRef(null),r=t.useRef([]),a=t.useRef(!1);return t.useEffect(()=>(a.current=!1,()=>{a.current=!0,ea.cancel(l.current),l.current=null}),[]),[n,function(e){a.current||(null===l.current&&(r.current=[],l.current=ea(()=>{l.current=null,o(e=>{let t=e;return r.current.forEach(e=>{t=e(t)}),t})})),r.current.push(e))}]}({}),[x,Y]=vr(()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1})),N=(e,t)=>{H(n=>{const o=Object.assign({},n),l=[].concat(Ye(e.name.slice(0,-1)),Ye(t)).join("__SPLIT__");return e.destroy?delete o[l]:o[l]=e,o})},[E,F]=t.useMemo(()=>{const e=Ye(x.errors),t=Ye(x.warnings);return Object.values(J).forEach(n=>{e.push.apply(e,Ye(n.errors||[])),t.push.apply(t,Ye(n.warnings||[]))}),[e,t]},[J,x.errors,x.warnings]),K=function(){const{itemRef:e}=t.useContext(Zd),n=t.useRef({});return function(t,o){const l=o&&"object"===typeof o&&gr(o),r=t.join("_");return n.current.name===r&&n.current.originRef===l||(n.current.name=r,n.current.originRef=l,n.current.ref=lr(e(t),l)),n.current.ref}}();function M(r,a,i){return o&&!m?t.createElement(LY,{prefixCls:B,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:x,errors:E,warnings:F,noStyle:!0,name:n},r):t.createElement(TY,Object.assign({key:"row"},e,{className:Ol()(l,R,k,V),prefixCls:B,fieldId:a,isRequired:i,errors:E,warnings:F,meta:x,onSubItemMetaChange:N,layout:b,name:n}),r)}if(!S&&!y&&!r)return W(M(f));let z={};return"string"===typeof d?z.label=d:n&&(z.label=String(n)),I&&(z=Object.assign(Object.assign({},z),I)),W(t.createElement(ld,Object.assign({},e,{messageVariables:z,trigger:C,validateTrigger:G,onMetaChange:e=>{const t=null===w||void 0===w?void 0:w.getKey(e.name);if(Y(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),o&&!1!==A&&v){let n=e.name;if(e.destroy)n=X.current||n;else if(void 0!==t){const[e,o]=t;n=[e].concat(Ye(o)),X.current=n}v(e,n)}}}),(o,l,a)=>{const c=lR(n).length&&l?l.name:[],d=rR(c,h),I=void 0!==s?s:!!(null===g||void 0===g?void 0:g.some(e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(a);return(null===t||void 0===t?void 0:t.required)&&!(null===t||void 0===t?void 0:t.warningOnly)}return!1})),u=Object.assign({},o);let m=null;if(Array.isArray(f)&&S)m=f;else if(y&&(!i&&!r||S));else if(!r||y||S)if(t.isValidElement(f)){const n=Object.assign(Object.assign({},f.props),u);if(n.id||(n.id=d),A||E.length>0||F.length>0||e.extra){const t=[];(A||E.length>0)&&t.push(`${d}_help`),e.extra&&t.push(`${d}_extra`),n["aria-describedby"]=t.join(" ")}E.length>0&&(n["aria-invalid"]="true"),I&&(n["aria-required"]="true"),ar(f)&&(n.ref=K(c,f));new Set([].concat(Ye(lR(C)),Ye(lR(G)))).forEach(e=>{n[e]=function(){for(var t,n,o,l,r,a=arguments.length,i=new Array(a),g=0;g<a;g++)i[g]=arguments[g];null===(o=u[e])||void 0===o||(t=o).call.apply(t,[u].concat(i)),null===(r=(l=f.props)[e])||void 0===r||(n=r).call.apply(n,[l].concat(i))}});const o=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];m=t.createElement(jY,{control:u,update:f,childProps:o},dI(f,n))}else m=y&&(i||r)&&!S?f(a):f;else;return M(m,d,I)}))};OY.useStatus=wY;const UY=OY;var QY=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const $Y=e=>{var{prefixCls:n,children:o}=e,l=QY(e,["prefixCls","children"]);const{getPrefixCls:r}=t.useContext(Rl),a=r("form",n),i=t.useMemo(()=>({prefixCls:a,status:"error"}),[a]);return t.createElement(rd,Object.assign({},l),(e,n,l)=>t.createElement(Bd.Provider,{value:i},o(e.map(e=>Object.assign(Object.assign({},e),{fieldKey:e.key})),n,{errors:l.errors,warnings:l.warnings})))};const PY=VY;PY.Item=UY,PY.List=$Y,PY.ErrorList=BY,PY.useForm=sR,PY.useFormInstance=function(){const{form:e}=t.useContext(Zd);return e},PY.useWatch=fd,PY.Provider=Sd,PY.create=()=>{};const qY=PY,_Y=e=>{const{getPrefixCls:n,direction:o}=(0,t.useContext)(Rl),{prefixCls:l,className:r}=e,a=n("input-group",l),i=n("input"),[g,c,s]=tu(i),d=Ol()(a,s,{[`${a}-lg`]:"large"===e.size,[`${a}-sm`]:"small"===e.size,[`${a}-compact`]:e.compact,[`${a}-rtl`]:"rtl"===o},c,r),I=(0,t.useContext)(kd),C=(0,t.useMemo)(()=>Object.assign(Object.assign({},I),{isFormItemInput:!1}),[I]);return g(t.createElement("span",{className:d,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(kd.Provider,{value:C},e.children)))},eN=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},tN=Ui(["Input","OTP"],e=>{const t=Ni(e,SC(e));return[eN(t)]},BC);var nN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const oN=t.forwardRef((e,n)=>{const{className:o,value:l,onChange:r,onActiveChange:a,index:i,mask:g}=e,c=nN(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:s}=t.useContext(Rl),d=s("otp"),I="string"===typeof g?g:l,C=t.useRef(null);t.useImperativeHandle(n,()=>C.current);const u=()=>{ea(()=>{var e;const t=null===(e=C.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()})};return t.createElement("span",{className:`${d}-input-wrapper`,role:"presentation"},g&&""!==l&&void 0!==l&&t.createElement("span",{className:`${d}-mask-icon`,"aria-hidden":"true"},I),t.createElement(jw,Object.assign({"aria-label":`OTP Input ${i+1}`,type:!0===g?"password":"text"},c,{ref:C,value:l,onInput:e=>{r(i,e.target.value)},onFocus:u,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:o}=e;"ArrowLeft"===t?a(i-1):"ArrowRight"===t?a(i+1):"z"===t&&(n||o)&&e.preventDefault(),u()},onKeyUp:e=>{"Backspace"!==e.key||l||a(i-1),u()},onMouseDown:u,onMouseUp:u,className:Ol()(o,{[`${d}-mask-input`]:g})})))}),lN=oN;var rN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function aN(e){return(e||"").split("")}const iN=e=>{const{index:n,prefixCls:o,separator:l}=e,r="function"===typeof l?l(n):l;return r?t.createElement("span",{className:`${o}-separator`},r):null},gN=t.forwardRef((e,n)=>{const{prefixCls:o,length:l=6,size:r,defaultValue:a,value:i,onChange:g,formatter:c,separator:s,variant:d,disabled:I,status:C,autoFocus:u,mask:m,type:A,onInput:b,inputMode:p}=e,h=rN(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]);const{getPrefixCls:f,direction:y}=t.useContext(Rl),v=f("otp",o),Z=My(h,{aria:!0,data:!0,attr:!0}),[G,S,B]=tN(v),k=Rd(e=>null!==r&&void 0!==r?r:e),W=t.useContext(kd),V=hC(W.status,C),R=t.useMemo(()=>Object.assign(Object.assign({},W),{status:V,hasFeedback:!1,feedbackIcon:null}),[W,V]),w=t.useRef(null),X=t.useRef({});t.useImperativeHandle(n,()=>({focus:()=>{var e;null===(e=X.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<l;t+=1)null===(e=X.current[t])||void 0===e||e.blur()},nativeElement:w.current}));const J=e=>c?c(e):e,[H,x]=t.useState(()=>aN(J(a||"")));t.useEffect(()=>{void 0!==i&&x(aN(i))},[i]);const Y=yr(e=>{x(e),b&&b(e),g&&e.length===l&&e.every(e=>e)&&e.some((e,t)=>H[t]!==e)&&g(e.join(""))}),N=yr((e,t)=>{let n=Ye(H);for(let l=0;l<e;l+=1)n[l]||(n[l]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(aN(t)),n=n.slice(0,l);for(let l=n.length-1;l>=0&&!n[l];l-=1)n.pop();const o=J(n.map(e=>e||" ").join(""));return n=aN(o).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),E=(e,t)=>{var n;const o=N(e,t),r=Math.min(e+t.length,l-1);r!==e&&void 0!==o[e]&&(null===(n=X.current[r])||void 0===n||n.focus()),Y(o)},F=e=>{var t;null===(t=X.current[e])||void 0===t||t.focus()},K={variant:d,disabled:I,status:V,mask:m,type:A,inputMode:p};return G(t.createElement("div",Object.assign({},Z,{ref:w,className:Ol()(v,{[`${v}-sm`]:"small"===k,[`${v}-lg`]:"large"===k,[`${v}-rtl`]:"rtl"===y},B,S),role:"group"}),t.createElement(kd.Provider,{value:R},Array.from({length:l}).map((e,n)=>{const o=`otp-${n}`,r=H[n]||"";return t.createElement(t.Fragment,{key:o},t.createElement(lN,Object.assign({ref:e=>{X.current[n]=e},index:n,size:k,htmlSize:1,className:`${v}-input`,onChange:E,value:r,onActiveChange:F,autoFocus:0===n&&u},K)),n<l-1&&t.createElement(iN,{separator:s,index:n,prefixCls:v}))}))))}),cN=gN;const sN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var dN=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:sN}))};const IN=t.forwardRef(dN);const CN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var uN=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:CN}))};const mN=t.forwardRef(uN);var AN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const bN=e=>e?t.createElement(mN,null):t.createElement(IN,null),pN={click:"onClick",hover:"onMouseOver"},hN=t.forwardRef((e,n)=>{const{disabled:o,action:l="click",visibilityToggle:r=!0,iconRender:a=bN}=e,i=t.useContext(El),g=null!==o&&void 0!==o?o:i,c="object"===typeof r&&void 0!==r.visible,[s,d]=(0,t.useState)(()=>!!c&&r.visible),I=(0,t.useRef)(null);t.useEffect(()=>{c&&d(r.visible)},[c,r]);const C=Lw(I),u=()=>{var e;if(g)return;s&&C();const t=!s;d(t),"object"===typeof r&&(null===(e=r.onVisibleChange)||void 0===e||e.call(r,t))},{className:m,prefixCls:A,inputPrefixCls:b,size:p}=e,h=AN(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:f}=t.useContext(Rl),y=f("input",b),v=f("input-password",A),Z=r&&(e=>{const n=pN[l]||"",o=a(s),r={[n]:u,className:`${e}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return t.cloneElement(t.isValidElement(o)?o:t.createElement("span",null,o),r)})(v),G=Ol()(v,m,{[`${v}-${p}`]:!!p}),S=Object.assign(Object.assign({},Pa(h,["suffix","iconRender","visibilityToggle"])),{type:s?"text":"password",className:G,prefixCls:y,suffix:Z});return p&&(S.size=p),t.createElement(jw,Object.assign({ref:lr(n,I)},S))});const fN=hN;var yN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const vN=t.forwardRef((e,n)=>{const{prefixCls:o,inputPrefixCls:l,className:r,size:a,suffix:i,enterButton:g=!1,addonAfter:c,loading:s,disabled:d,onSearch:I,onChange:C,onCompositionStart:u,onCompositionEnd:m,variant:A,onPressEnter:b}=e,p=yN(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:h,direction:f}=t.useContext(Rl),y=t.useRef(!1),v=h("input-search",o),Z=h("input",l),{compactSize:G}=Nd(v,f),S=Rd(e=>{var t;return null!==(t=null!==a&&void 0!==a?a:G)&&void 0!==t?t:e}),B=t.useRef(null),k=e=>{var t;document.activeElement===(null===(t=B.current)||void 0===t?void 0:t.input)&&e.preventDefault()},W=e=>{var t,n;I&&I(null===(n=null===(t=B.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},V="boolean"===typeof g?t.createElement(HG,null):null,R=`${v}-button`;let w;const X=g||{},J=X.type&&!0===X.type.__ANT_BUTTON;w=J||"button"===X.type?dI(X,Object.assign({onMouseDown:k,onClick:e=>{var t,n;null===(n=null===(t=null===X||void 0===X?void 0:X.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),W(e)},key:"enterButton"},J?{className:R,size:S}:{})):t.createElement(bh,{className:R,color:g?"primary":"default",size:S,disabled:d,key:"enterButton",onMouseDown:k,onClick:W,loading:s,icon:V,variant:"borderless"===A||"filled"===A||"underlined"===A?"text":g?"solid":void 0},g),c&&(w=[w,dI(c,{key:"addonAfter"})]);const H=Ol()(v,{[`${v}-rtl`]:"rtl"===f,[`${v}-${S}`]:!!S,[`${v}-with-button`]:!!g},r),x=Object.assign(Object.assign({},p),{className:H,prefixCls:Z,type:"search",size:S,variant:A,onPressEnter:e=>{y.current||s||(null===b||void 0===b||b(e),W(e))},onCompositionStart:e=>{y.current=!0,null===u||void 0===u||u(e)},onCompositionEnd:e=>{y.current=!1,null===m||void 0===m||m(e)},addonAfter:w,suffix:i,onChange:e=>{(null===e||void 0===e?void 0:e.target)&&"click"===e.type&&I&&I(e.target.value,e,{source:"clear"}),null===C||void 0===C||C(e)},disabled:d});return t.createElement(jw,Object.assign({ref:lr(B,n)},x))});const ZN=vN,GN=jw;GN.Group=_Y,GN.Search=ZN,GN.TextArea=au,GN.Password=fN,GN.OTP=cN;const SN=GN,BN=(e,t,n,o,l)=>({background:e,border:`${wt(o.lineWidth)} ${o.lineType} ${t}`,[`${l}-icon`]:{color:n}}),kN=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:o,marginSM:l,fontSize:r,fontSizeLG:a,lineHeight:i,borderRadiusLG:g,motionEaseInOutCirc:c,withDescriptionIconSize:s,colorText:d,colorTextHeading:I,withDescriptionPadding:C,defaultPadding:u}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{position:"relative",display:"flex",alignItems:"center",padding:u,wordWrap:"break-word",borderRadius:g,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:r,lineHeight:i},"&-message":{color:I},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${c}, opacity ${n} ${c},\n        padding-top ${n} ${c}, padding-bottom ${n} ${c},\n        margin-bottom ${n} ${c}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:C,[`${t}-icon`]:{marginInlineEnd:l,fontSize:s,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:I,fontSize:a},[`${t}-description`]:{display:"block",color:d}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},WN=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:o,colorSuccessBg:l,colorWarning:r,colorWarningBorder:a,colorWarningBg:i,colorError:g,colorErrorBorder:c,colorErrorBg:s,colorInfo:d,colorInfoBorder:I,colorInfoBg:C}=e;return{[t]:{"&-success":BN(l,o,n,e,t),"&-info":BN(C,I,d,e,t),"&-warning":BN(i,a,r,e,t),"&-error":Object.assign(Object.assign({},BN(s,c,g,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},VN=e=>{const{componentCls:t,iconCls:n,motionDurationMid:o,marginXS:l,fontSizeIcon:r,colorIcon:a,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:l},[`${t}-close-icon`]:{marginInlineStart:l,padding:0,overflow:"hidden",fontSize:r,lineHeight:wt(r),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:a,transition:`color ${o}`,"&:hover":{color:i}}},"&-close-text":{color:a,transition:`color ${o}`,"&:hover":{color:i}}}}},RN=Ui("Alert",e=>[kN(e),WN(e),VN(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}));var wN=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const XN={success:lB,info:sB,error:AC,warning:iB},JN=e=>{const{icon:n,prefixCls:o,type:l}=e,r=XN[l]||null;return n?sI(n,t.createElement("span",{className:`${o}-icon`},n),()=>({className:Ol()(`${o}-icon`,n.props.className)})):t.createElement(r,{className:`${o}-icon`})},HN=e=>{const{isClosable:n,prefixCls:o,closeIcon:l,handleClose:r,ariaProps:a}=e,i=!0===l||void 0===l?t.createElement(mf,null):l;return n?t.createElement("button",Object.assign({type:"button",onClick:r,className:`${o}-close-icon`,tabIndex:0},a),i):null},xN=t.forwardRef((e,n)=>{const{description:o,prefixCls:l,message:r,banner:a,className:i,rootClassName:g,style:c,onMouseEnter:s,onMouseLeave:d,onClick:I,afterClose:C,showIcon:u,closable:m,closeText:A,closeIcon:b,action:p,id:h}=e,f=wN(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[y,v]=t.useState(!1);const Z=t.useRef(null);t.useImperativeHandle(n,()=>({nativeElement:Z.current}));const{getPrefixCls:G,direction:S,closable:B,closeIcon:k,className:W,style:V}=Jl("alert"),R=G("alert",l),[w,X,J]=RN(R),H=t=>{var n;v(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},x=t.useMemo(()=>void 0!==e.type?e.type:a?"warning":"info",[e.type,a]),Y=t.useMemo(()=>!("object"!==typeof m||!m.closeIcon)||(!!A||("boolean"===typeof m?m:!1!==b&&null!==b&&void 0!==b||!!B)),[A,b,m,B]),N=!(!a||void 0!==u)||u,E=Ol()(R,`${R}-${x}`,{[`${R}-with-description`]:!!o,[`${R}-no-icon`]:!N,[`${R}-banner`]:!!a,[`${R}-rtl`]:"rtl"===S},W,i,g,J,X),F=My(f,{aria:!0,data:!0}),K=t.useMemo(()=>"object"===typeof m&&m.closeIcon?m.closeIcon:A||(void 0!==b?b:"object"===typeof B&&B.closeIcon?B.closeIcon:k),[b,m,A,k]),M=t.useMemo(()=>{const e=null!==m&&void 0!==m?m:B;if("object"===typeof e){const{closeIcon:t}=e;return wN(e,["closeIcon"])}return{}},[m,B]);return w(t.createElement(pa,{visible:!y,motionName:`${R}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:C},(n,l)=>{let{className:a,style:i}=n;return t.createElement("div",Object.assign({id:h,ref:lr(Z,l),"data-show":!y,className:Ol()(E,a),style:Object.assign(Object.assign(Object.assign({},V),c),i),onMouseEnter:s,onMouseLeave:d,onClick:I,role:"alert"},F),N?t.createElement(JN,{description:o,icon:e.icon,prefixCls:R,type:x}):null,t.createElement("div",{className:`${R}-content`},r?t.createElement("div",{className:`${R}-message`},r):null,o?t.createElement("div",{className:`${R}-description`},o):null),p?t.createElement("div",{className:`${R}-action`},p):null,t.createElement(HN,{isClosable:Y,prefixCls:R,closeIcon:K,handleClose:H,ariaProps:M}))}))});const YN=xN;let NN=function(e){function n(){var e;return it(this,n),e=function(e,t,n){return t=mr(t),pr(e,Ar()?Reflect.construct(t,n||[],mr(e).constructor):t.apply(e,n))}(this,n,arguments),e.state={error:void 0,info:{componentStack:""}},e}return ur(n,e),ct(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:n,id:o,children:l}=this.props,{error:r,info:a}=this.state,i=(null===a||void 0===a?void 0:a.componentStack)||null,g="undefined"===typeof e?(r||"").toString():e,c="undefined"===typeof n?i:n;return r?t.createElement(YN,{id:o,type:"error",message:g,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},c)}):l}}])}(t.Component);const EN=NN,FN=YN;FN.ErrorBoundary=EN;const KN=FN;var MN=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function zN(e){return"string"===typeof e}const LN=function(e){var n,o=e.className,l=e.prefixCls,r=e.style,a=e.active,i=e.status,g=e.iconPrefix,c=e.icon,s=(e.wrapperStyle,e.stepNumber),d=e.disabled,I=e.description,C=e.title,u=e.subTitle,m=e.progressDot,A=e.stepIcon,b=e.tailContent,p=e.icons,h=e.stepIndex,f=e.onStepClick,y=e.onClick,v=e.render,Z=cr(e,MN),G={};!!f&&!d&&(G.role="button",G.tabIndex=0,G.onClick=function(e){null===y||void 0===y||y(e),f(h)},G.onKeyDown=function(e){var t=e.which;t!==OI.ENTER&&t!==OI.SPACE||f(h)});var S=i||"wait",B=Ol()("".concat(l,"-item"),"".concat(l,"-item-").concat(S),o,(Ve(n={},"".concat(l,"-item-custom"),c),Ve(n,"".concat(l,"-item-active"),a),Ve(n,"".concat(l,"-item-disabled"),!0===d),n)),k=Ee({},r),W=t.createElement("div",$t({},Z,{className:B,style:k}),t.createElement("div",$t({onClick:y},G,{className:"".concat(l,"-item-container")}),t.createElement("div",{className:"".concat(l,"-item-tail")},b),t.createElement("div",{className:"".concat(l,"-item-icon")},function(){var e,n,o=Ol()("".concat(l,"-icon"),"".concat(g,"icon"),(Ve(e={},"".concat(g,"icon-").concat(c),c&&zN(c)),Ve(e,"".concat(g,"icon-check"),!c&&"finish"===i&&(p&&!p.finish||!p)),Ve(e,"".concat(g,"icon-cross"),!c&&"error"===i&&(p&&!p.error||!p)),e)),r=t.createElement("span",{className:"".concat(l,"-icon-dot")});return n=m?"function"===typeof m?t.createElement("span",{className:"".concat(l,"-icon")},m(r,{index:s-1,status:i,title:C,description:I})):t.createElement("span",{className:"".concat(l,"-icon")},r):c&&!zN(c)?t.createElement("span",{className:"".concat(l,"-icon")},c):p&&p.finish&&"finish"===i?t.createElement("span",{className:"".concat(l,"-icon")},p.finish):p&&p.error&&"error"===i?t.createElement("span",{className:"".concat(l,"-icon")},p.error):c||"finish"===i||"error"===i?t.createElement("span",{className:o}):t.createElement("span",{className:"".concat(l,"-icon")},s),A&&(n=A({index:s-1,status:i,title:C,description:I,node:n})),n}()),t.createElement("div",{className:"".concat(l,"-item-content")},t.createElement("div",{className:"".concat(l,"-item-title")},C,u&&t.createElement("div",{title:"string"===typeof u?u:void 0,className:"".concat(l,"-item-subtitle")},u)),I&&t.createElement("div",{className:"".concat(l,"-item-description")},I))));return v&&(W=v(W)||null),W};var DN=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function TN(e){var n,o=e.prefixCls,l=void 0===o?"rc-steps":o,r=e.style,a=void 0===r?{}:r,i=e.className,g=(e.children,e.direction),c=void 0===g?"horizontal":g,s=e.type,d=void 0===s?"default":s,I=e.labelPlacement,C=void 0===I?"horizontal":I,u=e.iconPrefix,m=void 0===u?"rc":u,A=e.status,b=void 0===A?"process":A,p=e.size,h=e.current,f=void 0===h?0:h,y=e.progressDot,v=void 0!==y&&y,Z=e.stepIcon,G=e.initial,S=void 0===G?0:G,B=e.icons,k=e.onChange,W=e.itemRender,V=e.items,R=void 0===V?[]:V,w=cr(e,DN),X="navigation"===d,J="inline"===d,H=J||v,x=J?"horizontal":c,Y=J?void 0:p,N=H?"vertical":C,E=Ol()(l,"".concat(l,"-").concat(x),i,(Ve(n={},"".concat(l,"-").concat(Y),Y),Ve(n,"".concat(l,"-label-").concat(N),"horizontal"===x),Ve(n,"".concat(l,"-dot"),!!H),Ve(n,"".concat(l,"-navigation"),X),Ve(n,"".concat(l,"-inline"),J),n)),F=function(e){k&&f!==e&&k(e)};return t.createElement("div",$t({className:E,style:a},w),R.filter(function(e){return e}).map(function(e,n){var o=Ee({},e),r=S+n;return"error"===b&&n===f-1&&(o.className="".concat(l,"-next-error")),o.status||(o.status=r===f?b:r<f?"finish":"wait"),J&&(o.icon=void 0,o.subTitle=void 0),!o.render&&W&&(o.render=function(e){return W(o,e)}),t.createElement(LN,$t({},o,{active:r===f,stepNumber:r+1,stepIndex:r,key:r,prefixCls:l,iconPrefix:m,wrapperStyle:a,progressDot:H,stepIcon:Z,icons:B,onStepClick:k&&F}))}))}TN.Step=LN;const jN=TN;var ON={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},UN=function(){var e=(0,t.useRef)([]),n=(0,t.useRef)(null);return(0,t.useEffect)(function(){var t=Date.now(),o=!1;e.current.forEach(function(e){if(e){o=!0;var l=e.style;l.transitionDuration=".3s, .3s, .3s, .06s",n.current&&t-n.current<100&&(l.transitionDuration="0s, 0s")}}),o&&(n.current=Date.now())}),e.current};var QN=0,$N=Ke();const PN=function(e){var n=He(t.useState(),2),o=n[0],l=n[1];return t.useEffect(function(){l("rc_progress_".concat(function(){var e;return $N?(e=QN,QN+=1):e="TEST_OR_SSR",e}()))},[]),e||o};var qN=function(e){var n=e.bg,o=e.children;return t.createElement("div",{style:{width:"100%",height:"100%",background:n}},o)};function _N(e,t){return Object.keys(e).map(function(n){var o=parseFloat(n),l="".concat(Math.floor(o*t),"%");return"".concat(e[n]," ").concat(l)})}var eE=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.color,r=e.gradientId,a=e.radius,i=e.style,g=e.ptg,c=e.strokeLinecap,s=e.strokeWidth,d=e.size,I=e.gapDegree,C=l&&"object"===ke(l),u=C?"#FFF":void 0,m=d/2,A=t.createElement("circle",{className:"".concat(o,"-circle-path"),r:a,cx:m,cy:m,stroke:u,strokeLinecap:c,strokeWidth:s,opacity:0===g?0:1,style:i,ref:n});if(!C)return A;var b="".concat(r,"-conic"),p=I?"".concat(180+I/2,"deg"):"0deg",h=_N(l,(360-I)/360),f=_N(l,1),y="conic-gradient(from ".concat(p,", ").concat(h.join(", "),")"),v="linear-gradient(to ".concat(I?"bottom":"top",", ").concat(f.join(", "),")");return t.createElement(t.Fragment,null,t.createElement("mask",{id:b},A),t.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(b,")")},t.createElement(qN,{bg:v},t.createElement(qN,{bg:y}))))});const tE=eE;var nE=100,oE=function(e,t,n,o,l,r,a,i,g,c){var s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=n/100*360*((360-r)/360),I=0===r?0:{bottom:0,top:180,left:90,right:-90}[a],C=(100-o)/100*t;"round"===g&&100!==o&&(C+=c/2)>=t&&(C=t-.01);return{stroke:"string"===typeof i?i:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:C+s,transform:"rotate(".concat(l+d+I,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},lE=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function rE(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}const aE=function(e){var n=Ee(Ee({},ON),e),o=n.id,l=n.prefixCls,r=n.steps,a=n.strokeWidth,i=n.trailWidth,g=n.gapDegree,c=void 0===g?0:g,s=n.gapPosition,d=n.trailColor,I=n.strokeLinecap,C=n.style,u=n.className,m=n.strokeColor,A=n.percent,b=cr(n,lE),p=PN(o),h="".concat(p,"-gradient"),f=50-a/2,y=2*Math.PI*f,v=c>0?90+c/2:-90,Z=y*((360-c)/360),G="object"===ke(r)?r:{count:r,gap:2},S=G.count,B=G.gap,k=rE(A),W=rE(m),V=W.find(function(e){return e&&"object"===ke(e)}),R=V&&"object"===ke(V)?"butt":I,w=oE(y,Z,0,100,v,c,s,d,R,a),X=UN();return t.createElement("svg",$t({className:Ol()("".concat(l,"-circle"),u),viewBox:"0 0 ".concat(nE," ").concat(nE),style:C,id:o,role:"presentation"},b),!S&&t.createElement("circle",{className:"".concat(l,"-circle-trail"),r:f,cx:50,cy:50,stroke:d,strokeLinecap:R,strokeWidth:i||a,style:w}),S?function(){var e=Math.round(S*(k[0]/100)),n=100/S,o=0;return new Array(S).fill(null).map(function(r,i){var g=i<=e-1?W[0]:d,I=g&&"object"===ke(g)?"url(#".concat(h,")"):void 0,C=oE(y,Z,o,n,v,c,s,g,"butt",a,B);return o+=100*(Z-C.strokeDashoffset+B)/Z,t.createElement("circle",{key:i,className:"".concat(l,"-circle-path"),r:f,cx:50,cy:50,stroke:I,strokeWidth:a,opacity:1,style:C,ref:function(e){X[i]=e}})})}():function(){var e=0;return k.map(function(n,o){var r=W[o]||W[W.length-1],i=oE(y,Z,e,n,v,c,s,r,R,a);return e+=n,t.createElement(tE,{key:o,color:r,ptg:n,radius:f,prefixCls:l,gradientId:h,style:i,strokeLinecap:R,strokeWidth:a,gapDegree:c,ref:function(e){X[o]=e},size:nE})}).reverse()}())};function iE(e){return!e||e<0?0:e>100?100:e}function gE(e){let{success:t,successPercent:n}=e,o=n;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const cE=(e,t,n)=>{var o,l,r,a;let i=-1,g=-1;if("step"===t){const t=n.steps,o=n.strokeWidth;"string"===typeof e||"undefined"===typeof e?(i="small"===e?2:14,g=null!==o&&void 0!==o?o:8):"number"===typeof e?[i,g]=[e,e]:[i=14,g=8]=Array.isArray(e)?e:[e.width,e.height],i*=t}else if("line"===t){const t=null===n||void 0===n?void 0:n.strokeWidth;"string"===typeof e||"undefined"===typeof e?g=t||("small"===e?6:8):"number"===typeof e?[i,g]=[e,e]:[i=-1,g=8]=Array.isArray(e)?e:[e.width,e.height]}else"circle"!==t&&"dashboard"!==t||("string"===typeof e||"undefined"===typeof e?[i,g]="small"===e?[60,60]:[120,120]:"number"===typeof e?[i,g]=[e,e]:Array.isArray(e)&&(i=null!==(l=null!==(o=e[0])&&void 0!==o?o:e[1])&&void 0!==l?l:120,g=null!==(a=null!==(r=e[0])&&void 0!==r?r:e[1])&&void 0!==a?a:120));return[i,g]},sE=e=>{const{prefixCls:n,trailColor:o=null,strokeLinecap:l="round",gapPosition:r,gapDegree:a,width:i=120,type:g,children:c,success:s,size:d=i,steps:I}=e,[C,u]=cE(d,"circle");let{strokeWidth:m}=e;void 0===m&&(m=Math.max((e=>3/e*100)(C),6));const A={width:C,height:u,fontSize:.15*C+6},b=t.useMemo(()=>a||0===a?a:"dashboard"===g?75:void 0,[a,g]),p=(e=>{let{percent:t,success:n,successPercent:o}=e;const l=iE(gE({success:n,successPercent:o}));return[l,iE(iE(t)-l)]})(e),h=r||"dashboard"===g&&"bottom"||void 0,f="[object Object]"===Object.prototype.toString.call(e.strokeColor),y=(e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:o}=t;return[o||Fo.green,n||null]})({success:s,strokeColor:e.strokeColor}),v=Ol()(`${n}-inner`,{[`${n}-circle-gradient`]:f}),Z=t.createElement(aE,{steps:I,percent:I?p[1]:p,strokeWidth:m,trailWidth:m,strokeColor:I?y[1]:y,strokeLinecap:l,trailColor:o,prefixCls:n,gapDegree:b,gapPosition:h}),G=C<=20,S=t.createElement("div",{className:v,style:A},Z,!G&&c);return G?t.createElement(zI,{title:c},S):S},dE="--progress-line-stroke-color",IE="--progress-percent",CE=e=>{const t=e?"100%":"-100%";return new no(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},uE=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${dE})`]},height:"100%",width:`calc(1 / var(${IE}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${wt(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:CE(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:CE(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},mE=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},AE=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},bE=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},pE=Ui("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Ni(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[uE(n),mE(n),AE(n),bE(n)]},e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:e.fontSize/e.fontSizeSM+"em"}));var hE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const fE=(e,t)=>{const{from:n=Fo.blue,to:o=Fo.blue,direction:l=("rtl"===t?"to left":"to right")}=e,r=hE(e,["from","to","direction"]);if(0!==Object.keys(r).length){const e=`linear-gradient(${l}, ${(e=>{let t=[];return Object.keys(e).forEach(n=>{const o=parseFloat(n.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[n]})}),t=t.sort((e,t)=>e.key-t.key),t.map(e=>{let{key:t,value:n}=e;return`${n} ${t}%`}).join(", ")})(r)})`;return{background:e,[dE]:e}}const a=`linear-gradient(${l}, ${n}, ${o})`;return{background:a,[dE]:a}},yE=e=>{const{prefixCls:n,direction:o,percent:l,size:r,strokeWidth:a,strokeColor:i,strokeLinecap:g="round",children:c,trailColor:s=null,percentPosition:d,success:I}=e,{align:C,type:u}=d,m=i&&"string"!==typeof i?fE(i,o):{[dE]:i,background:i},A="square"===g||"butt"===g?0:void 0,b=null!==r&&void 0!==r?r:[-1,a||("small"===r?6:8)],[p,h]=cE(b,"line",{strokeWidth:a});const f={backgroundColor:s||void 0,borderRadius:A},y=Object.assign(Object.assign({width:`${iE(l)}%`,height:h,borderRadius:A},m),{[IE]:iE(l)/100}),v=gE(e),Z={width:`${iE(v)}%`,height:h,borderRadius:A,backgroundColor:null===I||void 0===I?void 0:I.strokeColor},G={width:p<0?"100%":p},S=t.createElement("div",{className:`${n}-inner`,style:f},t.createElement("div",{className:Ol()(`${n}-bg`,`${n}-bg-${u}`),style:y},"inner"===u&&c),void 0!==v&&t.createElement("div",{className:`${n}-success-bg`,style:Z})),B="outer"===u&&"start"===C,k="outer"===u&&"end"===C;return"outer"===u&&"center"===C?t.createElement("div",{className:`${n}-layout-bottom`},S,c):t.createElement("div",{className:`${n}-outer`,style:G},B&&c,S,k&&c)},vE=e=>{const{size:n,steps:o,rounding:l=Math.round,percent:r=0,strokeWidth:a=8,strokeColor:i,trailColor:g=null,prefixCls:c,children:s}=e,d=l(o*(r/100)),I=null!==n&&void 0!==n?n:["small"===n?2:14,a],[C,u]=cE(I,"step",{steps:o,strokeWidth:a}),m=C/o,A=Array.from({length:o});for(let b=0;b<o;b++){const e=Array.isArray(i)?i[b]:i;A[b]=t.createElement("div",{key:b,className:Ol()(`${c}-steps-item`,{[`${c}-steps-item-active`]:b<=d-1}),style:{backgroundColor:b<=d-1?e:g,width:m,height:u}})}return t.createElement("div",{className:`${c}-steps-outer`},A,s)};var ZE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const GE=["normal","exception","active","success"],SE=t.forwardRef((e,n)=>{const{prefixCls:o,className:l,rootClassName:r,steps:a,strokeColor:i,percent:g=0,size:c="default",showInfo:s=!0,type:d="line",status:I,format:C,style:u,percentPosition:m={}}=e,A=ZE(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:b="end",type:p="outer"}=m,h=Array.isArray(i)?i[0]:i,f="string"===typeof i||Array.isArray(i)?i:void 0,y=t.useMemo(()=>{if(h){const e="string"===typeof h?h:Object.values(h)[0];return new Jo(e).isLight()}return!1},[i]),v=t.useMemo(()=>{var t,n;const o=gE(e);return parseInt(void 0!==o?null===(t=null!==o&&void 0!==o?o:0)||void 0===t?void 0:t.toString():null===(n=null!==g&&void 0!==g?g:0)||void 0===n?void 0:n.toString(),10)},[g,e.success,e.successPercent]),Z=t.useMemo(()=>!GE.includes(I)&&v>=100?"success":I||"normal",[I,v]),{getPrefixCls:G,direction:S,progress:B}=t.useContext(Rl),k=G("progress",o),[W,V,R]=pE(k),w="line"===d,X=w&&!a,J=t.useMemo(()=>{if(!s)return null;const n=gE(e);let o;const l=C||(e=>`${e}%`),r=w&&y&&"inner"===p;return"inner"===p||C||"exception"!==Z&&"success"!==Z?o=l(iE(g),iE(n)):"exception"===Z?o=w?t.createElement(AC,null):t.createElement(mf,null):"success"===Z&&(o=w?t.createElement(lB,null):t.createElement(Wu,null)),t.createElement("span",{className:Ol()(`${k}-text`,{[`${k}-text-bright`]:r,[`${k}-text-${b}`]:X,[`${k}-text-${p}`]:X}),title:"string"===typeof o?o:void 0},o)},[s,g,v,Z,d,k,C]);let H;"line"===d?H=a?t.createElement(vE,Object.assign({},e,{strokeColor:f,prefixCls:k,steps:"object"===typeof a?a.count:a}),J):t.createElement(yE,Object.assign({},e,{strokeColor:h,prefixCls:k,direction:S,percentPosition:{align:b,type:p}}),J):"circle"!==d&&"dashboard"!==d||(H=t.createElement(sE,Object.assign({},e,{strokeColor:h,prefixCls:k,progressStatus:Z}),J));const x=Ol()(k,`${k}-status-${Z}`,{[`${k}-${"dashboard"===d?"circle":d}`]:"line"!==d,[`${k}-inline-circle`]:"circle"===d&&cE(c,"circle")[0]<=20,[`${k}-line`]:X,[`${k}-line-align-${b}`]:X,[`${k}-line-position-${p}`]:X,[`${k}-steps`]:a,[`${k}-show-info`]:s,[`${k}-${c}`]:"string"===typeof c,[`${k}-rtl`]:"rtl"===S},null===B||void 0===B?void 0:B.className,l,r,V,R);return W(t.createElement("div",Object.assign({ref:n,style:Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),u),className:x,role:"progressbar","aria-valuenow":v,"aria-valuemin":0,"aria-valuemax":100},Pa(A,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),H))});const BE=SE,kE=e=>{const{componentCls:t,customIconTop:n,customIconSize:o,customIconFontSize:l}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:o,height:o,fontSize:l,lineHeight:wt(o)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},WE=e=>{const{componentCls:t}=e,n=`${t}-item`;return{[`${t}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},VE=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:o,inlineTailColor:l}=e,r=e.calc(e.paddingXS).add(e.lineWidth).equal(),a={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:o}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${wt(r)} ${wt(e.paddingXXS)} 0`,margin:`0 ${wt(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${wt(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:o,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(r).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:l}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${wt(e.lineWidth)} ${e.lineType} ${l}`}},a),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:l},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:l,border:`${wt(e.lineWidth)} ${e.lineType} ${l}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${wt(e.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:o}}}}}},RE=e=>{const{componentCls:t,iconSize:n,lineHeight:o,iconSizeSM:l}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`0 ${wt(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:o}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(l).div(2).add(e.controlHeightLG).equal()}}}}}},wE=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:o,stepsNavActiveColor:l,motionDurationSlow:r}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${r}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Xa),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${wt(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${wt(e.lineWidth)} ${e.lineType} ${o}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${wt(e.lineWidth)} ${e.lineType} ${o}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:l,transition:`width ${r}, inset-inline-start ${r}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${wt(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},XE=e=>{const{antCls:t,componentCls:n,iconSize:o,iconSizeSM:l,processIconColor:r,marginXXS:a,lineWidthBold:i,lineWidth:g,paddingXXS:c}=e,s=e.calc(o).add(e.calc(i).mul(4).equal()).equal(),d=e.calc(l).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:c,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:r}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:c,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:e.calc(o).div(2).sub(g).add(c).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:c,paddingInlineStart:c}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(l).div(2).sub(g).add(c).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(o).div(2).add(c).equal()},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${wt(s)} !important`,height:`${wt(s)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(l).div(2).add(c).equal()},[`${n}-item-icon ${t}-progress-inner`]:{width:`${wt(d)} !important`,height:`${wt(d)} !important`}}}}},JE=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:o,dotCurrentSize:l,dotSize:r,motionDurationSlow:a}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:o},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${wt(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${wt(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:r,height:r,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal(),paddingInlineEnd:0,lineHeight:wt(r),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(r).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(r).sub(l).div(2).equal(),width:l,height:l,lineHeight:wt(l),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(l).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(l).div(2).equal(),top:0,insetInlineStart:e.calc(r).sub(l).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(r).div(2).equal(),insetInlineStart:0,margin:0,padding:`${wt(e.calc(r).add(e.paddingXS).equal())} 0 ${wt(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(r).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(l).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(r).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},HE=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},xE=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:o,fontSize:l,colorTextDescription:r}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${wt(e.marginXS)}`,fontSize:o,lineHeight:wt(n),textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:l,lineHeight:wt(n),"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:r,fontSize:l},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:wt(n),transform:"none"}}}}},YE=e=>{const{componentCls:t,iconSizeSM:n,iconSize:o}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:wt(o)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${wt(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${wt(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${wt(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${wt(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:wt(n)}}}}},NE=(e,t)=>{const n=`${t.componentCls}-item`,o=`${e}IconColor`,l=`${e}TitleColor`,r=`${e}DescriptionColor`,a=`${e}TailColor`,i=`${e}IconBgColor`,g=`${e}IconBorderColor`,c=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[i],borderColor:t[g],[`> ${t.componentCls}-icon`]:{color:t[o],[`${t.componentCls}-icon-dot`]:{background:t[c]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[c]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[l],"&::after":{backgroundColor:t[a]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[r]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[a]}}},EE=e=>{const{componentCls:t,motionDurationSlow:n}=e,o=`${t}-item`,l=`${o}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${o}-container > ${o}-tail, > ${o}-container >  ${o}-content > ${o}-title::after`]:{display:"none"}}},[`${o}-container`]:{outline:"none","&:focus-visible":{[l]:Object.assign({},Ha(e))}},[`${l}, ${o}-content`]:{display:"inline-block",verticalAlign:"top"},[l]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:wt(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${wt(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${o}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${o}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:wt(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${o}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${o}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},NE("wait",e)),NE("process",e)),{[`${o}-process > ${o}-container > ${o}-title`]:{fontWeight:e.fontWeightStrong}}),NE("finish",e)),NE("error",e)),{[`${o}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${o}-disabled`]:{cursor:"not-allowed"}})},FE=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},KE=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ja(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),EE(e)),FE(e)),kE(e)),xE(e)),YE(e)),WE(e)),RE(e)),JE(e)),wE(e)),HE(e)),XE(e)),VE(e))}},ME=Ui("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:o,colorText:l,colorPrimary:r,colorTextDescription:a,colorTextQuaternary:i,colorError:g,colorBorderSecondary:c,colorSplit:s}=e,d=Ni(e,{processIconColor:o,processTitleColor:l,processDescriptionColor:l,processIconBgColor:r,processIconBorderColor:r,processDotColor:r,processTailColor:s,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:s,waitDotColor:t,finishIconColor:r,finishTitleColor:l,finishDescriptionColor:a,finishTailColor:r,finishDotColor:r,errorIconColor:o,errorTitleColor:g,errorDescriptionColor:g,errorTailColor:s,errorIconBgColor:g,errorIconBorderColor:g,errorDotColor:g,stepsNavActiveColor:r,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:i,inlineTailColor:c});return[KE(d)]},e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}));const zE=function(e,n){if(e)return e;const o=_a(n).map(e=>{if(t.isValidElement(e)){const{props:t}=e;return Object.assign({},t)}return null});return function(e){return e.filter(e=>e)}(o)};var LE=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const DE=e=>{const{percent:n,size:o,className:l,rootClassName:r,direction:a,items:i,responsive:g=!0,current:c=0,children:s,style:d}=e,I=LE(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:C}=vh(g),{getPrefixCls:u,direction:m,className:A,style:b}=Jl("steps"),p=t.useMemo(()=>g&&C?"vertical":a,[C,a]),h=Rd(o),f=u("steps",e.prefixCls),[y,v,Z]=ME(f),G="inline"===e.type,S=u("",e.iconPrefix),B=zE(i,s),k=G?void 0:n,W=Object.assign(Object.assign({},b),d),V=Ol()(A,{[`${f}-rtl`]:"rtl"===m,[`${f}-with-progress`]:void 0!==k},l,r,v,Z),R={finish:t.createElement(Wu,{className:`${f}-finish-icon`}),error:t.createElement(mf,{className:`${f}-error-icon`})};return y(t.createElement(jN,Object.assign({icons:R},I,{style:W,current:c,size:h,items:B,itemRender:G?(e,n)=>e.description?t.createElement(zI,{title:e.description},n):n:void 0,stepIcon:e=>{let{node:n,status:o}=e;if("process"===o&&void 0!==k){const e="small"===h?32:40;return t.createElement("div",{className:`${f}-progress-icon`},t.createElement(BE,{type:"circle",percent:k,size:e,strokeWidth:4,format:()=>null}),n)}return n},direction:p,prefixCls:f,iconPrefix:S,className:V})))};DE.Step=jN.Step;const TE=DE;const jE={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},OE={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},UE=Math.round;function QE(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],o=n.map(e=>parseFloat(e));for(let l=0;l<3;l+=1)o[l]=t(o[l]||0,n[l]||"",l);return n[3]?o[3]=n[3].includes("%")?o[3]/100:o[3]:o[3]=1,o}const $E=(e,t,n)=>0===n?e:e/100;function PE(e,t){const n=t||255;return e>n?n:e<0?0:e}class qE{isValid=!0;r=0;g=0;b=0;a=1;_h;_s;_l;_v;_max;_min;_brightness;constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(e)if("string"===typeof e){const n=e.trim();function o(e){return n.startsWith(e)}if(/^#?[A-F\d]{3,8}$/i.test(n))this.fromHexString(n);else if(o("rgb"))this.fromRgbString(n);else if(o("hsl"))this.fromHslString(n);else if(o("hsv")||o("hsb"))this.fromHsvString(n);else{const l=OE[n.toLowerCase()];l&&this.fromHexString(parseInt(l,36).toString(16).padStart(6,"0"))}}else if(e instanceof qE)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=PE(e.r),this.g=PE(e.g),this.b=PE(e.b),this.a="number"===typeof e.a?PE(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:UE(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:t,s:n,l:o,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:t,s:n,l:o,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),o=t/100,l=e=>(n[e]-this[e])*o+this[e],r={r:UE(l("r")),g:UE(l("g")),b:UE(l("b")),a:UE(100*l("a"))/100};return this._c(r)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),o=e=>UE((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:o("r"),g:o("g"),b:o("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const o=(this.b||0).toString(16);if(e+=2===o.length?o:"0"+o,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=UE(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=UE(100*this.getSaturation()),n=UE(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const o=this.clone();return o[e]=PE(t,n),o}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:o,a:l}=e;if(this._h=t%360,this._s=n,this._l=o,this.a="number"===typeof l?l:1,n<=0){const e=UE(255*o);this.r=e,this.g=e,this.b=e}let r=0,a=0,i=0;const g=t/60,c=(1-Math.abs(2*o-1))*n,s=c*(1-Math.abs(g%2-1));g>=0&&g<1?(r=c,a=s):g>=1&&g<2?(r=s,a=c):g>=2&&g<3?(a=c,i=s):g>=3&&g<4?(a=s,i=c):g>=4&&g<5?(r=s,i=c):g>=5&&g<6&&(r=c,i=s);const d=o-c/2;this.r=UE(255*(r+d)),this.g=UE(255*(a+d)),this.b=UE(255*(i+d))}fromHsv(e){let{h:t,s:n,v:o,a:l}=e;this._h=t%360,this._s=n,this._v=o,this.a="number"===typeof l?l:1;const r=UE(255*o);if(this.r=r,this.g=r,this.b=r,n<=0)return;const a=t/60,i=Math.floor(a),g=a-i,c=UE(o*(1-n)*255),s=UE(o*(1-n*g)*255),d=UE(o*(1-n*(1-g))*255);switch(i){case 0:this.g=d,this.b=c;break;case 1:this.r=s,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=s;break;case 4:this.r=d,this.g=c;break;default:this.g=c,this.b=s}}fromHsvString(e){const t=QE(e,$E);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=QE(e,$E);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=QE(e,(e,t)=>t.includes("%")?UE(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}const _E=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function eF(e,t,n){let o;return o=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t,o<0?o+=360:o>=360&&(o-=360),o}function tF(e,t,n){if(0===e.h&&0===e.s)return e.s;let o;return o=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t,o>1&&(o=1),n&&5===t&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(100*o)/100}function nF(e,t,n){let o;return o=n?e.v+.05*t:e.v-.15*t,o=Math.max(0,Math.min(1,o)),Math.round(100*o)/100}const oF=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];oF.primary=oF[5];const lF=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];lF.primary=lF[5];const rF=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];rF.primary=rF[5];const aF=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];aF.primary=aF[5];const iF=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];iF.primary=iF[5];const gF=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];gF.primary=gF[5];const cF=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];cF.primary=cF[5];const sF=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];sF.primary=sF[5];const dF=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];dF.primary=dF[5];const IF=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];IF.primary=IF[5];const CF=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];CF.primary=CF[5];const uF=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];uF.primary=uF[5];const mF=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];mF.primary=mF[5];const AF=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];AF.primary=AF[5];const bF=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];bF.primary=bF[5];const pF=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];pF.primary=pF[5];const hF=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];hF.primary=hF[5];const fF=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];fF.primary=fF[5];const yF=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];yF.primary=yF[5];const vF=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];vF.primary=vF[5];const ZF=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];ZF.primary=ZF[5];const GF=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];GF.primary=GF[5];const SF=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];SF.primary=SF[5];const BF=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];BF.primary=BF[5];const kF=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];kF.primary=kF[5];const WF=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];WF.primary=WF[5];const VF=(0,t.createContext)({});const RF="data-rc-order",wF="data-rc-priority",XF=new Map;function JF(){let{mark:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?e.startsWith("data-")?e:`data-${e}`:"rc-util-key"}function HF(e){if(e.attachTo)return e.attachTo;return document.querySelector("head")||document.body}function xF(e){return Array.from((XF.get(e)||e).children).filter(e=>"STYLE"===e.tagName)}function YF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"===typeof window||!window.document||!window.document.createElement)return null;const{csp:n,prepend:o,priority:l=0}=t,r=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(o),a="prependQueue"===r,i=document.createElement("style");i.setAttribute(RF,r),a&&l&&i.setAttribute(wF,`${l}`),n?.nonce&&(i.nonce=n?.nonce),i.innerHTML=e;const g=HF(t),{firstChild:c}=g;if(o){if(a){const e=(t.styles||xF(g)).filter(e=>{if(!["prepend","prependQueue"].includes(e.getAttribute(RF)))return!1;const t=Number(e.getAttribute(wF)||0);return l>=t});if(e.length)return g.insertBefore(i,e[e.length-1].nextSibling),i}g.insertBefore(i,c)}else g.appendChild(i);return i}function NF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{styles:n}=t;return n||=xF(HF(t)),n.find(n=>n.getAttribute(JF(t))===e)}function EF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=HF(n),l=xF(o),r={...n,styles:l};!function(e,t){const n=XF.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){const n=YF("",t),{parentNode:o}=n;XF.set(e,o),e.removeChild(n)}}(o,r);const a=NF(t,r);if(a)return r.csp?.nonce&&a.nonce!==r.csp?.nonce&&(a.nonce=r.csp?.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;const i=YF(e,r);return i.setAttribute(JF(r),t),i}function FF(e){return e?.getRootNode?.()}function KF(e){return function(e){return FF(e)instanceof ShadowRoot}(e)?FF(e):null}let MF={};const zF=[];function LF(e,t){0}function DF(e,t){0}function TF(e,t,n){t||MF[n]||(e(!1,n),MF[n]=!0)}function jF(e,t){TF(LF,e,t)}jF.preMessage=e=>{zF.push(e)},jF.resetWarned=function(){MF={}},jF.noteOnce=function(e,t){TF(DF,e,t)};const OF=jF;function UF(e){return"object"===typeof e&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===typeof e.icon||"function"===typeof e.icon)}function QF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((t,n)=>{const o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(e,t)=>t.toUpperCase())}(n)]=o;return t},{})}function $F(e,n,o){return o?t.createElement(e.tag,{key:n,...QF(e.attrs),...o},(e.children||[]).map((t,o)=>$F(t,`${n}-${e.tag}-${o}`))):t.createElement(e.tag,{key:n,...QF(e.attrs)},(e.children||[]).map((t,o)=>$F(t,`${n}-${e.tag}-${o}`)))}function PF(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],o=new qE(e),l=o.toHsv();for(let r=5;r>0;r-=1){const e=new qE({h:eF(l,r,!0),s:tF(l,r,!0),v:nF(l,r,!0)});n.push(e)}n.push(o);for(let r=1;r<=4;r+=1){const e=new qE({h:eF(l,r),s:tF(l,r),v:nF(l,r)});n.push(e)}return"dark"===t.theme?_E.map(e=>{let{index:o,amount:l}=e;return new qE(t.backgroundColor||"#141414").mix(n[o],l).toHexString()}):n.map(e=>e.toHexString())}(e)[0]}function qF(e){return e?Array.isArray(e)?e:[e]:[]}const _F={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};const eK=e=>{const{icon:n,className:o,onClick:l,style:r,primaryColor:a,secondaryColor:i,...g}=e,c=t.useRef();let s=_F;if(a&&(s={primaryColor:a,secondaryColor:i||PF(a)}),(e=>{const{csp:n,prefixCls:o,layer:l}=(0,t.useContext)(VF);let r="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(r=r.replace(/anticon/g,o)),l&&(r=`@layer ${l} {\n${r}\n}`),(0,t.useEffect)(()=>{const t=KF(e.current);EF(r,"@ant-design-icons",{prepend:!l,csp:n,attachTo:t})},[])})(c),function(e,t){OF(e,`[@ant-design/icons] ${t}`)}(UF(n),`icon should be icon definiton, but got ${n}`),!UF(n))return null;let d=n;return d&&"function"===typeof d.icon&&(d={...d,icon:d.icon(s.primaryColor,s.secondaryColor)}),$F(d.icon,`svg-${d.name}`,{className:o,onClick:l,style:r,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...g,ref:c})};eK.displayName="IconReact",eK.getTwoToneColors=function(){return{..._F}},eK.setTwoToneColors=function(e){let{primaryColor:t,secondaryColor:n}=e;_F.primaryColor=t,_F.secondaryColor=n||PF(t),_F.calculated=!!n};const tK=eK;function nK(e){const[t,n]=qF(e);return tK.setTwoToneColors({primaryColor:t,secondaryColor:n})}function oK(){return oK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},oK.apply(this,arguments)}nK(dF.primary);const lK=t.forwardRef((e,n)=>{const{className:o,icon:l,spin:r,rotate:a,tabIndex:i,onClick:g,twoToneColor:c,...s}=e,{prefixCls:d="anticon",rootClassName:I}=t.useContext(VF),C=Ol()(I,d,{[`${d}-${l.name}`]:!!l.name,[`${d}-spin`]:!!r||"loading"===l.name},o);let u=i;void 0===u&&g&&(u=-1);const m=a?{msTransform:`rotate(${a}deg)`,transform:`rotate(${a}deg)`}:void 0,[A,b]=qF(c);return t.createElement("span",oK({role:"img","aria-label":l.name},s,{ref:n,tabIndex:u,onClick:g,className:C}),t.createElement(tK,{icon:l,primaryColor:A,secondaryColor:b,style:m}))});lK.displayName="AntdIcon",lK.getTwoToneColor=function(){const e=tK.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},lK.setTwoToneColor=nK;const rK=lK;function aK(){return aK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aK.apply(this,arguments)}const iK=(e,n)=>t.createElement(rK,aK({},e,{ref:n,icon:jE}));const gK=t.forwardRef(iK);const cK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function sK(){return sK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sK.apply(this,arguments)}const dK=(e,n)=>t.createElement(rK,sK({},e,{ref:n,icon:cK}));const IK=t.forwardRef(dK);function CK(){return CK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},CK.apply(this,arguments)}const uK=(e,n)=>t.createElement(rK,CK({},e,{ref:n,icon:yJ}));const mK=t.forwardRef(uK);const AK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"};function bK(){return bK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bK.apply(this,arguments)}const pK=(e,n)=>t.createElement(rK,bK({},e,{ref:n,icon:AK}));const hK=t.forwardRef(pK);const fK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"};function yK(){return yK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yK.apply(this,arguments)}const vK=(e,n)=>t.createElement(rK,yK({},e,{ref:n,icon:fK}));const ZK=t.forwardRef(vK);const GK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function SK(){return SK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},SK.apply(this,arguments)}const BK=(e,n)=>t.createElement(rK,SK({},e,{ref:n,icon:GK}));const kK=t.forwardRef(BK);var WK=n(579);const{Header:VK,Content:RK,Footer:wK}=pg,{Title:XK,Paragraph:JK,Text:HK}=im,xK=[{title:"Admin Login",icon:(0,WK.jsx)(gK,{style:{color:"#00cec8"}}),description:"Secure authentication for both admin roles with role-based access control."},{title:"User Management",icon:(0,WK.jsx)(IK,{style:{color:"#006064"}}),description:"Super Admin manages users, Secondary Admin updates duty schedules efficiently."},{title:"Duty Tracking",icon:(0,WK.jsx)(mK,{style:{color:"#00cec8"}}),description:"Real-time duty time tracking with live updates and comprehensive reporting."},{title:"QR Access",icon:(0,WK.jsx)(hK,{style:{color:"#006064"}}),description:"Users access their status instantly via QR code scanning or direct links."}],YK=[{icon:(0,WK.jsx)(IK,{style:{fontSize:32,color:"#00cec8"}}),title:"User Management",description:"Comprehensive user management with profile photos, school selection, and detailed information tracking."},{icon:(0,WK.jsx)(mK,{style:{fontSize:32,color:"#006064"}}),title:"Duty Time Tracking",description:"Precise duty time tracking with multiple schedule options and real-time calculations."},{icon:(0,WK.jsx)(hK,{style:{fontSize:32,color:"#00cec8"}}),title:"QR Code Access",description:"Instant status access through QR codes with leaderboard and performance metrics."},{icon:(0,WK.jsx)(ZK,{style:{fontSize:32,color:"#006064"}}),title:"Leaderboard System",description:"Motivational leaderboard system to recognize top performers and encourage participation."}];function NK(){const e=le();return(0,WK.jsxs)(pg,{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fffe 0%, #ffffff 100%)"},children:[(0,WK.jsx)(VK,{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.1)",position:"relative"},children:(0,WK.jsxs)("div",{style:{color:"#fff",fontWeight:700,fontSize:24,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,WK.jsx)(gK,{style:{marginRight:12,color:"#00cec8",fontSize:28}}),"Scout Management System"]}),(0,WK.jsx)(kK,{style:{color:"#00cec8",fontSize:24,cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>e("/admin"),onMouseEnter:e=>e.target.style.color="#fff",onMouseLeave:e=>e.target.style.color="#00cec8"})]})}),(0,WK.jsxs)(RK,{style:{padding:0},children:[(0,WK.jsx)("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",padding:"80px 20px",textAlign:"center",color:"#fff"},children:(0,WK.jsxs)("div",{className:"fade-in-up",style:{maxWidth:1200,margin:"0 auto"},children:[(0,WK.jsx)("div",{style:{marginBottom:40},children:(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:120,height:120,marginBottom:24,filter:"drop-shadow(0 4px 16px rgba(0, 131, 143, 0.3))"}})}),(0,WK.jsx)(XK,{level:1,style:{color:"#fff",fontSize:48,fontWeight:800,marginBottom:24,textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:"Scout Duty Management"}),(0,WK.jsx)(JK,{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:20,marginBottom:40,maxWidth:600,margin:"0 auto 40px auto"},children:"Modern, efficient, and user-friendly platform for managing scout duties, tracking attendance, and recognizing outstanding service."}),(0,WK.jsxs)(nk,{size:"large",children:[(0,WK.jsx)(bh,{type:"primary",size:"large",onClick:()=>e("/admin"),style:{height:56,padding:"0 32px",fontSize:18,fontWeight:600,borderRadius:12,background:"linear-gradient(135deg, #00cec8 0%, #006064 100%)",border:"none",boxShadow:"0 4px 16px rgba(0, 131, 143, 0.4)"},children:"Admin Login"}),(0,WK.jsx)(bh,{size:"large",onClick:()=>e("/user-status"),style:{height:56,padding:"0 32px",fontSize:18,fontWeight:600,borderRadius:12,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.3)",color:"#fff"},children:"View Status"})]})]})}),(0,WK.jsx)("div",{style:{padding:"80px 20px",background:"#fff"},children:(0,WK.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto"},children:[(0,WK.jsxs)("div",{style:{textAlign:"center",marginBottom:60},children:[(0,WK.jsx)(XK,{level:2,style:{color:"#1a1a2e",marginBottom:16},children:"Powerful Features"}),(0,WK.jsx)(JK,{style:{color:"#666",fontSize:18,maxWidth:600,margin:"0 auto"},children:"Everything you need to manage scout duties efficiently and effectively"})]}),(0,WK.jsx)(Jh,{gutter:[32,32],children:YK.map((e,t)=>(0,WK.jsx)(Fh,{xs:24,md:12,lg:6,children:(0,WK.jsxs)(Ey,{className:"shadow-soft fade-in-up",style:{height:"100%",textAlign:"center",border:"1px solid rgba(0, 131, 143, 0.1)",borderRadius:16,transition:"all 0.3s ease"},bodyStyle:{padding:32},hoverable:!0,children:[(0,WK.jsx)("div",{style:{marginBottom:20},children:e.icon}),(0,WK.jsx)(XK,{level:4,style:{color:"#1a1a2e",marginBottom:12},children:e.title}),(0,WK.jsx)(HK,{style:{color:"#666",lineHeight:1.6},children:e.description})]})},t))})]})}),(0,WK.jsx)("div",{style:{padding:"80px 20px",background:"linear-gradient(135deg, #f8fffe 0%, #ffffff 100%)"},children:(0,WK.jsxs)("div",{style:{maxWidth:1e3,margin:"0 auto"},children:[(0,WK.jsxs)("div",{style:{textAlign:"center",marginBottom:60},children:[(0,WK.jsx)(XK,{level:2,style:{color:"#1a1a2e",marginBottom:16},children:"How It Works"}),(0,WK.jsx)(JK,{style:{color:"#666",fontSize:18},children:"Simple, streamlined process for maximum efficiency"})]}),(0,WK.jsx)(TE,{direction:"horizontal",responsive:!0,current:-1,items:xK.map((e,t)=>({title:(0,WK.jsxs)("span",{style:{fontSize:16,fontWeight:600,color:"#1a1a2e"},children:[e.icon," ",e.title]}),description:(0,WK.jsx)("div",{style:{fontSize:14,marginTop:8,color:"#666",lineHeight:1.5},children:e.description})}))})]})}),(0,WK.jsx)("div",{style:{background:"linear-gradient(135deg, #00cec8 0%, #006064 100%)",padding:"80px 20px",textAlign:"center"},children:(0,WK.jsxs)("div",{style:{maxWidth:800,margin:"0 auto"},children:[(0,WK.jsx)(XK,{level:2,style:{color:"#fff",fontWeight:700,marginBottom:24,fontSize:36},children:"Ready to Get Started?"}),(0,WK.jsx)(JK,{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:18,marginBottom:40,lineHeight:1.6},children:"Join the modern way of managing scout duties. Streamline your operations, track performance, and recognize outstanding service with our comprehensive platform."}),(0,WK.jsx)(bh,{type:"primary",size:"large",onClick:()=>e("/admin"),style:{height:56,padding:"0 40px",fontSize:18,fontWeight:600,borderRadius:12,background:"#fff",color:"#00cec8",border:"none",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:"Access Admin Portal"})]})})]}),(0,WK.jsx)(wK,{style:{textAlign:"center",background:"#1a1a2e",color:"rgba(255, 255, 255, 0.8)",padding:"40px 20px"},children:(0,WK.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto"},children:[(0,WK.jsx)(HK,{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:16},children:"Scout Duty Management \u2014 Empowering Admins, Supporting Scouts"}),(0,WK.jsx)("br",{}),(0,WK.jsxs)(HK,{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:14},children:["\xa9 ",(new Date).getFullYear()," All rights reserved."]})]})})]})}const EK={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:t}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:t}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"};function FK(){return FK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},FK.apply(this,arguments)}const KK=(e,n)=>t.createElement(rK,FK({},e,{ref:n,icon:EK}));const MK=t.forwardRef(KK);function zK(){return zK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zK.apply(this,arguments)}const LK=(e,n)=>t.createElement(rK,zK({},e,{ref:n,icon:sN}));const DK=t.forwardRef(LK),{Title:TK,Paragraph:jK,Text:OK}=im,{Header:UK,Content:QK,Footer:$K}=pg,PK={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||"";function qK(){const[e,n]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),r=le();return(0,WK.jsxs)(pg,{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},children:[(0,WK.jsxs)(UK,{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"none",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.1)",position:"relative"},children:[(0,WK.jsxs)("button",{className:"back-btn-glass",onClick:()=>r("/"),style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",marginLeft:16,display:"flex",alignItems:"center",gap:8,border:"none",background:"none",cursor:"pointer",fontWeight:600,fontSize:16,zIndex:2},children:[(0,WK.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"#00cec8",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,WK.jsx)("polyline",{points:"15 18 9 12 15 6"})}),(0,WK.jsx)("span",{style:{color:"#00cec8"},children:"Back"})]}),(0,WK.jsxs)("div",{style:{color:"#fff",fontWeight:700,fontSize:24,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,WK.jsx)(gK,{style:{marginRight:12,color:"#00cec8",fontSize:28}}),"Scout Admin Portal"]})]}),(0,WK.jsx)(QK,{style:{padding:"60px 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,WK.jsx)(Jh,{justify:"center",align:"middle",style:{width:"100%"},children:(0,WK.jsx)(Fh,{xs:24,sm:20,md:14,lg:10,xl:8,children:(0,WK.jsx)("div",{className:"fade-in-up",children:(0,WK.jsxs)(Ey,{bordered:!1,className:"shadow-strong",style:{borderRadius:20,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",overflow:"hidden"},children:[(0,WK.jsxs)("div",{style:{background:"linear-gradient(135deg, #00cec8 0%, #006064 100%)",margin:"-24px -24px 24px -24px",padding:"32px 24px",textAlign:"center"},children:[(0,WK.jsx)(gK,{style:{fontSize:56,color:"#fff",marginBottom:16}}),(0,WK.jsx)(TK,{level:2,style:{color:"#fff",margin:0},children:"Admin Login"}),(0,WK.jsx)(OK,{style:{color:"rgba(255, 255, 255, 0.9)"},children:"Welcome back! Please sign in to continue"})]}),o&&(0,WK.jsx)(Ey,{size:"small",style:{marginBottom:24,background:"linear-gradient(135deg, #fff2f0 0%, #fff7f6 100%)",border:"1px solid #ff4d4f"},children:(0,WK.jsxs)(OK,{type:"danger",style:{fontWeight:500},children:["\u26a0\ufe0f ",o]})}),(0,WK.jsxs)(qY,{layout:"vertical",onFinish:async e=>{n(!0),l("");try{const t=await fetch(`${PK}/api/auth/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();t.ok?(localStorage.setItem("token",n.token),localStorage.setItem("adminType",n.adminType||n.role),localStorage.setItem("adminId",n.adminId),OB.success("Login successful! Redirecting..."),setTimeout(()=>{const e=n.adminType||n.role;window.location.href="super"===e?"/dashboard/super":"/dashboard/secondary"},1e3)):(l(n.message||"Login failed. Please try again."),OB.error(n.message||"Login failed. Please try again."))}catch(t){l("Login failed. Please try again."),OB.error("Login failed. Please try again.")}finally{n(!1)}},autoComplete:"off",size:"large",children:[(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Email Address"}),name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Enter a valid email"}],children:(0,WK.jsx)(SN,{prefix:(0,WK.jsx)(IK,{style:{color:"#00cec8"}}),placeholder:"Enter your email address",style:{borderRadius:10,height:48,fontSize:16}})}),(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Password"}),name:"password",rules:[{required:!0,message:"Please enter your password"}],children:(0,WK.jsx)(SN.Password,{prefix:(0,WK.jsx)(kK,{style:{color:"#00cec8"}}),placeholder:"Enter your password",iconRender:e=>e?(0,WK.jsx)(MK,{}):(0,WK.jsx)(DK,{}),style:{borderRadius:10,height:48,fontSize:16}})}),(0,WK.jsx)(bh,{type:"primary",htmlType:"submit",loading:e,block:!0,style:{height:52,borderRadius:10,fontSize:16,fontWeight:600,marginTop:24,background:"linear-gradient(135deg, #00cec8 0%, #006064 100%)",border:"none",boxShadow:"0 4px 16px rgba(0, 131, 143, 0.3)"},children:e?"Signing In...":"Sign In"})]}),(0,WK.jsx)("div",{style:{marginTop:32,textAlign:"center",padding:"20px 0",borderTop:"1px solid rgba(0, 131, 143, 0.1)"},children:(0,WK.jsxs)(nk,{direction:"vertical",size:"small",children:[(0,WK.jsxs)(OK,{type:"secondary",style:{fontSize:14},children:["\xa9 ",(new Date).getFullYear()," Scout Admin Portal. All rights reserved."]}),(0,WK.jsx)(OK,{type:"secondary",style:{fontSize:12},children:"For support, contact admin@scoutportal.com"})]})})]})})})})}),(0,WK.jsx)($K,{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",color:"rgba(255, 255, 255, 0.8)",border:"none"},children:(0,WK.jsx)(OK,{style:{color:"rgba(255, 255, 255, 0.8)"},children:"Scout Duty Management \u2014 Empowering Admins, Supporting Scouts"})})]})}function _K(){return localStorage.getItem("adminType")||localStorage.getItem("role")}function eM(){localStorage.clear(),window.location.href="/admin"}let tM;function nM(){clearTimeout(tM),tM=setTimeout(()=>{eM(),alert("Session expired. Please log in again.")},18e5)}async function oM(e){var t;const n=new FormData;n.append("file",e),n.append("upload_preset","ml_default");const o=await fetch("https://api.cloudinary.com/v1_1/dpcl7yv77/image/upload",{method:"POST",body:n}),l=await o.json();if(l.secure_url)return l.secure_url;throw new Error((null===(t=l.error)||void 0===t?void 0:t.message)||"Cloudinary upload failed")}const lM=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),o=e.name||"",l=e.type||"",r=l.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=o.toLowerCase(),a=t.toLowerCase(),i=[a];return".jpg"!==a&&".jpeg"!==a||(i=[".jpg",".jpeg"]),i.some(function(e){return n.endsWith(e)})}return/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):l===t||!!/^\w+$/.test(t)&&(rt(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)})}return!0};function rM(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(PV){return t}}function aM(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(t){var o=e.data[t];Array.isArray(o)?o.forEach(function(e){n.append("".concat(t,"[]"),e)}):n.append(t,o)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(n);return o.status=t.status,o.method=e.method,o.url=e.action,o}(e,t),rM(t)):e.onSuccess(rM(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return null!==o["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(e){null!==o[e]&&t.setRequestHeader(e,o[e])}),t.send(n),{abort:function(){t.abort()}}}var iM=function(){var e=gs(as().mark(function e(t,n){var o,l,r,a,i,g,c,s;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g=function(){return(g=gs(as().mark(function e(t){return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.file(function(o){n(o)?(t.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=t.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),e(o)):e(null)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return g.apply(this,arguments)},a=function(){return a=gs(as().mark(function e(t){var n,o,l,r,a;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.createReader(),o=[];case 2:return e.next=5,new Promise(function(e){n.readEntries(e,function(){return e([])})});case 5:if(l=e.sent,r=l.length){e.next=9;break}return e.abrupt("break",12);case 9:for(a=0;a<r;a++)o.push(l[a]);e.next=2;break;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e)})),a.apply(this,arguments)},r=function(e){return a.apply(this,arguments)},o=[],l=[],t.forEach(function(e){return l.push(e.webkitGetAsEntry())}),c=function(){var e=gs(as().mark(function e(t,n){var a,g;return as().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(t.path=n||"",!t.isFile){e.next=10;break}return e.next=6,i(t);case 6:(a=e.sent)&&o.push(a),e.next=15;break;case 10:if(!t.isDirectory){e.next=15;break}return e.next=13,r(t);case 13:g=e.sent,l.push.apply(l,Ye(g));case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),s=0;case 9:if(!(s<l.length)){e.next=15;break}return e.next=12,c(l[s]);case 12:s++,e.next=9;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();const gM=iM;var cM=+new Date,sM=0;function dM(){return"rc-upload-".concat(cM,"-").concat(++sM)}var IM=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],CM=function(e){ur(o,e);var n=hr(o);function o(){var e;it(this,o);for(var t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return Ve(br(e=n.call.apply(n,[this].concat(l))),"state",{uid:dM()}),Ve(br(e),"reqs",{}),Ve(br(e),"fileInput",void 0),Ve(br(e),"_isMounted",void 0),Ve(br(e),"onChange",function(t){var n=e.props,o=n.accept,l=n.directory,r=Ye(t.target.files).filter(function(e){return!l||lM(e,o)});e.uploadFiles(r),e.reset()}),Ve(br(e),"onClick",function(t){var n=e.fileInput;if(n){var o=t.target,l=e.props.onClick;if(o&&"BUTTON"===o.tagName)n.parentNode.focus(),o.blur();n.click(),l&&l(t)}}),Ve(br(e),"onKeyDown",function(t){"Enter"===t.key&&e.onClick(t)}),Ve(br(e),"onDataTransferFiles",function(){var t=gs(as().mark(function t(n,o){var l,r,a,i,g,c,s;return as().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.props,r=l.multiple,a=l.accept,i=l.directory,g=Ye(n.items||[]),((c=Ye(n.files||[])).length>0||g.some(function(e){return"file"===e.kind}))&&(null===o||void 0===o||o()),!i){t.next=11;break}return t.next=7,gM(Array.prototype.slice.call(g),function(t){return lM(t,e.props.accept)});case 7:c=t.sent,e.uploadFiles(c),t.next=14;break;case 11:s=Ye(c).filter(function(e){return lM(e,a)}),!1===r&&(s=c.slice(0,1)),e.uploadFiles(s);case 14:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),Ve(br(e),"onFilePaste",function(){var t=gs(as().mark(function t(n){var o;return as().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.pastable){t.next=3;break}return t.abrupt("return");case 3:if("paste"!==n.type){t.next=6;break}return o=n.clipboardData,t.abrupt("return",e.onDataTransferFiles(o,function(){n.preventDefault()}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Ve(br(e),"onFileDragOver",function(e){e.preventDefault()}),Ve(br(e),"onFileDrop",function(){var t=gs(as().mark(function t(n){var o;return as().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"drop"!==n.type){t.next=4;break}return o=n.dataTransfer,t.abrupt("return",e.onDataTransferFiles(o));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Ve(br(e),"uploadFiles",function(t){var n=Ye(t),o=n.map(function(t){return t.uid=dM(),e.processFile(t,n)});Promise.all(o).then(function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map(function(e){return{file:e.origin,parsedFile:e.parsedFile}})),t.filter(function(e){return null!==e.parsedFile}).forEach(function(t){e.post(t)})})}),Ve(br(e),"processFile",function(){var t=gs(as().mark(function t(n,o){var l,r,a,i,g,c,s,d,I;return as().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.props.beforeUpload,r=n,!l){t.next=14;break}return t.prev=3,t.next=6,l(n,o);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r=!1;case 12:if(!1!==r){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(a=e.props.action)){t.next=21;break}return t.next=18,a(n);case 18:i=t.sent,t.next=22;break;case 21:i=a;case 22:if("function"!==typeof(g=e.props.data)){t.next=29;break}return t.next=26,g(n);case 26:c=t.sent,t.next=30;break;case 29:c=g;case 30:return s="object"!==ke(r)&&"string"!==typeof r||!r?n:r,d=s instanceof File?s:new File([s],n.name,{type:n.type}),(I=d).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:I,action:i});case 35:case"end":return t.stop()}},t,null,[[3,9]])}));return function(e,n){return t.apply(this,arguments)}}()),Ve(br(e),"saveFileInput",function(t){e.fileInput=t}),e}return ct(o,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.pastable&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(e){var t=this.props.pastable;t&&!e.pastable?document.addEventListener("paste",this.onFilePaste):!t&&e.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(e){var t=this,n=e.data,o=e.origin,l=e.action,r=e.parsedFile;if(this._isMounted){var a=this.props,i=a.onStart,g=a.customRequest,c=a.name,s=a.headers,d=a.withCredentials,I=a.method,C=o.uid,u=g||aM,m={action:l,filename:c,data:n,file:r,headers:s,withCredentials:d,method:I||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,r)},onSuccess:function(e,n){var o=t.props.onSuccess;null===o||void 0===o||o(e,r,n),delete t.reqs[C]},onError:function(e,n){var o=t.props.onError;null===o||void 0===o||o(e,n,r),delete t.reqs[C]}};i(o),this.reqs[C]=u(m)}}},{key:"reset",value:function(){this.setState({uid:dM()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]})}},{key:"render",value:function(){var e=this.props,n=e.component,o=e.prefixCls,l=e.className,r=e.classNames,a=void 0===r?{}:r,i=e.disabled,g=e.id,c=e.name,s=e.style,d=e.styles,I=void 0===d?{}:d,C=e.multiple,u=e.accept,m=e.capture,A=e.children,b=e.directory,p=e.openFileDialogOnClick,h=e.onMouseEnter,f=e.onMouseLeave,y=e.hasControlInside,v=cr(e,IM),Z=Ol()(Ve(Ve(Ve({},o,!0),"".concat(o,"-disabled"),i),l,l)),G=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},S=i?{}:{onClick:p?this.onClick:function(){},onKeyDown:p?this.onKeyDown:function(){},onMouseEnter:h,onMouseLeave:f,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:y?void 0:"0"};return t.createElement(n,$t({},S,{className:Z,role:y?void 0:"button",style:s}),t.createElement("input",$t({},My(v,{aria:!0,data:!0}),{id:g,name:c,disabled:i,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:Ee({display:"none"},I.input),className:a.input,accept:u},G,{multiple:C,onChange:this.onChange},null!=m?{capture:m}:{})),A)}}]),o}(t.Component);const uM=CM;function mM(){}var AM=function(e){ur(o,e);var n=hr(o);function o(){var e;it(this,o);for(var t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return Ve(br(e=n.call.apply(n,[this].concat(l))),"uploader",void 0),Ve(br(e),"saveUploader",function(t){e.uploader=t}),e}return ct(o,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return t.createElement(uM,$t({},this.props,{ref:this.saveUploader}))}}]),o}(t.Component);Ve(AM,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:mM,onError:mM,onSuccess:mM,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const bM=AM,pM=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${wt(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${wt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`\n          &:not(${t}-disabled):hover,\n          &-hover:not(${t}-disabled)\n        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${wt(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},\n            p${t}-text,\n            p${t}-hint\n          `]:{color:e.colorTextDisabled}}}}}},hM=e=>{const{componentCls:t,iconCls:n,fontSize:o,lineHeight:l,calc:r}=e,a=`${t}-list-item`,i=`${a}-actions`,g=`${a}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{lineHeight:e.lineHeight,[a]:{position:"relative",height:r(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},Xa),{padding:`0 ${wt(e.paddingXS)}`,lineHeight:l,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[i]:{whiteSpace:"nowrap",[g]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`\n              ${g}:focus-visible,\n              &.picture ${g}\n            `]:{opacity:1}},[`${t}-icon ${n}`]:{color:e.colorIcon,fontSize:o},[`${a}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:r(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${g}`]:{opacity:1},[`${a}-error`]:{color:e.colorError,[`${a}-name, ${t}-icon ${n}`]:{color:e.colorError},[i]:{[`${n}, ${n}:hover`]:{color:e.colorError},[g]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},fM=new no("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),yM=new no("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),vM=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,o=`${n}-fade`,l=t?"&":"";return[uI(o,fM,yM,e.motionDurationMid,t),{[`\n        ${l}${o}-enter,\n        ${l}${o}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${l}${o}-leave`]:{animationTimingFunction:"linear"}}]},ZM=e=>{const{componentCls:t}=e,n=new no("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new no("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),l=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${l}-appear, ${l}-enter, ${l}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${l}-appear, ${l}-enter`]:{animationName:n},[`${l}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:vM(e)},n,o]},GM=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:o,uploadProgressOffset:l,calc:r}=e,a=`${t}-list`,i=`${a}-item`;return{[`${t}-wrapper`]:{[`\n        ${a}${a}-picture,\n        ${a}${a}-picture-card,\n        ${a}${a}-picture-circle\n      `]:{[i]:{position:"relative",height:r(o).add(r(e.lineWidth).mul(2)).add(r(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${i}-thumbnail`]:Object.assign(Object.assign({},Xa),{width:o,height:o,lineHeight:wt(r(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${i}-progress`]:{bottom:l,width:`calc(100% - ${wt(r(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:r(o).add(e.paddingXS).equal()}},[`${i}-error`]:{borderColor:e.colorError,[`${i}-thumbnail ${n}`]:{[`svg path[fill='${Uo[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Uo.primary}']`]:{fill:e.colorError}}},[`${i}-uploading`]:{borderStyle:"dashed",[`${i}-name`]:{marginBottom:l}}},[`${a}${a}-picture-circle ${i}`]:{[`&, &::before, ${i}-thumbnail`]:{borderRadius:"50%"}}}}},SM=e=>{const{componentCls:t,iconCls:n,fontSizeLG:o,colorTextLightSolid:l,calc:r}=e,a=`${t}-list`,i=`${a}-item`,g=e.uploadPicCardSize;return{[`\n      ${t}-wrapper${t}-picture-card-wrapper,\n      ${t}-wrapper${t}-picture-circle-wrapper\n    `]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{display:"block",[`${t}${t}-select`]:{width:g,height:g,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${wt(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${a}-item-container`]:{display:"inline-block",width:g,height:g,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[i]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${wt(r(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${wt(r(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${i}:hover`]:{[`&::before, ${i}-actions`]:{opacity:1}},[`${i}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`\n            ${n}-eye,\n            ${n}-download,\n            ${n}-delete\n          `]:{zIndex:10,width:o,margin:`0 ${wt(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:l,"&:hover":{color:l},svg:{verticalAlign:"baseline"}}},[`${i}-thumbnail, ${i}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${i}-name`]:{display:"none",textAlign:"center"},[`${i}-file + ${i}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${wt(r(e.paddingXS).mul(2).equal())})`},[`${i}-uploading`]:{[`&${i}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${i}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${wt(r(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},BM=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},kM=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Ja(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},WM=Ui("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:o,controlHeightLG:l,calc:r}=e,a=Ni(e,{uploadThumbnailSize:r(t).mul(2).equal(),uploadProgressOffset:r(r(n).div(2)).add(o).equal(),uploadPicCardSize:r(l).mul(2.55).equal()});return[kM(a),pM(a),GM(a),SM(a),hM(a),ZM(a),BM(a),ib(a)]},e=>({actionsColor:e.colorIcon}));const VM={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};var RM=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:VM}))};const wM=t.forwardRef(RM);const XM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};var JM=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:XM}))};const HM=t.forwardRef(JM);const xM={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};var YM=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:xM}))};const NM=t.forwardRef(YM);function EM(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function FM(e,t){const n=Ye(t),o=n.findIndex(t=>{let{uid:n}=t;return n===e.uid});return-1===o?n.push(e):n[o]=e,n}function KM(e,t){const n=void 0!==e.uid?"uid":"name";return t.filter(t=>t[n]===e[n])[0]}const MM=e=>0===e.indexOf("image/"),zM=e=>{if(e.type&&!e.thumbUrl)return MM(e.type);const t=e.thumbUrl||e.url||"",n=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},LM=200;function DM(e){return new Promise(t=>{if(!e.type||!MM(e.type))return void t("");const n=document.createElement("canvas");n.width=LM,n.height=LM,n.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",document.body.appendChild(n);const o=n.getContext("2d"),l=new Image;if(l.onload=()=>{const{width:e,height:r}=l;let a=LM,i=LM,g=0,c=0;e>r?(i=r*(LM/e),c=-(i-a)/2):(a=e*(LM/r),g=-(a-i)/2),o.drawImage(l,g,c,a,i);const s=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(l.src),t(s)},l.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const t=new FileReader;t.onload=()=>{t.result&&"string"===typeof t.result&&(l.src=t.result)},t.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else l.src=window.URL.createObjectURL(e)})}const TM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var jM=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:TM}))};const OM=t.forwardRef(jM);const UM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var QM=function(e,n){return t.createElement(mi,$t({},e,{ref:n,icon:UM}))};const $M=t.forwardRef(QM),PM=t.forwardRef((e,n)=>{let{prefixCls:o,className:l,style:r,locale:a,listType:i,file:g,items:c,progress:s,iconRender:d,actionIconRender:I,itemRender:C,isImgUrl:u,showPreviewIcon:m,showRemoveIcon:A,showDownloadIcon:b,previewIcon:p,removeIcon:h,downloadIcon:f,extra:y,onPreview:v,onDownload:Z,onClose:G}=e;var S,B;const{status:k}=g,[W,V]=t.useState(k);t.useEffect(()=>{"removed"!==k&&V(k)},[k]);const[R,w]=t.useState(!1);t.useEffect(()=>{const e=setTimeout(()=>{w(!0)},300);return()=>{clearTimeout(e)}},[]);const X=d(g);let J=t.createElement("div",{className:`${o}-icon`},X);if("picture"===i||"picture-card"===i||"picture-circle"===i)if("uploading"===W||!g.thumbUrl&&!g.url){const e=Ol()(`${o}-list-item-thumbnail`,{[`${o}-list-item-file`]:"uploading"!==W});J=t.createElement("div",{className:e},X)}else{const e=(null===u||void 0===u?void 0:u(g))?t.createElement("img",{src:g.thumbUrl||g.url,alt:g.name,className:`${o}-list-item-image`,crossOrigin:g.crossOrigin}):X,n=Ol()(`${o}-list-item-thumbnail`,{[`${o}-list-item-file`]:u&&!u(g)});J=t.createElement("a",{className:n,onClick:e=>v(g,e),href:g.url||g.thumbUrl,target:"_blank",rel:"noopener noreferrer"},e)}const H=Ol()(`${o}-list-item`,`${o}-list-item-${W}`),x="string"===typeof g.linkProps?JSON.parse(g.linkProps):g.linkProps,Y=("function"===typeof A?A(g):A)?I(("function"===typeof h?h(g):h)||t.createElement(OM,null),()=>G(g),o,a.removeFile,!0):null,N=("function"===typeof b?b(g):b)&&"done"===W?I(("function"===typeof f?f(g):f)||t.createElement($M,null),()=>Z(g),o,a.downloadFile):null,E="picture-card"!==i&&"picture-circle"!==i&&t.createElement("span",{key:"download-delete",className:Ol()(`${o}-list-item-actions`,{picture:"picture"===i})},N,Y),F="function"===typeof y?y(g):y,K=F&&t.createElement("span",{className:`${o}-list-item-extra`},F),M=Ol()(`${o}-list-item-name`),z=g.url?t.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:M,title:g.name},x,{href:g.url,onClick:e=>v(g,e)}),g.name,K):t.createElement("span",{key:"view",className:M,onClick:e=>v(g,e),title:g.name},g.name,K),L=("function"===typeof m?m(g):m)&&(g.url||g.thumbUrl)?t.createElement("a",{href:g.url||g.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>v(g,e),title:a.previewFile},"function"===typeof p?p(g):p||t.createElement(mN,null)):null,D=("picture-card"===i||"picture-circle"===i)&&"uploading"!==W&&t.createElement("span",{className:`${o}-list-item-actions`},L,"done"===W&&N,Y),{getPrefixCls:T}=t.useContext(Rl),j=T(),O=t.createElement("div",{className:H},J,z,E,D,R&&t.createElement(pa,{motionName:`${j}-fade`,visible:"uploading"===W,motionDeadline:2e3},e=>{let{className:n}=e;const l="percent"in g?t.createElement(BE,Object.assign({type:"line",percent:g.percent,"aria-label":g["aria-label"],"aria-labelledby":g["aria-labelledby"]},s)):null;return t.createElement("div",{className:Ol()(`${o}-list-item-progress`,n)},l)})),U=g.response&&"string"===typeof g.response?g.response:(null===(S=g.error)||void 0===S?void 0:S.statusText)||(null===(B=g.error)||void 0===B?void 0:B.message)||a.uploadError,Q="error"===W?t.createElement(zI,{title:U,getPopupContainer:e=>e.parentNode},O):O;return t.createElement("div",{className:Ol()(`${o}-list-item-container`,l),style:r,ref:n},C?C(Q,g,c,{download:Z.bind(null,g),preview:v.bind(null,g),remove:G.bind(null,g)}):Q)}),qM=PM,_M=(e,n)=>{const{listType:o="text",previewFile:l=DM,onPreview:r,onDownload:a,onRemove:i,locale:g,iconRender:c,isImageUrl:s=zM,prefixCls:d,items:I=[],showPreviewIcon:C=!0,showRemoveIcon:u=!0,showDownloadIcon:m=!1,removeIcon:A,previewIcon:b,downloadIcon:p,extra:h,progress:f={size:[-1,2],showInfo:!1},appendAction:y,appendActionVisible:v=!0,itemRender:Z,disabled:G}=e,S=yh(),[B,k]=t.useState(!1),W=["picture-card","picture-circle"].includes(o);t.useEffect(()=>{o.startsWith("picture")&&(I||[]).forEach(e=>{(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",null===l||void 0===l||l(e.originFileObj).then(t=>{e.thumbUrl=t||"",S()}))})},[o,I,l]),t.useEffect(()=>{k(!0)},[]);const V=(e,t)=>{if(r)return null===t||void 0===t||t.preventDefault(),r(e)},R=e=>{"function"===typeof a?a(e):e.url&&window.open(e.url)},w=e=>{null===i||void 0===i||i(e)},X=e=>{if(c)return c(e,o);const n="uploading"===e.status;if(o.startsWith("picture")){const l="picture"===o?t.createElement(Hu,null):g.uploading,r=(null===s||void 0===s?void 0:s(e))?t.createElement(NM,null):t.createElement(wM,null);return n?l:r}return n?t.createElement(Hu,null):t.createElement(HM,null)},J=(e,n,o,l,r)=>{const a={type:"text",size:"small",title:l,onClick:o=>{var l,r;n(),t.isValidElement(e)&&(null===(r=(l=e.props).onClick)||void 0===r||r.call(l,o))},className:`${o}-list-item-action`,disabled:!!r&&G};return t.isValidElement(e)?t.createElement(bh,Object.assign({},a,{icon:dI(e,Object.assign(Object.assign({},e.props),{onClick:()=>{}}))})):t.createElement(bh,Object.assign({},a),t.createElement("span",null,e))};t.useImperativeHandle(n,()=>({handlePreview:V,handleDownload:R}));const{getPrefixCls:H}=t.useContext(Rl),x=H("upload",d),Y=H(),N=Ol()(`${x}-list`,`${x}-list-${o}`),E=t.useMemo(()=>Pa(_d(Y),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[Y]),F=Object.assign(Object.assign({},W?{}:E),{motionDeadline:2e3,motionName:`${x}-${W?"animate-inline":"animate"}`,keys:Ye(I.map(e=>({key:e.uid,file:e}))),motionAppear:B});return t.createElement("div",{className:N},t.createElement(ba,Object.assign({},F,{component:!1}),e=>{let{key:n,file:l,className:r,style:a}=e;return t.createElement(qM,{key:n,locale:g,prefixCls:x,className:r,style:a,file:l,items:I,progress:f,listType:o,isImgUrl:s,showPreviewIcon:C,showRemoveIcon:u,showDownloadIcon:m,removeIcon:A,previewIcon:b,downloadIcon:p,extra:h,iconRender:X,actionIconRender:J,itemRender:Z,onPreview:V,onDownload:R,onClose:w})}),y&&t.createElement(pa,Object.assign({},F,{visible:v,forceRender:!0}),e=>{let{className:t,style:n}=e;return dI(y,e=>({className:Ol()(e.className,t),style:Object.assign(Object.assign(Object.assign({},n),{pointerEvents:t?"none":void 0}),e.style)}))}))};const ez=t.forwardRef(_M);var tz=function(e,t,n,o){return new(n||(n=Promise))(function(l,r){function a(e){try{g(o.next(e))}catch(PV){r(PV)}}function i(e){try{g(o.throw(e))}catch(PV){r(PV)}}function g(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}g((o=o.apply(e,t||[])).next())})};const nz=`__LIST_IGNORE_${Date.now()}__`,oz=(e,n)=>{const{fileList:o,defaultFileList:l,onRemove:r,showUploadList:a=!0,listType:i="text",onPreview:g,onDownload:s,onChange:d,onDrop:I,previewFile:C,disabled:u,locale:m,iconRender:A,isImageUrl:b,progress:p,prefixCls:h,className:f,type:y="select",children:v,style:Z,itemRender:G,maxCount:S,data:B={},multiple:k=!1,hasControlInside:W=!0,action:V="",accept:R="",supportServerRender:w=!0,rootClassName:X}=e,J=t.useContext(El),H=null!==u&&void 0!==u?u:J,[x,Y]=Gr(l||[],{value:o,postState:e=>null!==e&&void 0!==e?e:[]}),[N,E]=t.useState("drop"),F=t.useRef(null),K=t.useRef(null);t.useMemo(()=>{const e=Date.now();(o||[]).forEach((t,n)=>{t.uid||Object.isFrozen(t)||(t.uid=`__AUTO__${e}_${n}__`)})},[o]);const M=(e,t,n)=>{let o=Ye(t),l=!1;1===S?o=o.slice(-1):S&&(l=o.length>S,o=o.slice(0,S)),(0,c.flushSync)(()=>{Y(o)});const r={file:e,fileList:o};n&&(r.event=n),l&&"removed"!==e.status&&!o.some(t=>t.uid===e.uid)||(0,c.flushSync)(()=>{null===d||void 0===d||d(r)})},z=e=>{const t=e.filter(e=>!e.file[nz]);if(!t.length)return;const n=t.map(e=>EM(e.file));let o=Ye(x);n.forEach(e=>{o=FM(e,o)}),n.forEach((e,n)=>{let l=e;if(t[n].parsedFile)e.status="uploading";else{const{originFileObj:t}=e;let n;try{n=new File([t],t.name,{type:t.type})}catch(r){n=new Blob([t],{type:t.type}),n.name=t.name,n.lastModifiedDate=new Date,n.lastModified=(new Date).getTime()}n.uid=e.uid,l=n}M(l,o)})},L=(e,t,n)=>{try{"string"===typeof e&&(e=JSON.parse(e))}catch(r){}if(!KM(t,x))return;const o=EM(t);o.status="done",o.percent=100,o.response=e,o.xhr=n;const l=FM(o,x);M(o,l)},D=(e,t)=>{if(!KM(t,x))return;const n=EM(t);n.status="uploading",n.percent=e.percent;const o=FM(n,x);M(n,o,e)},T=(e,t,n)=>{if(!KM(n,x))return;const o=EM(n);o.error=e,o.response=t,o.status="error";const l=FM(o,x);M(o,l)},j=e=>{let t;Promise.resolve("function"===typeof r?r(e):r).then(n=>{var o;if(!1===n)return;const l=function(e,t){const n=void 0!==e.uid?"uid":"name",o=t.filter(t=>t[n]!==e[n]);return o.length===t.length?null:o}(e,x);l&&(t=Object.assign(Object.assign({},e),{status:"removed"}),null===x||void 0===x||x.forEach(e=>{const n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")}),null===(o=F.current)||void 0===o||o.abort(t),M(t,l))})},O=e=>{E(e.type),"drop"===e.type&&(null===I||void 0===I||I(e))};t.useImperativeHandle(n,()=>({onBatchStart:z,onSuccess:L,onProgress:D,onError:T,fileList:x,upload:F.current,nativeElement:K.current}));const{getPrefixCls:U,direction:Q,upload:$}=t.useContext(Rl),P=U("upload",h),q=Object.assign(Object.assign({onBatchStart:z,onError:T,onProgress:D,onSuccess:L},e),{data:B,multiple:k,action:V,accept:R,supportServerRender:w,prefixCls:P,disabled:H,beforeUpload:(t,n)=>tz(void 0,void 0,void 0,function*(){const{beforeUpload:o,transformFile:l}=e;let r=t;if(o){const e=yield o(t,n);if(!1===e)return!1;if(delete t[nz],e===nz)return Object.defineProperty(t,nz,{value:!0,configurable:!0}),!1;"object"===typeof e&&e&&(r=e)}return l&&(r=yield l(r)),r}),onChange:void 0,hasControlInside:W});delete q.className,delete q.style,v&&!H||delete q.id;const _=`${P}-wrapper`,[ee,te,ne]=WM(P,_),[oe]=tc("Upload",vo.Upload),{showRemoveIcon:le,showPreviewIcon:re,showDownloadIcon:ae,removeIcon:ie,previewIcon:ge,downloadIcon:ce,extra:se}="boolean"===typeof a?{}:a,de="undefined"===typeof le?!H:le,Ie=(e,n)=>a?t.createElement(ez,{prefixCls:P,listType:i,items:x,previewFile:C,onPreview:g,onDownload:s,onRemove:j,showRemoveIcon:de,showPreviewIcon:re,showDownloadIcon:ae,removeIcon:ie,previewIcon:ge,downloadIcon:ce,iconRender:A,extra:se,locale:Object.assign(Object.assign({},oe),m),isImageUrl:b,progress:p,appendAction:e,appendActionVisible:n,itemRender:G,disabled:H}):e,Ce=Ol()(_,f,X,te,ne,null===$||void 0===$?void 0:$.className,{[`${P}-rtl`]:"rtl"===Q,[`${P}-picture-card-wrapper`]:"picture-card"===i,[`${P}-picture-circle-wrapper`]:"picture-circle"===i}),ue=Object.assign(Object.assign({},null===$||void 0===$?void 0:$.style),Z);if("drag"===y){const e=Ol()(te,P,`${P}-drag`,{[`${P}-drag-uploading`]:x.some(e=>"uploading"===e.status),[`${P}-drag-hover`]:"dragover"===N,[`${P}-disabled`]:H,[`${P}-rtl`]:"rtl"===Q});return ee(t.createElement("span",{className:Ce,ref:K},t.createElement("div",{className:e,style:ue,onDrop:O,onDragOver:O,onDragLeave:O},t.createElement(bM,Object.assign({},q,{ref:F,className:`${P}-btn`}),t.createElement("div",{className:`${P}-drag-container`},v))),Ie()))}const me=Ol()(P,`${P}-select`,{[`${P}-disabled`]:H,[`${P}-hidden`]:!v}),Ae=t.createElement("div",{className:me,style:ue},t.createElement(bM,Object.assign({},q,{ref:F})));return ee("picture-card"===i||"picture-circle"===i?t.createElement("span",{className:Ce,ref:K},Ie(Ae,!!v)):t.createElement("span",{className:Ce,ref:K},Ae,Ie()))};const lz=t.forwardRef(oz);var rz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const az=t.forwardRef((e,n)=>{var{style:o,height:l,hasControlInside:r=!1}=e,a=rz(e,["style","height","hasControlInside"]);return t.createElement(lz,Object.assign({ref:n,hasControlInside:r},a,{type:"drag",style:Object.assign(Object.assign({},o),{height:l})}))});const iz=az,gz=lz;gz.Dragger=iz,gz.LIST_IGNORE=nz;const cz=gz;const sz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function dz(){return dz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},dz.apply(this,arguments)}const Iz=(e,n)=>t.createElement(rK,dz({},e,{ref:n,icon:sz}));const Cz=t.forwardRef(Iz);const uz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function mz(){return mz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mz.apply(this,arguments)}const Az=(e,n)=>t.createElement(rK,mz({},e,{ref:n,icon:uz}));const bz=t.forwardRef(Az),{Option:pz}=MG;function hz(e){let{onUserAdded:n}=e;const[o]=qY.useForm(),[l,r]=(0,t.useState)(null),[i,g]=(0,t.useState)(!1),[c,s]=(0,t.useState)(""),[d,I]=(0,t.useState)(""),[C,u]=(0,t.useState)(""),m=["Christopher Sea Scouts (Open)","District Rover Crew Jaffna","J/Ariyalai Sri Parwathy Vidyalayam","J/Canagaratnam MMV","J/Chedditheru MMTM School","J/Columbuththurai Hindu MV","J/Delft Mankaiyatkarasi Vidyalayam","J/Delft MV","J/Delft RC Vidyalayam","J/Delft Saivapiragasa Vidyalayam","J/Delft Seekkiriyampallam GTMS","J/Delft Sriskantha Vidyalayam","J/Delft Subramaniyam Vidyalayam","J/Hindu Ladies Primary School","J/Jaffna Central College","J/Jaffna Hindu College","J/Jaffna Hindu Primary School","J/Kalviyankadu HTMS","J/Koddady Namasivaya Vid","J/Kokuvil East Namakal Vidyalayam","J/Kokuvil Hindu College","J/Kokuvil Hindu Primary School","J/Kokuvil Sthana CCTM School","J/Kokuvil Sri Ramakrina Vidyasalai","J/Kokuvil West CCTM School","J/Kondavil CCTM School","J/Kondavil Ramakrishna Vid","J/Kondavil RCTM School","J/Mavilithurai RCTM Vidyalayam","J/Nallur Anipanthi MMV","J/Nallur Kasipillai Vidalayam","J/Nallur St Benedict RCV","J/Osmania College","J/Parameswara VID","J/Passaioor St Antony's Girls Vid","J/Poompukar GTMS","J/St James Girls Maha Vidyalayam","J/St James Maha Vidyalayam","J/St John Bosco Vid","J/St John's College","J/St Patrick's College","J/Thirunelvely RCTMS","J/Urapulam MV","J/Vaidyeshwara College","J/Vannai Navalar MV"].sort();return(0,WK.jsx)("div",{className:"fade-in-up",children:(0,WK.jsxs)(Ey,{title:(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",color:"#1a1a2e"},children:[(0,WK.jsx)(IK,{style:{marginRight:8,color:"#00cec8"}}),"Add New User"]}),className:"shadow-medium",style:{maxWidth:800,margin:"0 auto",background:"linear-gradient(135deg, #ffffff 0%, #f8fffe 100%)"},children:[c&&(0,WK.jsx)(Ey,{size:"small",style:{marginBottom:24,background:"#e8f5e8"},children:(0,WK.jsxs)("div",{style:{textAlign:"center"},children:[(0,WK.jsx)("strong",{style:{color:"#52c41a"},children:"\u2705 User Created Successfully!"}),(0,WK.jsx)("br",{}),(0,WK.jsx)("span",{style:{color:"#1a1a2e"},children:"Assigned ID: "}),(0,WK.jsx)("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:4},children:c})]})}),(0,WK.jsxs)(qY,{form:o,layout:"vertical",onFinish:async e=>{g(!0);try{let t="";l&&(t=await oM(l));const a={...e,dateOfBirth:e.dateOfBirth?e.dateOfBirth.format("YYYY-MM-DD"):"",profilePic:t},i=localStorage.getItem("token"),g=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(a)}),c=await g.json();g.ok?(OB.success("User added successfully!"),s(c.user._id),o.resetFields(),I(""),r(null),u(""),n&&n(c.user)):OB.error(c.message||"Failed to add user")}catch(t){OB.error("Failed to add user")}finally{g(!1)}},autoComplete:"off",children:[(0,WK.jsxs)(Jh,{gutter:[24,16],children:[(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Full Name"}),name:"name",rules:[{required:!0,message:"Please enter full name"}],children:(0,WK.jsx)(SN,{size:"large",placeholder:"Enter full name",style:{borderRadius:8}})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Email Address"}),name:"email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter valid email"}],children:(0,WK.jsx)(SN,{size:"large",placeholder:"Enter email address",style:{borderRadius:8}})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Phone Number"}),name:"phoneNumber",rules:[{required:!0,message:"Please enter phone number"}],children:(0,WK.jsx)(SN,{size:"large",placeholder:"Enter phone number",style:{borderRadius:8}})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"NIC Number"}),name:"nic",rules:[{required:!0,message:"Please enter NIC number"}],children:(0,WK.jsx)(SN,{size:"large",placeholder:"Enter NIC number",style:{borderRadius:8}})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Password"}),name:"password",rules:[{required:!0,message:"Please enter password"}],children:(0,WK.jsx)(SN.Password,{size:"large",placeholder:"Enter password",style:{borderRadius:8}})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Date of Birth"}),name:"dateOfBirth",rules:[{required:!0,message:"Please select date of birth"}],children:(0,WK.jsx)(cY,{size:"large",style:{width:"100%",borderRadius:8},onChange:e=>{if(e){const t=a()();let n=t.year()-e.year();const o=t.month()-e.month();(o<0||0===o&&t.date()<e.date())&&n--,I(n>0?n:"")}else I("")},placeholder:"Select date of birth"})})}),d&&(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Age"}),children:(0,WK.jsx)(SN,{size:"large",value:d,readOnly:!0,style:{borderRadius:8,background:"#f8fffe",color:"#00cec8",fontWeight:600}})})}),(0,WK.jsx)(Fh,{xs:24,children:(0,WK.jsx)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"School"}),name:"school",rules:[{required:!0,message:"Please select school"}],children:(0,WK.jsx)(MG,{showSearch:!0,size:"large",placeholder:"Select or search school",style:{borderRadius:8},filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0,children:m.map(e=>(0,WK.jsx)(pz,{value:e,children:e},e))})})}),(0,WK.jsx)(Fh,{xs:24,children:(0,WK.jsxs)(qY.Item,{label:(0,WK.jsx)("span",{style:{color:"#1a1a2e",fontWeight:500},children:"Profile Photo"}),children:[(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,WK.jsx)(cz,{beforeUpload:()=>!1,onChange:e=>{const t=e.file.originFileObj||e.file;if(t){r(t);const e=new FileReader;e.onload=e=>u(e.target.result),e.readAsDataURL(t)}},accept:"image/*",showUploadList:!1,children:(0,WK.jsx)(bh,{icon:(0,WK.jsx)(Cz,{}),size:"large",style:{borderRadius:8},children:"Choose Photo"})}),C&&(0,WK.jsx)(eB,{src:C,size:64,style:{border:"3px solid #00cec8"}})]}),l&&(0,WK.jsxs)("div",{style:{marginTop:8,color:"#00cec8"},children:["Selected: ",l.name]})]})})]}),(0,WK.jsx)("div",{style:{textAlign:"center",marginTop:32},children:(0,WK.jsx)(bh,{type:"primary",htmlType:"submit",loading:i,size:"large",icon:(0,WK.jsx)(bz,{}),style:{minWidth:200,height:48,borderRadius:8,fontSize:16,fontWeight:600},children:i?"Adding User...":"Add User"})})]})]})})}function fz(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function yz(e){const{closable:n,closeIcon:o}=e||{};return t.useMemo(()=>{if(!n&&(!1===n||!1===o||null===o))return!1;if(void 0===n&&void 0===o)return null;let e={closeIcon:"boolean"!==typeof o&&null!==o?o:void 0};return n&&"object"===typeof n&&(e=Object.assign(Object.assign({},e),n)),e},[n,o])}const vz={};function Zz(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vz;const l=yz(e),r=yz(n),[a]=tc("global",vo.global),i="boolean"!==typeof l&&!!(null===l||void 0===l?void 0:l.disabled),g=t.useMemo(()=>Object.assign({closeIcon:t.createElement(mf,null)},o),[o]),c=t.useMemo(()=>!1!==l&&(l?tv(g,r,l):!1!==r&&(r?tv(g,r):!!g.closable&&g)),[l,r,g]);return t.useMemo(()=>{if(!1===c)return[!1,null,i,{}];const{closeIconRender:e}=g,{closeIcon:n}=c;let o=n;const l=My(c,!0);return null!==o&&void 0!==o&&(e&&(o=e(n)),o=t.isValidElement(o)?t.cloneElement(o,Object.assign({"aria-label":a.close},l)):t.createElement("span",Object.assign({"aria-label":a.close},l),o)),[!0,o,i,l]},[c,g])}const Gz=e=>{const{lineWidth:t,fontSizeIcon:n,calc:o}=e,l=e.fontSizeSM;return Ni(e,{tagFontSize:l,tagLineHeight:wt(o(e.lineHeightSM).mul(l).equal()),tagIconSize:o(n).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},Sz=e=>({defaultBg:new Jo(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),Bz=Ui("Tag",e=>(e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:o,componentCls:l,calc:r}=e,a=r(o).sub(n).equal(),i=r(t).sub(n).equal();return{[l]:Object.assign(Object.assign({},Ja(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:a,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${l}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${l}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${l}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${l}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:a}}),[`${l}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(Gz(e)),Sz);var kz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Wz=t.forwardRef((e,n)=>{const{prefixCls:o,style:l,className:r,checked:a,onChange:i,onClick:g}=e,c=kz(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:s,tag:d}=t.useContext(Rl),I=s("tag",o),[C,u,m]=Bz(I),A=Ol()(I,`${I}-checkable`,{[`${I}-checkable-checked`]:a},null===d||void 0===d?void 0:d.className,r,u,m);return C(t.createElement("span",Object.assign({},c,{ref:n,style:Object.assign(Object.assign({},l),null===d||void 0===d?void 0:d.style),className:A,onClick:e=>{null===i||void 0===i||i(!a),null===g||void 0===g||g(e)}})))}),Vz=Wz,Rz=$i(["Tag","preset"],e=>(e=>RI(e,(t,n)=>{let{textColor:o,lightBorderColor:l,lightColor:r,darkColor:a}=n;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:r,borderColor:l,"&-inverse":{color:e.colorTextLightSolid,background:a,borderColor:a},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}))(Gz(e)),Sz);const wz=(e,t,n)=>{const o="string"!==typeof(l=n)?l:l.charAt(0).toUpperCase()+l.slice(1);var l;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},Xz=$i(["Tag","status"],e=>{const t=Gz(e);return[wz(t,"success","Success"),wz(t,"processing","Info"),wz(t,"error","Error"),wz(t,"warning","Warning")]},Sz);var Jz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Hz=t.forwardRef((e,n)=>{const{prefixCls:o,className:l,rootClassName:r,style:a,children:i,icon:g,color:c,onClose:s,bordered:d=!0,visible:I}=e,C=Jz(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:u,direction:m,tag:A}=t.useContext(Rl),[b,p]=t.useState(!0),h=Pa(C,["closeIcon","closable"]);t.useEffect(()=>{void 0!==I&&p(I)},[I]);const f=YI(c),y=function(e){return xI.includes(e)}(c),v=f||y,Z=Object.assign(Object.assign({backgroundColor:c&&!v?c:void 0},null===A||void 0===A?void 0:A.style),a),G=u("tag",o),[S,B,k]=Bz(G),W=Ol()(G,null===A||void 0===A?void 0:A.className,{[`${G}-${c}`]:v,[`${G}-has-color`]:c&&!v,[`${G}-hidden`]:!b,[`${G}-rtl`]:"rtl"===m,[`${G}-borderless`]:!d},l,r,B,k),V=e=>{e.stopPropagation(),null===s||void 0===s||s(e),e.defaultPrevented||p(!1)},[,R]=Zz(fz(e),fz(A),{closable:!1,closeIconRender:e=>sI(e,t.createElement("span",{className:`${G}-close-icon`,onClick:V},e),e=>({onClick:t=>{var n;null===(n=null===e||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,t),V(t)},className:Ol()(null===e||void 0===e?void 0:e.className,`${G}-close-icon`)}))}),w="function"===typeof C.onClick||i&&"a"===i.type,X=g||null,J=X?t.createElement(t.Fragment,null,X,i&&t.createElement("span",null,i)):i,H=t.createElement("span",Object.assign({},h,{ref:n,className:W,style:Z}),J,R,f&&t.createElement(Rz,{key:"preset",prefixCls:G}),y&&t.createElement(Xz,{key:"status",prefixCls:G}));return S(w?t.createElement(rp,{component:"Tag"},H):H)}),xz=Hz;xz.CheckableTag=Vz;const Yz=xz,Nz={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},Ez=t.createContext({});var Fz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function Kz(e,n,o){const l=t.useMemo(()=>n||_a(o).map(e=>Object.assign(Object.assign({},null===e||void 0===e?void 0:e.props),{key:e.key})),[n,o]);return t.useMemo(()=>l.map(t=>{var{span:n}=t,o=Fz(t,["span"]);return"filled"===n?Object.assign(Object.assign({},o),{filled:!0}):Object.assign(Object.assign({},o),{span:"number"===typeof n?n:hh(e,n)})}),[l,e])}var Mz=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const zz=(e,n)=>{const[o,l]=(0,t.useMemo)(()=>function(e,t){let n=[],o=[],l=!1,r=0;return e.filter(e=>e).forEach(e=>{const{filled:a}=e,i=Mz(e,["filled"]);if(a)return o.push(i),n.push(o),o=[],void(r=0);const g=t-r;r+=e.span||1,r>=t?(r>t?(l=!0,o.push(Object.assign(Object.assign({},i),{span:g}))):o.push(i),n.push(o),o=[],r=0):o.push(i)}),o.length>0&&n.push(o),n=n.map(e=>{const n=e.reduce((e,t)=>e+(t.span||1),0);if(n<t){const o=e[e.length-1];return o.span=t-(n-(o.span||1)),e}return e}),[n,l]}(n,e),[n,e]);return o},Lz=e=>{let{children:t}=e;return t};function Dz(e){return void 0!==e&&null!==e}const Tz=e=>{const{itemPrefixCls:n,component:o,span:l,className:r,style:a,labelStyle:i,contentStyle:g,bordered:c,label:s,content:d,colon:I,type:C,styles:u}=e,m=o,A=t.useContext(Ez),{classNames:b}=A;return c?t.createElement(m,{className:Ol()({[`${n}-item-label`]:"label"===C,[`${n}-item-content`]:"content"===C,[`${null===b||void 0===b?void 0:b.label}`]:"label"===C,[`${null===b||void 0===b?void 0:b.content}`]:"content"===C},r),style:a,colSpan:l},Dz(s)&&t.createElement("span",{style:Object.assign(Object.assign({},i),null===u||void 0===u?void 0:u.label)},s),Dz(d)&&t.createElement("span",{style:Object.assign(Object.assign({},i),null===u||void 0===u?void 0:u.content)},d)):t.createElement(m,{className:Ol()(`${n}-item`,r),style:a,colSpan:l},t.createElement("div",{className:`${n}-item-container`},(s||0===s)&&t.createElement("span",{className:Ol()(`${n}-item-label`,null===b||void 0===b?void 0:b.label,{[`${n}-item-no-colon`]:!I}),style:Object.assign(Object.assign({},i),null===u||void 0===u?void 0:u.label)},s),(d||0===d)&&t.createElement("span",{className:Ol()(`${n}-item-content`,null===b||void 0===b?void 0:b.content),style:Object.assign(Object.assign({},g),null===u||void 0===u?void 0:u.content)},d)))};function jz(e,n,o){let{colon:l,prefixCls:r,bordered:a}=n,{component:i,type:g,showLabel:c,showContent:s,labelStyle:d,contentStyle:I,styles:C}=o;return e.map((e,n)=>{let{label:o,children:u,prefixCls:m=r,className:A,style:b,labelStyle:p,contentStyle:h,span:f=1,key:y,styles:v}=e;return"string"===typeof i?t.createElement(Tz,{key:`${g}-${y||n}`,className:A,style:b,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},d),null===C||void 0===C?void 0:C.label),p),null===v||void 0===v?void 0:v.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},I),null===C||void 0===C?void 0:C.content),h),null===v||void 0===v?void 0:v.content)},span:f,colon:l,component:i,itemPrefixCls:m,bordered:a,label:c?o:null,content:s?u:null,type:g}):[t.createElement(Tz,{key:`label-${y||n}`,className:A,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),null===C||void 0===C?void 0:C.label),b),p),null===v||void 0===v?void 0:v.label),span:1,colon:l,component:i[0],itemPrefixCls:m,bordered:a,label:o,type:"label"}),t.createElement(Tz,{key:`content-${y||n}`,className:A,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},I),null===C||void 0===C?void 0:C.content),b),h),null===v||void 0===v?void 0:v.content),span:2*f-1,component:i[1],itemPrefixCls:m,bordered:a,content:u,type:"content"})]})}const Oz=e=>{const n=t.useContext(Ez),{prefixCls:o,vertical:l,row:r,index:a,bordered:i}=e;return l?t.createElement(t.Fragment,null,t.createElement("tr",{key:`label-${a}`,className:`${o}-row`},jz(r,e,Object.assign({component:"th",type:"label",showLabel:!0},n))),t.createElement("tr",{key:`content-${a}`,className:`${o}-row`},jz(r,e,Object.assign({component:"td",type:"content",showContent:!0},n)))):t.createElement("tr",{key:a,className:`${o}-row`},jz(r,e,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},Uz=e=>{const{componentCls:t,labelBg:n}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${wt(e.padding)} ${wt(e.paddingLG)}`,borderInlineEnd:`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${wt(e.paddingSM)} ${wt(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${wt(e.paddingXS)} ${wt(e.padding)}`}}}}}},Qz=Ui("Descriptions",e=>(e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:o,itemPaddingEnd:l,colonMarginRight:r,colonMarginLeft:a,titleMarginBottom:i}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Ja(e)),Uz(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:i},[`${t}-title`]:Object.assign(Object.assign({},Xa),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:o,paddingInlineEnd:l},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${wt(a)} ${wt(r)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}})(Ni(e,{})),e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}));var $z=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Pz=e=>{const{prefixCls:n,title:o,extra:l,column:r,colon:a=!0,bordered:i,layout:g,children:c,className:s,rootClassName:d,style:I,size:C,labelStyle:u,contentStyle:m,styles:A,items:b,classNames:p}=e,h=$z(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:f,direction:y,className:v,style:Z,classNames:G,styles:S}=Jl("descriptions"),B=f("descriptions",n),k=vh();const W=t.useMemo(()=>{var e;return"number"===typeof r?r:null!==(e=hh(k,Object.assign(Object.assign({},Nz),r)))&&void 0!==e?e:3},[k,r]),V=Kz(k,b,c),R=Rd(C),w=zz(W,V),[X,J,H]=Qz(B),x=t.useMemo(()=>({labelStyle:u,contentStyle:m,styles:{content:Object.assign(Object.assign({},S.content),null===A||void 0===A?void 0:A.content),label:Object.assign(Object.assign({},S.label),null===A||void 0===A?void 0:A.label)},classNames:{label:Ol()(G.label,null===p||void 0===p?void 0:p.label),content:Ol()(G.content,null===p||void 0===p?void 0:p.content)}}),[u,m,A,p,G,S]);return X(t.createElement(Ez.Provider,{value:x},t.createElement("div",Object.assign({className:Ol()(B,v,G.root,null===p||void 0===p?void 0:p.root,{[`${B}-${R}`]:R&&"default"!==R,[`${B}-bordered`]:!!i,[`${B}-rtl`]:"rtl"===y},s,d,J,H),style:Object.assign(Object.assign(Object.assign(Object.assign({},Z),S.root),null===A||void 0===A?void 0:A.root),I)},h),(o||l)&&t.createElement("div",{className:Ol()(`${B}-header`,G.header,null===p||void 0===p?void 0:p.header),style:Object.assign(Object.assign({},S.header),null===A||void 0===A?void 0:A.header)},o&&t.createElement("div",{className:Ol()(`${B}-title`,G.title,null===p||void 0===p?void 0:p.title),style:Object.assign(Object.assign({},S.title),null===A||void 0===A?void 0:A.title)},o),l&&t.createElement("div",{className:Ol()(`${B}-extra`,G.extra,null===p||void 0===p?void 0:p.extra),style:Object.assign(Object.assign({},S.extra),null===A||void 0===A?void 0:A.extra)},l)),t.createElement("div",{className:`${B}-view`},t.createElement("table",null,t.createElement("tbody",null,w.map((e,n)=>t.createElement(Oz,{key:n,index:n,colon:a,prefixCls:B,vertical:"vertical"===g,bordered:i,row:e}))))))))};Pz.Item=Lz;const qz=Pz,_z=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},eL=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:o,lineWidth:l,textPaddingInline:r,orientationMargin:a,verticalMarginInline:i}=e;return{[t]:Object.assign(Object.assign({},Ja(e)),{borderBlockStart:`${wt(l)} solid ${o}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${wt(l)} solid ${o}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${wt(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${wt(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${o}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${wt(l)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${a} * 100%)`},"&::after":{width:`calc(100% - ${a} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${a} * 100%)`},"&::after":{width:`calc(${a} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:r},"&-dashed":{background:"none",borderColor:o,borderStyle:"dashed",borderWidth:`${wt(l)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:o,borderStyle:"dotted",borderWidth:`${wt(l)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},tL=Ui("Divider",e=>{const t=Ni(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[eL(t),_z(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var nL=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const oL={small:"sm",middle:"md"};const lL=e=>{const{getPrefixCls:n,direction:o,className:l,style:r}=Jl("divider"),{prefixCls:a,type:i="horizontal",orientation:g="center",orientationMargin:c,className:s,rootClassName:d,children:I,dashed:C,variant:u="solid",plain:m,style:A,size:b}=e,p=nL(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),h=n("divider",a),[f,y,v]=tL(h),Z=Rd(b),G=oL[Z],S=!!I,B=t.useMemo(()=>"left"===g?"rtl"===o?"end":"start":"right"===g?"rtl"===o?"start":"end":g,[o,g]),k="start"===B&&null!=c,W="end"===B&&null!=c,V=Ol()(h,l,y,v,`${h}-${i}`,{[`${h}-with-text`]:S,[`${h}-with-text-${B}`]:S,[`${h}-dashed`]:!!C,[`${h}-${u}`]:"solid"!==u,[`${h}-plain`]:!!m,[`${h}-rtl`]:"rtl"===o,[`${h}-no-default-orientation-margin-start`]:k,[`${h}-no-default-orientation-margin-end`]:W,[`${h}-${G}`]:!!G},s,d),R=t.useMemo(()=>"number"===typeof c?c:/^\d+$/.test(c)?Number(c):c,[c]),w={marginInlineStart:k?R:void 0,marginInlineEnd:W?R:void 0};return f(t.createElement("div",Object.assign({className:V,style:Object.assign(Object.assign({},r),A)},p,{role:"separator"}),I&&"vertical"!==i&&t.createElement("span",{className:`${h}-inner-text`,style:w},I)))};const rL={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.9 283.9v.5L835.5 865c-1 8-7.9 14-15.9 14H204.5c-8.1 0-14.9-6.1-16-14l-76.4-580.6v-.6 1.6L188.5 866c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.1-.5.1-1 0-1.5z",fill:t}},{tag:"path",attrs:{d:"M773.6 810.6l53.9-409.4-139.8 86.1L512 252.9 336.3 487.3l-139.8-86.1 53.8 409.4h523.3zm-374.2-189c0-62.1 50.5-112.6 112.6-112.6s112.6 50.5 112.6 112.6v1c0 62.1-50.5 112.6-112.6 112.6s-112.6-50.5-112.6-112.6v-1z",fill:t}},{tag:"path",attrs:{d:"M512 734.2c61.9 0 112.3-50.2 112.6-112.1v-.5c0-62.1-50.5-112.6-112.6-112.6s-112.6 50.5-112.6 112.6v.5c.3 61.9 50.7 112.1 112.6 112.1zm0-160.9c26.6 0 48.2 21.6 48.2 48.3 0 26.6-21.6 48.3-48.2 48.3s-48.2-21.6-48.2-48.3c0-26.6 21.6-48.3 48.2-48.3z",fill:e}},{tag:"path",attrs:{d:"M188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6v-.5c.3-6.4-6.7-10.8-12.3-7.4L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.5-3.4-12.6.9-12.2 7.3v.6L188.5 865zm147.8-377.7L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4H250.3l-53.8-409.4 139.8 86.1z",fill:e}}]}},name:"crown",theme:"twotone"};function aL(){return aL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aL.apply(this,arguments)}const iL=(e,n)=>t.createElement(rK,aL({},e,{ref:n,icon:rL}));const gL=t.forwardRef(iL);const cL={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 480c0 49.1 19.1 95.3 53.9 130.1 34.7 34.8 81 53.9 130.1 53.9h16c49.1 0 95.3-19.1 130.1-53.9 34.8-34.7 53.9-81 53.9-130.1V184H320v296zM184 352c0 41 26.9 75.8 64 87.6-37.1-11.9-64-46.7-64-87.6zm364 382.5C665 721.8 758.4 630.2 773.8 514 758.3 630.2 665 721.7 548 734.5zM250.2 514C265.6 630.2 359 721.8 476 734.5 359 721.7 265.7 630.2 250.2 514z",fill:t}},{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM248 439.6a91.99 91.99 0 01-64-87.6V232h64v207.6zM704 480c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z",fill:e}}]}},name:"trophy",theme:"twotone"};function sL(){return sL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sL.apply(this,arguments)}const dL=(e,n)=>t.createElement(rK,sL({},e,{ref:n,icon:cL}));const IL=t.forwardRef(dL);const CL={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:t}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}}]}},name:"smile",theme:"twotone"};function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},uL.apply(this,arguments)}const mL=(e,n)=>t.createElement(rK,uL({},e,{ref:n,icon:CL}));const AL=t.forwardRef(mL),{Title:bL,Paragraph:pL,Text:hL}=im;function fL(){const{userId:e}=function(){let{matches:e}=t.useContext(_),n=e[e.length-1];return n?n.params:{}}(),n=le(),[o,l]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[g,c]=(0,t.useState)(!0),[s,d]=(0,t.useState)(""),[I,C]=(0,t.useState)(a()());function u(e){if(!e)return 0;let t=0;const n=a()().format("YYYY-MM-DD");return e.forEach(e=>{if(e.comingTime&&e.finishingTime){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm"),o=a()(`${e.date} ${e.finishingTime}`,"YYYY-MM-DD HH:mm");n.isValid()&&o.isValid()&&(t+=Math.max(0,o.diff(n,"minute")))}else if(e.comingTime&&!e.finishingTime&&e.date===n){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm");n.isValid()&&(t+=Math.max(0,I.diff(n,"minute")))}}),t}function m(e){if(0===e)return"0 hours";const t=Math.floor(e/60),n=e%60;return 0===t?`${n} min`:0===n?`${t} hours`:`${t}h ${n}m`}if((0,t.useEffect)(()=>{const e=setInterval(()=>{C(a()())},6e4);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{!async function(){c(!0),d("");try{console.log("API URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL);const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/public/${e}`);if(!t.ok)throw new Error("User not found");const n=await t.json();l(n);const o=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/public/leaderboard`);if(o.ok){const e=await o.json();i(e.slice(0,3))}else console.error("Failed to fetch leaderboard data")}catch(t){console.error("Error in UserStatusPage fetchData:",t),d("User not found or server error")}finally{c(!1)}}()},[e]),g)return(0,WK.jsx)(pS,{style:{display:"block",margin:"80px auto"}});if(s)return(0,WK.jsx)(KN,{type:"error",message:s,style:{margin:40}});if(!o)return(0,WK.jsx)(KN,{type:"error",message:"User not found or data missing.",style:{margin:40}});const A=u((null===o||void 0===o?void 0:o.attendance)||[],e),b=function(e){if(!e)return{status:"Not Started",color:"default"};const t=a()().format("YYYY-MM-DD"),n=e.find(e=>e.date===t);return n?n.comingTime&&!n.finishingTime?{status:"Active",color:"green"}:n.comingTime&&n.finishingTime?{status:"Completed Today",color:"blue"}:{status:"Not Started",color:"default"}:{status:"Not Started Today",color:"default"}}((null===o||void 0===o?void 0:o.attendance)||[]),p=function(e,t){return 0!==t.length&&t[0]._id===e}(e,r),h=function(e){if(!e)return!1;const t=a()().format("YYYY-MM-DD"),n=e.find(e=>e.date===t);return n&&n.comingTime&&!n.finishingTime}((null===o||void 0===o?void 0:o.attendance)||[]),f=[(0,WK.jsx)(gL,{twoToneColor:"#FFD700",style:{fontSize:20}}),(0,WK.jsx)(IL,{twoToneColor:"#C0C0C0",style:{fontSize:20}}),(0,WK.jsx)(IL,{twoToneColor:"#CD7F32",style:{fontSize:20}})];return(0,WK.jsx)("div",{className:"user-status-bg",children:(0,WK.jsx)(Jh,{justify:"center",style:{marginTop:40,marginBottom:40},children:(0,WK.jsxs)(Fh,{xs:24,md:20,lg:16,children:[(0,WK.jsx)("div",{style:{marginBottom:24,display:"flex",alignItems:"center"},children:(0,WK.jsxs)("button",{className:"back-btn-glass",onClick:()=>n("/"),style:{display:"flex",alignItems:"center",gap:8,border:"none",background:"none",cursor:"pointer",fontWeight:600,fontSize:16},children:[(0,WK.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"#00cec8",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,WK.jsx)("polyline",{points:"15 18 9 12 15 6"})}),(0,WK.jsx)("span",{style:{color:"#00cec8"},children:"Back"})]})}),(0,WK.jsxs)(Ey,{bordered:!1,className:"glass-card user-profile-card",style:{marginBottom:24},children:[(0,WK.jsxs)("div",{style:{textAlign:"center",marginBottom:24},children:[(0,WK.jsx)("div",{className:"avatar-glow",children:(0,WK.jsx)(eB,{src:o.profilePic,size:110,style:{marginBottom:16,border:"4px solid #fff"}})}),(0,WK.jsx)(bL,{level:2,style:{fontWeight:800,letterSpacing:1},children:o.name}),p&&(0,WK.jsxs)("div",{style:{marginBottom:16,textAlign:"center",fontWeight:700,fontSize:20,color:"#52c41a",animation:"fadeIn 1s"},children:[(0,WK.jsx)(AL,{twoToneColor:"#52c41a",style:{fontSize:32,marginRight:8}}),"\ud83c\udfc6 Congratulations! You are the top leader!"]}),(0,WK.jsx)("div",{style:{marginBottom:16},children:(0,WK.jsxs)(Yz,{color:b.color,style:{fontSize:16,padding:"6px 18px",borderRadius:20,background:"#f0fdfc",color:"#00cec8",fontWeight:600,boxShadow:"0 2px 8px #00cec833"},children:[(0,WK.jsx)(mK,{style:{marginRight:8}}),b.status,h&&(0,WK.jsx)("span",{style:{marginLeft:8},children:"\u23f1\ufe0f Live"})]})}),(0,WK.jsxs)(pL,{style:{fontSize:20,margin:0,fontWeight:600},children:["Total Duty Time: ",(0,WK.jsx)("b",{style:{color:"#00cec8"},children:m(A)}),h&&(0,WK.jsx)("span",{style:{color:"#52c41a",fontSize:16,marginLeft:10},children:"\u21bb Live"})]})]}),(0,WK.jsxs)(qz,{column:1,bordered:!0,size:"middle",className:"glass-desc",children:[(0,WK.jsx)(qz.Item,{label:"ID",children:o._id}),(0,WK.jsx)(qz.Item,{label:"Email",children:o.email}),(0,WK.jsx)(qz.Item,{label:"Phone Number",children:o.phoneNumber}),(0,WK.jsx)(qz.Item,{label:"NIC",children:o.nic}),(0,WK.jsx)(qz.Item,{label:"Date of Birth",children:o.dateOfBirth?new Date(o.dateOfBirth).toLocaleDateString():"-"}),(0,WK.jsx)(qz.Item,{label:"Age",children:o.age||"-"}),(0,WK.jsx)(qz.Item,{label:"School",children:o.school||"-"}),(0,WK.jsx)(qz.Item,{label:"Registration Time",children:new Date(o.registrationTime).toLocaleString()})]})]}),(0,WK.jsx)(Ey,{title:(0,WK.jsxs)("span",{style:{fontWeight:700,fontSize:20},children:[(0,WK.jsx)(AL,{twoToneColor:"#52c41a",style:{marginRight:8}}),"Top 3 Leadership Services"]}),bordered:!1,className:"glass-card",children:r.length>0?(0,WK.jsx)(wS,{itemLayout:"horizontal",dataSource:r,renderItem:(t,n)=>(0,WK.jsx)(wS.Item,{style:{borderRadius:12,margin:"8px 0",background:0===n?"linear-gradient(90deg, #e0ffe7 0%, #f0fdfc 100%)":"#fff",boxShadow:0===n?"0 2px 12px #b2f7ef":"none"},children:(0,WK.jsx)(wS.Item.Meta,{avatar:(0,WK.jsxs)("span",{children:[n<3?f[n]:(0,WK.jsx)(IL,{twoToneColor:"#1677ff",style:{fontSize:18}}),(0,WK.jsx)(eB,{src:t.profilePic,style:{marginLeft:6,border:0===n?"2px solid #52c41a":"none"}})]}),title:(0,WK.jsxs)("span",{style:{fontWeight:600},children:[t.name,(0,WK.jsxs)("span",{style:{color:"#888",fontSize:12,marginLeft:8},children:["(",t._id,")"]}),t._id===e&&(0,WK.jsx)(Yz,{color:"green",style:{marginLeft:8},children:"You"})]}),description:(0,WK.jsxs)("span",{children:["Duty Time: ",(0,WK.jsx)("b",{children:m(u(t.attendance,t._id))}),0===n&&(0,WK.jsx)("span",{style:{marginLeft:12,color:"#52c41a"},children:"\ud83c\udfc6 Outstanding Service!"})]})})})}):(0,WK.jsxs)("div",{style:{textAlign:"center",color:"#888",padding:20},children:[(0,WK.jsx)(AL,{twoToneColor:"#52c41a",style:{fontSize:48,marginBottom:16}}),(0,WK.jsx)("p",{children:"No leadership data available"})]})}),(0,WK.jsx)(lL,{orientation:"left",style:{fontWeight:700,fontSize:18,color:"#00cec8"},children:"Alternative Access Method"}),(0,WK.jsx)(Ey,{bordered:!1,className:"glass-card",children:(0,WK.jsxs)("div",{style:{textAlign:"center"},children:[(0,WK.jsx)(kK,{style:{fontSize:28,color:"#00cec8",marginBottom:8}}),(0,WK.jsx)(bL,{level:4,style:{color:"#00cec8",fontWeight:700},children:"Can't Scan QR Code?"}),(0,WK.jsx)(pL,{children:"Use this direct link to access your status page:"}),(0,WK.jsx)("div",{className:"copy-link-box",children:(0,WK.jsx)(hL,{code:!0,style:{fontSize:16},children:`${window.location.origin}/user/${o._id}`})}),(0,WK.jsx)(bh,{type:"primary",size:"large",className:"copy-link-btn",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/user/${o._id}`),OB.success("Link copied to clipboard!")},icon:(0,WK.jsx)(kK,{}),children:"Copy Link"}),(0,WK.jsx)(pL,{type:"secondary",style:{marginTop:16,fontSize:13},children:"Simply share this link with anyone who needs to view your status page."})]})})]})})})}function yL(e){return!!(null===e||void 0===e?void 0:e.then)}const vL=e=>{const{type:n,children:o,prefixCls:l,buttonProps:r,close:a,autoFocus:i,emitEvent:g,isSilent:c,quitOnNullishReturnValue:s,actionFn:d}=e,I=t.useRef(!1),C=t.useRef(null),[u,m]=vr(!1),A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===a||void 0===a||a.apply(void 0,t)};t.useEffect(()=>{let e=null;return i&&(e=setTimeout(()=>{var e;null===(e=C.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[]);return t.createElement(bh,Object.assign({},dp(n),{onClick:e=>{if(I.current)return;if(I.current=!0,!d)return void A();let t;if(g){if(t=d(e),s&&!yL(t))return I.current=!1,void A(e)}else if(d.length)t=d(a),I.current=!1;else if(t=d(),!yL(t))return void A();(e=>{yL(e)&&(m(!0),e.then(function(){m(!1,!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,t),I.current=!1},e=>{if(m(!1,!0),I.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)}))})(t)},loading:u,prefixCls:l},r,{ref:C}),o)},ZL=Ui("Popconfirm",e=>(e=>{const{componentCls:t,iconCls:n,antCls:o,zIndexPopup:l,colorText:r,colorWarning:a,marginXXS:i,marginXS:g,fontSize:c,fontWeightStrong:s,colorTextHeading:d}=e;return{[t]:{zIndex:l,[`&${o}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:g,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:a,fontSize:c,lineHeight:1,marginInlineEnd:g},[`${t}-title`]:{fontWeight:s,color:d,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:i,color:r}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:g}}}}})(e),e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1});var GL=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const SL=e=>{const{prefixCls:n,okButtonProps:o,cancelButtonProps:l,title:r,description:a,cancelText:i,okText:g,okType:c="primary",icon:s=t.createElement(iB,null),showCancel:d=!0,close:I,onConfirm:C,onCancel:u,onPopupClick:m}=e,{getPrefixCls:A}=t.useContext(Rl),[b]=tc("Popconfirm",vo.Popconfirm),p=FS(r),h=FS(a);return t.createElement("div",{className:`${n}-inner-content`,onClick:m},t.createElement("div",{className:`${n}-message`},s&&t.createElement("span",{className:`${n}-message-icon`},s),t.createElement("div",{className:`${n}-message-text`},p&&t.createElement("div",{className:`${n}-title`},p),h&&t.createElement("div",{className:`${n}-description`},h))),t.createElement("div",{className:`${n}-buttons`},d&&t.createElement(bh,Object.assign({onClick:u,size:"small"},l),i||(null===b||void 0===b?void 0:b.cancelText)),t.createElement(vL,{buttonProps:Object.assign(Object.assign({size:"small"},dp(c)),o),actionFn:C,close:I,prefixCls:A("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},g||(null===b||void 0===b?void 0:b.okText))))},BL=e=>{const{prefixCls:n,placement:o,className:l,style:r}=e,a=GL(e,["prefixCls","placement","className","style"]),{getPrefixCls:i}=t.useContext(Rl),g=i("popconfirm",n),[c]=ZL(g);return c(t.createElement(jS,{placement:o,className:Ol()(g,l),style:r,content:t.createElement(SL,Object.assign({prefixCls:g},a))}))};var kL=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const WL=t.forwardRef((e,n)=>{var o,l;const{prefixCls:r,placement:a="top",trigger:i="click",okType:g="primary",icon:c=t.createElement(iB,null),children:s,overlayClassName:d,onOpenChange:I,onVisibleChange:C,overlayStyle:u,styles:m,classNames:A}=e,b=kL(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:p,className:h,style:f,classNames:y,styles:v}=Jl("popconfirm"),[Z,G]=Gr(!1,{value:null!==(o=e.open)&&void 0!==o?o:e.visible,defaultValue:null!==(l=e.defaultOpen)&&void 0!==l?l:e.defaultVisible}),S=(e,t)=>{G(e,!0),null===C||void 0===C||C(e),null===I||void 0===I||I(e,t)},B=p("popconfirm",r),k=Ol()(B,h,d,y.root,null===A||void 0===A?void 0:A.root),W=Ol()(y.body,null===A||void 0===A?void 0:A.body),[V]=ZL(B);return V(t.createElement($S,Object.assign({},Pa(b,["title"]),{trigger:i,placement:a,onOpenChange:(t,n)=>{const{disabled:o=!1}=e;o||S(t,n)},open:Z,ref:n,classNames:{root:k,body:W},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},v.root),f),u),null===m||void 0===m?void 0:m.root),body:Object.assign(Object.assign({},v.body),null===m||void 0===m?void 0:m.body)},content:t.createElement(SL,Object.assign({okType:g,icon:c},e,{prefixCls:B,close:e=>{S(!1,e)},onConfirm:t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:t=>{var n;S(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}})),"data-popover-inject":!0}),s))}),VL=WL;VL._InternalPanelDoNotUseOrYouWillBeFired=BL;const RL=VL,wL=t.createContext({}),{Provider:XL}=wL,JL=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:o,isSilent:l,mergedOkCancel:r,rootPrefixCls:a,close:i,onCancel:g,onConfirm:c}=(0,t.useContext)(wL);return r?t.createElement(vL,{isSilent:l,actionFn:g,close:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===i||void 0===i||i.apply(void 0,t),null===c||void 0===c||c(!1)},autoFocus:"cancel"===e,buttonProps:n,prefixCls:`${a}-btn`},o):null},HL=()=>{const{autoFocusButton:e,close:n,isSilent:o,okButtonProps:l,rootPrefixCls:r,okTextLocale:a,okType:i,onConfirm:g,onOk:c}=(0,t.useContext)(wL);return t.createElement(vL,{isSilent:o,type:i||"primary",actionFn:c,close:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];null===n||void 0===n||n.apply(void 0,t),null===g||void 0===g||g(!0)},autoFocus:"ok"===e,buttonProps:l,prefixCls:`${r}-btn`},a)};var xL=t.createContext({});function YL(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function NL(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var l=e.document;"number"!==typeof(n=l.documentElement[o])&&(n=l.body[o])}return n}const EL=t.memo(function(e){return e.children},function(e,t){return!t.shouldUpdate});var FL={width:0,height:0,overflow:"hidden",outline:"none"},KL={outline:"none"},ML=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.className,r=e.style,a=e.title,i=e.ariaId,g=e.footer,c=e.closable,s=e.closeIcon,d=e.onClose,I=e.children,C=e.bodyStyle,u=e.bodyProps,m=e.modalRender,A=e.onMouseDown,b=e.onMouseUp,p=e.holderRef,h=e.visible,f=e.forceRender,y=e.width,v=e.height,Z=e.classNames,G=e.styles,S=t.useContext(xL).panel,B=rr(p,S),k=(0,t.useRef)(),W=(0,t.useRef)();t.useImperativeHandle(n,function(){return{focus:function(){var e;null===(e=k.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===W.current?k.current.focus({preventScroll:!0}):e||t!==k.current||W.current.focus({preventScroll:!0})}}});var V={};void 0!==y&&(V.width=y),void 0!==v&&(V.height=v);var R=g?t.createElement("div",{className:Ol()("".concat(o,"-footer"),null===Z||void 0===Z?void 0:Z.footer),style:Ee({},null===G||void 0===G?void 0:G.footer)},g):null,w=a?t.createElement("div",{className:Ol()("".concat(o,"-header"),null===Z||void 0===Z?void 0:Z.header),style:Ee({},null===G||void 0===G?void 0:G.header)},t.createElement("div",{className:"".concat(o,"-title"),id:i},a)):null,X=(0,t.useMemo)(function(){return"object"===ke(c)&&null!==c?c:c?{closeIcon:null!==s&&void 0!==s?s:t.createElement("span",{className:"".concat(o,"-close-x")})}:{}},[c,s,o]),J=My(X,!0),H="object"===ke(c)&&c.disabled,x=c?t.createElement("button",$t({type:"button",onClick:d,"aria-label":"Close"},J,{className:"".concat(o,"-close"),disabled:H}),X.closeIcon):null,Y=t.createElement("div",{className:Ol()("".concat(o,"-content"),null===Z||void 0===Z?void 0:Z.content),style:null===G||void 0===G?void 0:G.content},x,w,t.createElement("div",$t({className:Ol()("".concat(o,"-body"),null===Z||void 0===Z?void 0:Z.body),style:Ee(Ee({},C),null===G||void 0===G?void 0:G.body)},u),I),R);return t.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?i:null,"aria-modal":"true",ref:B,style:Ee(Ee({},r),V),className:Ol()(o,l),onMouseDown:A,onMouseUp:b},t.createElement("div",{ref:k,tabIndex:0,style:KL},t.createElement(EL,{shouldUpdate:h||f},m?m(Y):Y)),t.createElement("div",{tabIndex:0,ref:W,style:FL}))});const zL=ML;var LL=t.forwardRef(function(e,n){var o=e.prefixCls,l=e.title,r=e.style,a=e.className,i=e.visible,g=e.forceRender,c=e.destroyOnClose,s=e.motionName,d=e.ariaId,I=e.onVisibleChanged,C=e.mousePosition,u=(0,t.useRef)(),m=He(t.useState(),2),A=m[0],b=m[1],p={};function h(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,l=o.defaultView||o.parentWindow;return n.left+=NL(l),n.top+=NL(l,!0),n}(u.current);b(C&&(C.x||C.y)?"".concat(C.x-e.left,"px ").concat(C.y-e.top,"px"):"")}return A&&(p.transformOrigin=A),t.createElement(pa,{visible:i,onVisibleChanged:I,onAppearPrepare:h,onEnterPrepare:h,forceRender:g,motionName:s,removeOnLeave:c,ref:u},function(i,g){var c=i.className,s=i.style;return t.createElement(zL,$t({},e,{ref:n,title:l,ariaId:d,prefixCls:o,holderRef:g,style:Ee(Ee(Ee({},s),r),p),className:Ol()(a,c)}))})});LL.displayName="Content";const DL=LL;const TL=function(e){var n=e.prefixCls,o=e.style,l=e.visible,r=e.maskProps,a=e.motionName,i=e.className;return t.createElement(pa,{key:"mask",visible:l,motionName:a,leavedClassName:"".concat(n,"-mask-hidden")},function(e,l){var a=e.className,g=e.style;return t.createElement("div",$t({ref:l,style:Ee(Ee({},g),o),className:Ol()("".concat(n,"-mask"),a,i)},r))})};const jL=function(e){var n=e.prefixCls,o=void 0===n?"rc-dialog":n,l=e.zIndex,r=e.visible,a=void 0!==r&&r,i=e.keyboard,g=void 0===i||i,c=e.focusTriggerAfterClose,s=void 0===c||c,d=e.wrapStyle,I=e.wrapClassName,C=e.wrapProps,u=e.onClose,m=e.afterOpenChange,A=e.afterClose,b=e.transitionName,p=e.animation,h=e.closable,f=void 0===h||h,y=e.mask,v=void 0===y||y,Z=e.maskTransitionName,G=e.maskAnimation,S=e.maskClosable,B=void 0===S||S,k=e.maskStyle,W=e.maskProps,V=e.rootClassName,R=e.classNames,w=e.styles;var X=(0,t.useRef)(),J=(0,t.useRef)(),H=(0,t.useRef)(),x=He(t.useState(a),2),Y=x[0],N=x[1],E=pc();function F(e){null===u||void 0===u||u(e)}var K=(0,t.useRef)(!1),M=(0,t.useRef)(),z=null;B&&(z=function(e){K.current?K.current=!1:J.current===e.target&&F(e)}),(0,t.useEffect)(function(){a&&(N(!0),Me(J.current,document.activeElement)||(X.current=document.activeElement))},[a]),(0,t.useEffect)(function(){return function(){clearTimeout(M.current)}},[]);var L=Ee(Ee(Ee({zIndex:l},d),null===w||void 0===w?void 0:w.wrapper),{},{display:Y?null:"none"});return t.createElement("div",$t({className:Ol()("".concat(o,"-root"),V)},My(e,{data:!0})),t.createElement(TL,{prefixCls:o,visible:v&&a,motionName:YL(o,Z,G),style:Ee(Ee({zIndex:l},k),null===w||void 0===w?void 0:w.mask),maskProps:W,className:null===R||void 0===R?void 0:R.mask}),t.createElement("div",$t({tabIndex:-1,onKeyDown:function(e){if(g&&e.keyCode===OI.ESC)return e.stopPropagation(),void F(e);a&&e.keyCode===OI.TAB&&H.current.changeActive(!e.shiftKey)},className:Ol()("".concat(o,"-wrap"),I,null===R||void 0===R?void 0:R.wrapper),ref:J,onClick:z,style:L},C),t.createElement(DL,$t({},e,{onMouseDown:function(){clearTimeout(M.current),K.current=!0},onMouseUp:function(){M.current=setTimeout(function(){K.current=!1})},ref:H,closable:f,ariaId:E,prefixCls:o,visible:a&&Y,onClose:F,onVisibleChanged:function(e){if(e)!function(){var e;Me(J.current,document.activeElement)||null===(e=H.current)||void 0===e||e.focus()}();else{if(N(!1),v&&X.current&&s){try{X.current.focus({preventScroll:!0})}catch(PV){}X.current=null}Y&&(null===A||void 0===A||A())}null===m||void 0===m||m(e)},motionName:YL(o,b,p)}))))};var OL=function(e){var n=e.visible,o=e.getContainer,l=e.forceRender,r=e.destroyOnClose,a=void 0!==r&&r,i=e.afterClose,g=e.panelRef,c=He(t.useState(n),2),s=c[0],d=c[1],I=t.useMemo(function(){return{panel:g}},[g]);return t.useEffect(function(){n&&d(!0)},[n]),l||!a||s?t.createElement(xL.Provider,{value:I},t.createElement(mc,{open:n||l||s,autoDestroy:!1,getContainer:o,autoLock:n||s},t.createElement(jL,$t({},e,{destroyOnClose:a,afterClose:function(){null===i||void 0===i||i(),d(!1)}})))):null};OL.displayName="Dialog";const UL=OL;function QL(){}const $L=t.createContext({add:QL,remove:QL});const PL=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:o}=(0,t.useContext)(wL);return t.createElement(bh,Object.assign({onClick:o},e),n)},qL=()=>{const{confirmLoading:e,okButtonProps:n,okType:o,okTextLocale:l,onOk:r}=(0,t.useContext)(wL);return t.createElement(bh,Object.assign({},dp(o),{loading:e,onClick:r},n),l)};function _L(e,n){return t.createElement("span",{className:`${e}-close-x`},n||t.createElement(mf,{className:`${e}-close-icon`}))}const eD=e=>{const{okText:n,okType:o="primary",cancelText:l,confirmLoading:r,onOk:a,onCancel:i,okButtonProps:g,cancelButtonProps:c,footer:s}=e,[d]=tc("Modal",Bo()),I={confirmLoading:r,okButtonProps:g,cancelButtonProps:c,okTextLocale:n||(null===d||void 0===d?void 0:d.okText),cancelTextLocale:l||(null===d||void 0===d?void 0:d.cancelText),okType:o,onOk:a,onCancel:i},C=t.useMemo(()=>I,Ye(Object.values(I)));let u;return"function"===typeof s||"undefined"===typeof s?(u=t.createElement(t.Fragment,null,t.createElement(PL,null),t.createElement(qL,null)),"function"===typeof s&&(u=s(u,{OkBtn:qL,CancelBtn:PL})),u=t.createElement(XL,{value:C},u)):u=s,t.createElement(Nl,{disabled:!1},u)};function tD(e){return{position:e,inset:0}}const nD=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},tD("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},tD("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:vM(e)}]},oD=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${wt(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Ja(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${wt(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:wt(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},xa(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${wt(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},lD=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},rD=e=>{const{componentCls:t}=e,n=kh(e);delete n.xs;const o=Object.keys(n).map(e=>({[`@media (min-width: ${wt(n[e])})`]:{width:`var(--${t.replace(".","")}-${e}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(Ye(o))}}},aD=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Ni(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},iD=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${wt(e.paddingMD)} ${wt(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${wt(e.padding)} ${wt(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${wt(e.paddingXS)} ${wt(e.padding)}`:0,footerBorderTop:e.wireframe?`${wt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${wt(e.borderRadiusLG)} ${wt(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${wt(2*e.padding)} ${wt(2*e.padding)} ${wt(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),gD=Ui("Modal",e=>{const t=aD(e);return[oD(t),lD(t),nD(t),WI(t,"zoom"),rD(t)]},iD,{unitless:{titleLineHeight:!0}});var cD=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};let sD;const dD=e=>{sD={x:e.pageX,y:e.pageY},setTimeout(()=>{sD=null},100)};Ke()&&window.document.documentElement&&document.documentElement.addEventListener("click",dD,!0);const ID=e=>{const{prefixCls:n,className:o,rootClassName:l,open:r,wrapClassName:a,centered:i,getContainer:g,focusTriggerAfterClose:c=!0,style:s,visible:d,width:I=520,footer:C,classNames:u,styles:m,children:A,loading:b,confirmLoading:p,zIndex:h,mousePosition:f,onOk:y,onCancel:v,destroyOnHidden:Z,destroyOnClose:G}=e,S=cD(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:B,getPrefixCls:k,direction:W,modal:V}=t.useContext(Rl),R=e=>{p||null===v||void 0===v||v(e)};const w=k("modal",n),X=k(),J=fC(w),[H,x,Y]=gD(w,J),N=Ol()(a,{[`${w}-centered`]:null!==i&&void 0!==i?i:null===V||void 0===V?void 0:V.centered,[`${w}-wrap-rtl`]:"rtl"===W}),E=null===C||b?null:t.createElement(eD,Object.assign({},e,{onOk:e=>{null===y||void 0===y||y(e)},onCancel:R})),[F,K,M,z]=Zz(fz(e),fz(V),{closable:!0,closeIcon:t.createElement(mf,{className:`${w}-close-icon`}),closeIconRender:e=>_L(w,e)}),L=function(e){const n=t.useContext($L),o=t.useRef(null);return yr(t=>{if(t){const l=e?t.querySelector(e):t;n.add(l),o.current=l}else n.remove(o.current)})}(`.${w}-content`),[D,T]=Od("Modal",h),[j,O]=t.useMemo(()=>I&&"object"===typeof I?[void 0,I]:[I,void 0],[I]),U=t.useMemo(()=>{const e={};return O&&Object.keys(O).forEach(t=>{const n=O[t];void 0!==n&&(e[`--${w}-${t}-width`]="number"===typeof n?`${n}px`:n)}),e},[O]);return H(t.createElement(Md,{form:!0,space:!0},t.createElement(zd.Provider,{value:T},t.createElement(UL,Object.assign({width:j},S,{zIndex:D,getContainer:void 0===g?B:g,prefixCls:w,rootClassName:Ol()(x,l,Y,J),footer:E,visible:null!==r&&void 0!==r?r:d,mousePosition:null!==f&&void 0!==f?f:sD,onClose:R,closable:F?Object.assign({disabled:M,closeIcon:K},z):F,closeIcon:K,focusTriggerAfterClose:c,transitionName:qd(X,"zoom",e.transitionName),maskTransitionName:qd(X,"fade",e.maskTransitionName),className:Ol()(x,o,null===V||void 0===V?void 0:V.className),style:Object.assign(Object.assign(Object.assign({},null===V||void 0===V?void 0:V.style),s),U),classNames:Object.assign(Object.assign(Object.assign({},null===V||void 0===V?void 0:V.classNames),u),{wrapper:Ol()(N,null===u||void 0===u?void 0:u.wrapper)}),styles:Object.assign(Object.assign({},null===V||void 0===V?void 0:V.styles),m),panelRef:L,destroyOnClose:null!==Z&&void 0!==Z?Z:G}),b?t.createElement(If,{active:!0,title:!1,paragraph:{rows:4},className:`${w}-body-skeleton`}):A))))},CD=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:l,fontSize:r,lineHeight:a,modalTitleHeight:i,fontHeight:g,confirmBodyPadding:c}=e,s=`${t}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`&${t} ${t}-body`]:{padding:c},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(g).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(l).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${wt(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${wt(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${s}-content`]:{color:e.colorText,fontSize:r,lineHeight:a},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},\n        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},uD=$i(["Modal","confirm"],e=>{const t=aD(e);return[CD(t)]},iD,{order:-1e3});var mD=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};function AD(e){const{prefixCls:n,icon:o,okText:l,cancelText:r,confirmPrefixCls:a,type:i,okCancel:g,footer:c,locale:s}=e,d=mD(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let I=o;if(!o&&null!==o)switch(i){case"info":I=t.createElement(sB,null);break;case"success":I=t.createElement(lB,null);break;case"error":I=t.createElement(AC,null);break;default:I=t.createElement(iB,null)}const C=null!==g&&void 0!==g?g:"confirm"===i,u=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[m]=tc("Modal"),A=s||m,b=l||(C?null===A||void 0===A?void 0:A.okText:null===A||void 0===A?void 0:A.justOkText),p=r||(null===A||void 0===A?void 0:A.cancelText),h=Object.assign({autoFocusButton:u,cancelTextLocale:p,okTextLocale:b,mergedOkCancel:C},d),f=t.useMemo(()=>h,Ye(Object.values(h))),y=t.createElement(t.Fragment,null,t.createElement(JL,null),t.createElement(HL,null)),v=void 0!==e.title&&null!==e.title,Z=`${a}-body`;return t.createElement("div",{className:`${a}-body-wrapper`},t.createElement("div",{className:Ol()(Z,{[`${Z}-has-title`]:v})},I,t.createElement("div",{className:`${a}-paragraph`},v&&t.createElement("span",{className:`${a}-title`},e.title),t.createElement("div",{className:`${a}-content`},e.content))),void 0===c||"function"===typeof c?t.createElement(XL,{value:f},t.createElement("div",{className:`${a}-btns`},"function"===typeof c?c(y,{OkBtn:HL,CancelBtn:JL}):y)):c,t.createElement(uD,{prefixCls:n}))}const bD=e=>{const{close:n,zIndex:o,maskStyle:l,direction:r,prefixCls:a,wrapClassName:i,rootPrefixCls:g,bodyStyle:c,closable:s=!1,onConfirm:d,styles:I}=e;const C=`${a}-confirm`,u=e.width||416,m=e.style||{},A=void 0===e.mask||e.mask,b=void 0!==e.maskClosable&&e.maskClosable,p=Ol()(C,`${C}-${e.type}`,{[`${C}-rtl`]:"rtl"===r},e.className),[,h]=Wa(),f=t.useMemo(()=>void 0!==o?o:h.zIndexPopupBase+Dd,[o,h]);return t.createElement(ID,Object.assign({},e,{className:p,wrapClassName:Ol()({[`${C}-centered`]:!!e.centered},i),onCancel:()=>{null===n||void 0===n||n({triggerCancel:!0}),null===d||void 0===d||d(!1)},title:"",footer:null,transitionName:qd(g||"","zoom",e.transitionName),maskTransitionName:qd(g||"","fade",e.maskTransitionName),mask:A,maskClosable:b,style:m,styles:Object.assign({body:c,mask:l},I),width:u,zIndex:f,closable:s}),t.createElement(AD,Object.assign({},e,{confirmPrefixCls:C})))};const pD=e=>{const{rootPrefixCls:n,iconPrefixCls:o,direction:l,theme:r}=e;return t.createElement($a,{prefixCls:n,iconPrefixCls:o,direction:l,theme:r},t.createElement(bD,Object.assign({},e)))},hD=[];let fD="";function yD(){return fD}const vD=e=>{var n,o;const{prefixCls:l,getContainer:r,direction:a}=e,i=Bo(),g=(0,t.useContext)(Rl),c=yD()||g.getPrefixCls(),s=l||`${c}-modal`;let d=r;return!1===d&&(d=void 0),t.createElement(pD,Object.assign({},e,{rootPrefixCls:c,prefixCls:s,iconPrefixCls:g.iconPrefixCls,theme:g.theme,direction:null!==a&&void 0!==a?a:g.direction,locale:null!==(o=null===(n=g.locale)||void 0===n?void 0:n.Modal)&&void 0!==o?o:i,getContainer:d}))};function ZD(e){const n=Oa();const o=document.createDocumentFragment();let l,r,a=Object.assign(Object.assign({},e),{close:c,open:!0});function i(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];var a;o.some(e=>null===e||void 0===e?void 0:e.triggerCancel)&&(null===(t=e.onCancel)||void 0===t||(a=t).call.apply(a,[e,()=>{}].concat(Ye(o.slice(1)))));for(let e=0;e<hD.length;e++){if(hD[e]===c){hD.splice(e,1);break}}r()}function g(e){clearTimeout(l),l=setTimeout(()=>{const l=n.getPrefixCls(void 0,yD()),a=n.getIconPrefixCls(),i=n.getTheme(),g=t.createElement(vD,Object.assign({},e)),c=_b();r=c(t.createElement($a,{prefixCls:l,iconPrefixCls:a,theme:i},n.holderRender?n.holderRender(g):g),o)})}function c(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a=Object.assign(Object.assign({},a),{open:!1,afterClose:()=>{"function"===typeof e.afterClose&&e.afterClose(),i.apply(this,n)}}),a.visible&&delete a.visible,g(a)}return g(a),hD.push(c),{destroy:c,update:function(e){a="function"===typeof e?e(a):Object.assign(Object.assign({},a),e),g(a)}}}function GD(e){return Object.assign(Object.assign({},e),{type:"warning"})}function SD(e){return Object.assign(Object.assign({},e),{type:"info"})}function BD(e){return Object.assign(Object.assign({},e),{type:"success"})}function kD(e){return Object.assign(Object.assign({},e),{type:"error"})}function WD(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var VD=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const RD=OZ(e=>{const{prefixCls:n,className:o,closeIcon:l,closable:r,type:a,title:i,children:g,footer:c}=e,s=VD(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:d}=t.useContext(Rl),I=d(),C=n||d("modal"),u=fC(I),[m,A,b]=gD(C,u),p=`${C}-confirm`;let h={};return h=a?{closable:null!==r&&void 0!==r&&r,title:"",footer:"",children:t.createElement(AD,Object.assign({},e,{prefixCls:C,confirmPrefixCls:p,rootPrefixCls:I,content:g}))}:{closable:null===r||void 0===r||r,title:i,footer:null!==c&&t.createElement(eD,Object.assign({},e)),children:g},m(t.createElement(zL,Object.assign({prefixCls:C,className:Ol()(A,`${C}-pure-panel`,a&&p,a&&`${p}-${a}`,o,b,u)},s,{closeIcon:_L(C,l),closable:r},h)))});var wD=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const XD=(e,n)=>{var o,{afterClose:l,config:r}=e,a=wD(e,["afterClose","config"]);const[i,g]=t.useState(!0),[c,s]=t.useState(r),{direction:d,getPrefixCls:I}=t.useContext(Rl),C=I("modal"),u=I(),m=function(){var e;g(!1);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var l;n.some(e=>null===e||void 0===e?void 0:e.triggerCancel)&&(null===(e=c.onCancel)||void 0===e||(l=e).call.apply(l,[c,()=>{}].concat(Ye(n.slice(1)))))};t.useImperativeHandle(n,()=>({destroy:m,update:e=>{s(t=>{const n="function"===typeof e?e(t):e;return Object.assign(Object.assign({},t),n)})}}));const A=null!==(o=c.okCancel)&&void 0!==o?o:"confirm"===c.type,[b]=tc("Modal",vo.Modal);return t.createElement(pD,Object.assign({prefixCls:C,rootPrefixCls:u},c,{close:m,open:i,afterClose:()=>{var e;l(),null===(e=c.afterClose)||void 0===e||e.call(c)},okText:c.okText||(A?null===b||void 0===b?void 0:b.okText:null===b||void 0===b?void 0:b.justOkText),direction:c.direction||d,cancelText:c.cancelText||(null===b||void 0===b?void 0:b.cancelText)},a))},JD=t.forwardRef(XD);let HD=0;const xD=t.memo(t.forwardRef((e,n)=>{const[o,l]=function(){const[e,n]=t.useState([]);return[e,t.useCallback(e=>(n(t=>[].concat(Ye(t),[e])),()=>{n(t=>t.filter(t=>t!==e))}),[])]}();return t.useImperativeHandle(n,()=>({patchElement:l}),[]),t.createElement(t.Fragment,null,o)}));const YD=function(){const e=t.useRef(null),[n,o]=t.useState([]);t.useEffect(()=>{if(n.length){Ye(n).forEach(e=>{e()}),o([])}},[n]);const l=t.useCallback(n=>function(l){var r;HD+=1;const a=t.createRef();let i;const g=new Promise(e=>{i=e});let c,s=!1;const d=t.createElement(JD,{key:`modal-${HD}`,config:n(l),ref:a,afterClose:()=>{null===c||void 0===c||c()},isSilent:()=>s,onConfirm:e=>{i(e)}});c=null===(r=e.current)||void 0===r?void 0:r.patchElement(d),c&&hD.push(c);const I={destroy:()=>{function e(){var e;null===(e=a.current)||void 0===e||e.destroy()}a.current?e():o(t=>[].concat(Ye(t),[e]))},update:e=>{function t(){var t;null===(t=a.current)||void 0===t||t.update(e)}a.current?t():o(e=>[].concat(Ye(e),[t]))},then:e=>(s=!0,g.then(e))};return I},[]);return[t.useMemo(()=>({info:l(SD),success:l(BD),error:l(kD),warning:l(GD),confirm:l(WD)}),[]),t.createElement(xD,{key:"modal-holder",ref:e})]};function ND(e){return ZD(GD(e))}const ED=ID;ED.useModal=YD,ED.info=function(e){return ZD(SD(e))},ED.success=function(e){return ZD(BD(e))},ED.error=function(e){return ZD(kD(e))},ED.warning=ND,ED.warn=ND,ED.confirm=function(e){return ZD(WD(e))},ED.destroyAll=function(){for(;hD.length;){const e=hD.pop();e&&e()}},ED.config=function(e){let{rootPrefixCls:t}=e;fD=t},ED._InternalPanelDoNotUseOrYouWillBeFired=RD;const FD=ED;function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},KD.apply(this,arguments)}const MD=(e,n)=>t.createElement(rK,KD({},e,{ref:n,icon:CN}));const zD=t.forwardRef(MD);function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},LD.apply(this,arguments)}const DD=(e,n)=>t.createElement(rK,LD({},e,{ref:n,icon:hg}));const TD=t.forwardRef(DD);function jD(){return jD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},jD.apply(this,arguments)}const OD=(e,n)=>t.createElement(rK,jD({},e,{ref:n,icon:TM}));const UD=t.forwardRef(OD);function QD(){return QD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},QD.apply(this,arguments)}const $D=(e,n)=>t.createElement(rK,QD({},e,{ref:n,icon:UM}));const PD=t.forwardRef($D),{Sider:qD,Content:_D,Header:eT}=pg,{Title:tT,Text:nT}=im;function oT(){const[e,n]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[r,a]=(0,t.useState)(null),[i,g]=(0,t.useState)(!1),[c]=qY.useForm(),[s,d]=(0,t.useState)(!1),I=localStorage.getItem("adminEmail")||"Super Admin",C=le(),[u,m]=(0,t.useState)(null),[A,b]=(0,t.useState)(""),p=async()=>{l(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),o=await t.json();t.ok?n(o):OB.error(o.message||"Failed to fetch users")}catch(e){OB.error("Failed to fetch users")}finally{l(!1)}};(0,t.useEffect)(()=>{p()},[]);const h=[{title:"ID",dataIndex:"_id",key:"_id",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{code:!0,style:{fontSize:11},children:e})},{title:"Name",dataIndex:"name",key:"name",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{strong:!0,children:e})},{title:"Email",dataIndex:"email",key:"email",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{children:e})},{title:"Phone",dataIndex:"phoneNumber",key:"phoneNumber",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{children:e})},{title:"NIC",dataIndex:"nic",key:"nic",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{code:!0,children:e})},{title:"School",dataIndex:"school",key:"school",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{children:e})},{title:"Age",dataIndex:"age",key:"age",responsive:["lg"],render:e=>(0,WK.jsx)(nT,{children:e})},{title:"Profile",dataIndex:"profilePic",key:"profilePic",responsive:["lg"],render:e=>e?(0,WK.jsx)(eB,{src:e,size:32}):(0,WK.jsx)(eB,{icon:(0,WK.jsx)(IK,{}),size:32})},{title:"Actions",key:"actions",fixed:"right",width:120,render:(t,o)=>(0,WK.jsxs)(nk,{wrap:!0,children:[(0,WK.jsx)(zI,{title:"View Profile",children:(0,WK.jsx)(bh,{shape:"circle",icon:(0,WK.jsx)(zD,{style:{color:"#fff",fontSize:20}}),style:{background:"#00cec8",border:"none",marginRight:4,boxShadow:"0 2px 8px #00cec833"},onClick:()=>window.open(`/user/${o._id}`,"_blank")})}),(0,WK.jsx)(zI,{title:"Edit User",children:(0,WK.jsx)(bh,{shape:"circle",icon:(0,WK.jsx)(TD,{style:{color:"#fff",fontSize:20}}),style:{background:"#00cec8",border:"none",marginRight:4,boxShadow:"0 2px 8px #00cec833"},onClick:()=>(e=>{a(e),g(!0),m(null),b(e.profilePic||""),c.setFieldsValue({name:e.name||"",email:e.email||"",phoneNumber:e.phoneNumber||"",nic:e.nic||"",school:e.school||"",age:e.age||""})})(o)})}),(0,WK.jsx)(zI,{title:"Resend QR Code",children:(0,WK.jsx)(bh,{shape:"circle",icon:(0,WK.jsx)(hK,{style:{color:"#fff",fontSize:20}}),style:{background:"#1677ff",border:"none",marginRight:4,boxShadow:"0 2px 8px #1677ff33"},onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),o=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${e}/resend-qr`,{method:"POST",headers:{Authorization:`Bearer ${n}`}}),l=await o.json();o.ok?OB.success(`QR code sent to ${t}'s email successfully!`):OB.error(l.message||"Failed to send QR code")}catch(n){OB.error("Failed to send QR code")}})(o._id,o.name)})}),(0,WK.jsx)(RL,{title:"Delete user?",description:"This action cannot be undone.",onConfirm:()=>(async t=>{const o=localStorage.getItem("token");try{const l=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}}),r=await l.json();l.ok?(OB.success("User deleted"),n(e.filter(e=>e._id!==t))):OB.error(r.message||"Failed to delete user")}catch(l){OB.error("Failed to delete user")}})(o._id),okText:"Yes",cancelText:"No",okType:"danger",children:(0,WK.jsx)(bh,{shape:"circle",icon:(0,WK.jsx)(UD,{style:{color:"#fff",fontSize:20}}),style:{background:"#ff4d4f",border:"none",boxShadow:"0 2px 8px #ff4d4f33"}})})]})}];return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(qD,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["view-all-users"],onClick:e=>{let{key:t}=e;"overview"===t&&C("/dashboard/super"),"add"===t&&C("/dashboard/super/add-user"),"view-all-users"===t&&C("/dashboard/super/view-all-users"),"update-duty"===t&&C("/dashboard/super/update-duty"),"attendance-history"===t&&C("/dashboard/super/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"add",label:"Add New User"},{key:"view-all-users",label:"View All Users"},{key:"update-duty",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(eT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 24px"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:I})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[super]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(_D,{style:{margin:{xs:12,md:24},background:"#fff",borderRadius:8,minHeight:400,padding:{xs:16,md:24}},children:[(0,WK.jsxs)(Jh,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[(0,WK.jsx)(Fh,{children:(0,WK.jsx)(tT,{level:3,style:{margin:0},children:"All Users"})}),(0,WK.jsx)(Fh,{children:(0,WK.jsx)(bh,{type:"primary",icon:(0,WK.jsx)(PD,{}),style:{background:"#00b894",borderColor:"#00b894",fontWeight:600},onClick:()=>{const t=[["User ID","Name","Email","Phone Number","NIC","Profile Picture URL"],...e.map(e=>[e._id,e.name||"",e.email||"",e.phoneNumber||"",e.nic||"",e.profilePic||""])].map(e=>e.join(",")).join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(n);o.setAttribute("href",l),o.setAttribute("download",`all_users_${(new Date).toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)},className:"rounded-lg px-6 py-2 text-base shadow-soft hover:bg-green-700 transition",children:"Export to CSV"})})]}),(0,WK.jsx)("div",{style:{display:{xs:"none",md:"block"}},children:(0,WK.jsx)(nJ,{columns:h,dataSource:e,rowKey:"_id",loading:o,scroll:{x:1200},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} users`,pageSizeOptions:["10","20","50","100"],responsive:!0},size:"middle"})}),(0,WK.jsx)(FD,{title:"Edit User",open:i,onCancel:()=>{g(!1),c.resetFields(),m(null),b(""),d(!1)},onOk:async()=>{try{d(!0);const t=await c.validateFields();let n=r.profilePic;if(u)try{n=await oM(u)}catch(e){return OB.error("Failed to upload profile picture"),void d(!1)}const o=localStorage.getItem("token"),l=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({...t,profilePic:n})}),a=await l.json();l.ok?(OB.success("User updated successfully"),g(!1),setTimeout(p,500)):OB.error(a.message||"Failed to update user")}catch(t){t.errorFields?OB.error("Please check the form fields"):OB.error("Failed to update user")}finally{d(!1)}},okText:"Save",cancelText:"Cancel",confirmLoading:s,width:600,destroyOnClose:!0,children:(0,WK.jsxs)(qY,{form:c,layout:"vertical",autoComplete:"off",children:[(0,WK.jsxs)(Jh,{gutter:16,children:[(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter name"}],children:(0,WK.jsx)(SN,{placeholder:"Enter name"})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:(0,WK.jsx)(SN,{placeholder:"Enter email"})})})]}),(0,WK.jsxs)(Jh,{gutter:16,children:[(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter phone number"}],children:(0,WK.jsx)(SN,{placeholder:"Enter phone number"})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"NIC",name:"nic",rules:[{required:!0,message:"Please enter NIC"}],children:(0,WK.jsx)(SN,{placeholder:"Enter NIC"})})})]}),(0,WK.jsxs)(Jh,{gutter:16,children:[(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"School",name:"school",rules:[{required:!1}],children:(0,WK.jsx)(SN,{placeholder:"Enter school"})})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsx)(qY.Item,{label:"Age",name:"age",rules:[{required:!1,type:"number",min:1,max:120,message:"Please enter a valid age"}],children:(0,WK.jsx)(SN,{type:"number",placeholder:"Enter age"})})})]}),(0,WK.jsxs)(qY.Item,{label:"Profile Photo",children:[(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[(0,WK.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];m(t||null),b(t?URL.createObjectURL(t):(null===r||void 0===r?void 0:r.profilePic)||"")},style:{flex:1,minWidth:200}}),A&&(0,WK.jsx)(eB,{src:A,size:64,icon:(0,WK.jsx)(IK,{})})]}),(0,WK.jsx)(nT,{type:"secondary",style:{fontSize:12},children:"Leave empty to keep current profile picture"})]})]})})]})]})]})}const lT={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M273 495.9v428l.3-428zm538.2-88.3H496.8l9.6-198.4c.6-11.9-4.7-23.1-14.6-30.5-6.1-4.5-13.6-6.8-21.1-6.7-19.6.1-36.9 13.4-42.2 32.3-37.1 134.4-64.9 235.2-83.5 302.5V852h399.4a56.85 56.85 0 0033.6-51.8c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0019.6-43c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0019.6-43c0-9.7-2.3-18.9-6.9-27.3l-14-25.5 21.9-19a56.76 56.76 0 0019.6-43c0-19.1-11-37.5-28.8-48.4z",fill:t}},{tag:"path",attrs:{d:"M112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32zm773.9 5.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.5-65.5-111a67.67 67.67 0 00-34.3-9.3H572.3l6-122.9c1.5-29.7-9-57.9-29.5-79.4a106.4 106.4 0 00-77.9-33.4c-52 0-98 35-111.8 85.1l-85.8 310.8-.3 428h472.1c9.3 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37zM820.4 499l-21.9 19 14 25.5a56.2 56.2 0 016.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H345V506.8c18.6-67.2 46.4-168 83.5-302.5a44.28 44.28 0 0142.2-32.3c7.5-.1 15 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.1 32.2-19.6 43z",fill:e}}]}},name:"like",theme:"twotone"};function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rT.apply(this,arguments)}const aT=(e,n)=>t.createElement(rK,rT({},e,{ref:n,icon:lT}));const iT=t.forwardRef(aT);var gT=n(309),cT=n.n(gT);function sT(){return(0,WK.jsx)($a,{theme:{token:{colorPrimary:"#1677ff"}},children:(0,WK.jsx)(Ge,{children:(0,WK.jsxs)(ye,{children:[(0,WK.jsx)(he,{path:"/",element:(0,WK.jsx)(NK,{})}),(0,WK.jsx)(he,{path:"/admin",element:(0,WK.jsx)(qK,{})}),(0,WK.jsx)(he,{path:"/dashboard/super",element:(0,WK.jsx)(BT,{role:"super",children:(0,WK.jsx)(pT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/super/add-user",element:(0,WK.jsx)(BT,{role:"super",children:(0,WK.jsx)(yT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/super/view-all-users",element:(0,WK.jsx)(BT,{role:"super",children:(0,WK.jsx)(oT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/super/update-duty",element:(0,WK.jsx)(BT,{role:"super",children:(0,WK.jsx)(GT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/super/attendance-history",element:(0,WK.jsx)(BT,{role:"super",children:(0,WK.jsx)(ST,{})})}),(0,WK.jsx)(he,{path:"/dashboard/secondary",element:(0,WK.jsx)(BT,{role:"secondary",children:(0,WK.jsx)(hT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/secondary/view-users",element:(0,WK.jsx)(BT,{role:"secondary",children:(0,WK.jsx)(fT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/secondary/update-duty",element:(0,WK.jsx)(BT,{role:"secondary",children:(0,WK.jsx)(ZT,{})})}),(0,WK.jsx)(he,{path:"/dashboard/secondary/attendance-history",element:(0,WK.jsx)(BT,{role:"secondary",children:(0,WK.jsx)(ST,{})})}),(0,WK.jsx)(he,{path:"/user/:userId",element:(0,WK.jsx)(fL,{})})]})})})}a().extend(g());const dT={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||"",{Sider:IT,Content:CT,Header:uT}=pg,{Title:mT,Text:AT}=im;function bT(){(0,t.useEffect)(()=>{nM();const e=()=>(clearTimeout(tM),void nM());return window.addEventListener("mousemove",e),window.addEventListener("keydown",e),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e)}},[])}function pT(){bT();const e=localStorage.getItem("adminEmail")||"Super Admin",n=le(),[o,l]=t.useState([]);function r(e){if(!e.attendance)return 0;console.log("[DEBUG] User:",e.name,"Attendance:",e.attendance);let t=0;const n=a()().format("YYYY-MM-DD"),o=a()();return e.attendance.forEach((e,l)=>{if(console.log(`[DEBUG] Record #${l}: date=${e.date}, comingTime=${e.comingTime}, finishingTime=${e.finishingTime}`),e.comingTime&&e.finishingTime){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm"),o=a()(`${e.date} ${e.finishingTime}`,"YYYY-MM-DD HH:mm");console.log(`[DEBUG] Parsed: start=${n.format("YYYY-MM-DD HH:mm")}, end=${o.format("YYYY-MM-DD HH:mm")}, start valid: ${n.isValid()}, end valid: ${o.isValid()}, diff: ${o.diff(n,"minute")}`),t+=Math.max(0,o.diff(n,"minute"))}else if(e.comingTime&&!e.finishingTime&&e.date===n){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm");if(n.isValid()){const e=Math.max(0,o.diff(n,"minute"));console.log(`[DEBUG] Live calculation: ${e} minutes from ${n.format("HH:mm")} to now`),t+=e}}}),t}function i(e){if(0===e)return"0 hours";const t=Math.floor(e/60),n=e%60;return 0===t?`${n} min`:0===n?`${t} hours`:`${t}h ${n}m`}t.useEffect(()=>{!async function(){try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&l(n)}catch{}}()},[]);const g=o.reduce((e,t)=>e+r(t),0),c=([...o].sort((e,t)=>r(t)-r(e)).slice(0,5),[(0,WK.jsx)(gL,{twoToneColor:"#FFD700",style:{fontSize:24}}),(0,WK.jsx)(IL,{twoToneColor:"#C0C0C0",style:{fontSize:24}}),(0,WK.jsx)(IL,{twoToneColor:"#CD7F32",style:{fontSize:24}})]);return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["overview"],onClick:e=>{let{key:t}=e;"view-all-users"===t&&n("/dashboard/super/view-all-users"),"overview"===t&&n("/dashboard/super"),"add"===t&&n("/dashboard/super/add-user"),"update-duty"===t&&n("/dashboard/super/update-duty"),"attendance-history"===t&&n("/dashboard/super/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"add",label:"Add New User"},{key:"view-all-users",label:"View All Users"},{key:"update-duty",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[super]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsxs)(Jh,{gutter:[24,24],children:[(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Total Users",value:o.length})})}),(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Total Duty Time",value:i(g)})})}),(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Active Users",value:o.filter(e=>e.attendance&&e.attendance.some(e=>e.date===a()().format("YYYY-MM-DD")&&e.comingTime&&!e.finishingTime)).length})})})]}),(0,WK.jsxs)(Jh,{gutter:[24,24],style:{marginTop:32},children:[(0,WK.jsx)(Fh,{xs:24,md:16,children:(0,WK.jsxs)(Ey,{title:"Leaderboard: Most Duty Time",bordered:!1,style:{borderRadius:12},children:[o.length>0&&(0,WK.jsxs)("div",{style:{marginBottom:16,textAlign:"center",fontWeight:600,fontSize:18},children:[(0,WK.jsx)(AL,{twoToneColor:"#52c41a",style:{fontSize:28,marginRight:8}}),"Congrats ",(0,WK.jsx)("span",{style:{color:"#1677ff"},children:o[0].name})," for your outstanding service!"]}),(0,WK.jsx)(wS,{itemLayout:"horizontal",dataSource:o.sort((e,t)=>r(t)-r(e)),renderItem:(e,t)=>(0,WK.jsx)(wS.Item,{children:(0,WK.jsx)(wS.Item.Meta,{avatar:(0,WK.jsxs)("span",{children:[t<3?c[t]:(0,WK.jsx)(iT,{twoToneColor:"#1677ff",style:{fontSize:22}})," ",(0,WK.jsx)(eB,{src:e.profilePic,style:{marginLeft:6}})]}),title:(0,WK.jsxs)("span",{children:[e.name," ",(0,WK.jsxs)("span",{style:{color:"#888",fontSize:12},children:["(",e._id,")"]})]}),description:(0,WK.jsxs)("span",{children:["Duty Time: ",(0,WK.jsx)("b",{children:i(r(e))})]})})})})]})}),(0,WK.jsxs)(Fh,{xs:24,md:8,children:[(0,WK.jsx)(Ey,{title:"Quick Actions",bordered:!1,style:{borderRadius:12,marginBottom:24},children:(0,WK.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"stretch"},children:[(0,WK.jsx)("button",{type:"button",style:{background:"#00b894",border:"none",color:"#fff",cursor:"pointer",padding:"12px 0",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 2px 8px #00b89433",transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#009e6e",onMouseOut:e=>e.currentTarget.style.background="#00b894",onClick:()=>n("/dashboard/super/view-all-users"),children:"View All Users"}),(0,WK.jsx)("button",{type:"button",style:{background:"#00b894",border:"none",color:"#fff",cursor:"pointer",padding:"12px 0",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 2px 8px #00b89433",transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#009e6e",onMouseOut:e=>e.currentTarget.style.background="#00b894",onClick:()=>n("/dashboard/super/add-user"),children:"Add New User"})]})}),(0,WK.jsx)(Ey,{title:"Recent Activities",bordered:!1,style:{borderRadius:12},children:(0,WK.jsxs)("ul",{style:{paddingLeft:20},children:[(0,WK.jsx)("li",{children:"User IT23203112 added by Super Admin"}),(0,WK.jsx)("li",{children:"User 686e9b849ad9 updated profile"}),(0,WK.jsx)("li",{children:"User 686e9b849ad9 deleted by Super Admin"})]})}),(0,WK.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,WK.jsx)("img",{src:"/banner.jpeg",alt:"Festival Banner",style:{maxWidth:500,width:"100%",height:"auto",borderRadius:16,boxShadow:"0 4px 24px #00cec833",marginBottom:24}})})]})]})]})]})]})}function hT(){bT();const e=localStorage.getItem("adminEmail")||"Secondary Admin",n=le(),[o,l]=t.useState([]);function r(e){if(!e.attendance)return 0;console.log("[DEBUG] User:",e.name,"Attendance:",e.attendance);let t=0;const n=a()().format("YYYY-MM-DD"),o=a()();return e.attendance.forEach((e,l)=>{if(console.log(`[DEBUG] Record #${l}: date=${e.date}, comingTime=${e.comingTime}, finishingTime=${e.finishingTime}`),e.comingTime&&e.finishingTime){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm"),o=a()(`${e.date} ${e.finishingTime}`,"YYYY-MM-DD HH:mm");console.log(`[DEBUG] Parsed: start=${n.format("YYYY-MM-DD HH:mm")}, end=${o.format("YYYY-MM-DD HH:mm")}, start valid: ${n.isValid()}, end valid: ${o.isValid()}, diff: ${o.diff(n,"minute")}`),t+=Math.max(0,o.diff(n,"minute"))}else if(e.comingTime&&!e.finishingTime&&e.date===n){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm");if(n.isValid()){const e=Math.max(0,o.diff(n,"minute"));console.log(`[DEBUG] Live calculation: ${e} minutes from ${n.format("HH:mm")} to now`),t+=e}}}),t}function i(e){if(0===e)return"0 hours";const t=Math.floor(e/60),n=e%60;return 0===t?`${n} min`:0===n?`${t} hours`:`${t}h ${n}m`}t.useEffect(()=>{!async function(){try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&l(n)}catch{}}()},[]);const g=o.reduce((e,t)=>e+r(t),0),c=[...o].sort((e,t)=>r(t)-r(e)).slice(0,5),s=[(0,WK.jsx)(gL,{twoToneColor:"#FFD700",style:{fontSize:24}}),(0,WK.jsx)(IL,{twoToneColor:"#C0C0C0",style:{fontSize:24}}),(0,WK.jsx)(IL,{twoToneColor:"#CD7F32",style:{fontSize:24}})];return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["overview"],onClick:e=>{let{key:t}=e;"overview"===t&&n("/dashboard/secondary"),"view-users"===t&&n("/dashboard/secondary/view-users"),"update"===t&&n("/dashboard/secondary/update-duty"),"attendance-history"===t&&n("/dashboard/secondary/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"view-users",label:"View Users"},{key:"update",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[secondary]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsxs)(Jh,{gutter:[24,24],children:[(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Total Users",value:o.length})})}),(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Total Duty Time",value:i(g)})})}),(0,WK.jsx)(Fh,{xs:24,md:8,children:(0,WK.jsx)(Ey,{bordered:!1,style:{borderRadius:12},children:(0,WK.jsx)(ev,{title:"Active Users",value:o.filter(e=>e.attendance&&e.attendance.some(e=>e.date===a()().format("YYYY-MM-DD")&&e.comingTime&&!e.finishingTime)).length})})})]}),(0,WK.jsxs)(Jh,{gutter:[24,24],style:{marginTop:32},children:[(0,WK.jsx)(Fh,{xs:24,md:16,children:(0,WK.jsxs)(Ey,{title:"Leaderboard: Most Duty Time",bordered:!1,style:{borderRadius:12},children:[c.length>0&&(0,WK.jsxs)("div",{style:{marginBottom:16,textAlign:"center",fontWeight:600,fontSize:18},children:[(0,WK.jsx)(AL,{twoToneColor:"#52c41a",style:{fontSize:28,marginRight:8}}),"Congrats ",(0,WK.jsx)("span",{style:{color:"#1677ff"},children:c[0].name})," for your outstanding service!"]}),(0,WK.jsx)(wS,{itemLayout:"horizontal",dataSource:c,renderItem:(e,t)=>(0,WK.jsx)(wS.Item,{children:(0,WK.jsx)(wS.Item.Meta,{avatar:(0,WK.jsxs)("span",{children:[t<3?s[t]:(0,WK.jsx)(iT,{twoToneColor:"#1677ff",style:{fontSize:22}})," ",(0,WK.jsx)(eB,{src:e.profilePic,style:{marginLeft:6}})]}),title:(0,WK.jsxs)("span",{children:[e.name," ",(0,WK.jsxs)("span",{style:{color:"#888",fontSize:12},children:["(",e._id,")"]})]}),description:(0,WK.jsxs)("span",{children:["Duty Time: ",(0,WK.jsx)("b",{children:i(r(e))})]})})})})]})}),(0,WK.jsxs)(Fh,{xs:24,md:8,children:[(0,WK.jsx)(Ey,{title:"Quick Actions",bordered:!1,style:{borderRadius:12,marginBottom:24},children:(0,WK.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,alignItems:"stretch"},children:[(0,WK.jsx)("button",{type:"button",style:{background:"#00b894",border:"none",color:"#fff",cursor:"pointer",padding:"12px 0",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 2px 8px #00b89433",transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#009e6e",onMouseOut:e=>e.currentTarget.style.background="#00b894",onClick:()=>n("/dashboard/secondary/view-users"),children:"View Users"}),(0,WK.jsx)("button",{type:"button",style:{background:"#00b894",border:"none",color:"#fff",cursor:"pointer",padding:"12px 0",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 2px 8px #00b89433",transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#009e6e",onMouseOut:e=>e.currentTarget.style.background="#00b894",onClick:()=>n("/dashboard/secondary/update-duty"),children:"Update Duty Times"})]})}),(0,WK.jsx)(Ey,{title:"Recent Activities",bordered:!1,style:{borderRadius:12},children:(0,WK.jsxs)("ul",{style:{paddingLeft:20},children:[(0,WK.jsx)("li",{children:"User IT23203112 duty time updated"}),(0,WK.jsx)("li",{children:"User 686e9b849ad9 marked as active"}),(0,WK.jsx)("li",{children:"User 686e9b849ad9 marked as inactive"})]})})]})]})]})]})]})}function fT(){bT();const e=localStorage.getItem("adminEmail")||"Secondary Admin",n=le(),[o,l]=t.useState([]),[r,i]=t.useState("");const g=o.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.email.toLowerCase().includes(r.toLowerCase())||e.phoneNumber.toLowerCase().includes(r.toLowerCase())||e.nic.toLowerCase().includes(r.toLowerCase())||e._id&&e._id.toLowerCase().includes(r.toLowerCase())),c=[{title:"ID",dataIndex:"_id",key:"_id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"NIC",dataIndex:"nic",key:"nic"},{title:"Profile",dataIndex:"profilePic",key:"profilePic",render:e=>e?(0,WK.jsx)(eB,{src:e}):"-"},{title:"Duty Time",key:"dutyTime",render:(e,t)=>function(e){if(0===e)return"0 hours";const t=Math.floor(e/60),n=e%60;return 0===t?`${n} min`:0===n?`${t} hours`:`${t}h ${n}m`}(function(e){if(!e.attendance)return 0;let t=0;const n=a()().format("YYYY-MM-DD"),o=a()();return e.attendance.forEach(e=>{if(e.comingTime&&e.finishingTime){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm"),o=a()(`${e.date} ${e.finishingTime}`,"YYYY-MM-DD HH:mm");n.isValid()&&o.isValid()&&(t+=Math.max(0,o.diff(n,"minute")))}else if(e.comingTime&&!e.finishingTime&&e.date===n){const n=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm");n.isValid()&&(t+=Math.max(0,o.diff(n,"minute")))}}),t}(t))},{title:"Actions",key:"actions",render:(e,t)=>(0,WK.jsxs)(nk,{children:[(0,WK.jsx)(bh,{icon:(0,WK.jsx)(zD,{}),onClick:()=>window.open(`/user/${t._id}`,"_blank"),children:"View"}),(0,WK.jsx)(bh,{icon:(0,WK.jsx)(hK,{}),onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),o=await fetch(`${dT}/api/users/${e}/resend-qr`,{method:"POST",headers:{Authorization:`Bearer ${n}`}}),l=await o.json();o.ok?OB.success(`QR code sent to ${t}'s email successfully!`):OB.error(l.message||"Failed to send QR code")}catch(n){OB.error("Failed to send QR code")}})(t._id,t.name),title:"Resend QR Code to Email",children:"Resend QR"})]})}];return t.useEffect(()=>{!async function(){try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&l(n)}catch{}}()},[]),(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["view-users"],onClick:e=>{let{key:t}=e;"overview"===t&&n("/dashboard/secondary"),"view-users"===t&&n("/dashboard/secondary/view-users"),"update"===t&&n("/dashboard/secondary/update-duty"),"attendance-history"===t&&n("/dashboard/secondary/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"view-users",label:"View Users"},{key:"update",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[secondary]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,WK.jsx)("h2",{children:"View Users"}),(0,WK.jsx)(bh,{type:"primary",icon:(0,WK.jsx)(PD,{}),style:{background:"#00b894",borderColor:"#00b894",fontWeight:600},onClick:()=>{const e=[["User ID","Name","Email","Phone Number","NIC","Profile Picture URL"],...g.map(e=>[e._id,e.name||"",e.email||"",e.phoneNumber||"",e.nic||"",e.profilePic||""])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),o=URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",`view_users_${a()().format("YYYY-MM-DD")}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"rounded-lg px-6 py-2 text-base shadow-soft hover:bg-green-700 transition",children:"Export to CSV"})]}),(0,WK.jsx)("input",{placeholder:"Search by name, email, phone, NIC, or ID",value:r,onChange:e=>i(e.target.value),style:{marginBottom:16,width:320,padding:8,borderRadius:4,border:"1px solid #ccc"}}),(0,WK.jsx)(nJ,{columns:c,dataSource:g,rowKey:"_id"})]})]})]})}function yT(){bT();const e=localStorage.getItem("adminEmail")||"Super Admin",t=le();return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["add"],onClick:e=>{let{key:n}=e;"view-all-users"===n&&t("/dashboard/super/view-all-users"),"overview"===n&&t("/dashboard/super"),"add"===n&&t("/dashboard/super/add-user"),"update-duty"===n&&t("/dashboard/super/update-duty"),"attendance-history"===n&&t("/dashboard/super/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"add",label:"Add New User"},{key:"view-all-users",label:"View All Users"},{key:"update-duty",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[super]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsx)("h2",{children:"Add New User"}),(0,WK.jsx)(hz,{})]})]})]})}function vT(e){let{onScan:n}=e;const[o,l]=(0,t.useState)([]),[r,a]=(0,t.useState)("");(0,t.useEffect)(()=>{!async function(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){var e;const t=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);l(t);const n=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent);let o=(null===(e=t[0])||void 0===e?void 0:e.deviceId)||"";for(const e of t)n&&e.label.toLowerCase().includes("back")&&(o=e.deviceId),!n&&e.label.toLowerCase().includes("front")&&(o=e.deviceId);a(o)}}()},[]);return(0,WK.jsxs)("div",{style:{maxWidth:350,margin:"0 auto",marginBottom:16},children:[o.length>1&&(0,WK.jsx)("select",{value:r,onChange:e=>a(e.target.value),style:{marginBottom:8,width:"100%"},children:o.map(e=>(0,WK.jsx)("option",{value:e.deviceId,children:e.label||`Camera ${e.deviceId}`},e.deviceId))}),(0,WK.jsx)(cT(),{delay:300,onError:e=>{},onScan:e=>{e&&n(e.text||e)},style:{width:"100%"},constraints:{video:r?{deviceId:{exact:r}}:{facingMode:/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)?"environment":"user"}}})]})}function ZT(){bT();const e=localStorage.getItem("adminEmail")||"Secondary Admin",n=le(),[o,l]=t.useState([]),[r,i]=t.useState(""),[g,c]=t.useState(null),[s,d]=t.useState(""),[I,C]=t.useState(""),[u,m]=t.useState(""),[A,b]=t.useState(""),[p,h]=t.useState(a()().format("YYYY-MM-DD")),[f,y]=t.useState([]),[v,Z]=t.useState(!1),[G,S]=t.useState("");t.useEffect(()=>{!async function(){try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&l(n)}catch{}}()},[]),t.useEffect(()=>{!async function(){if(r){const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok?(c(n),y(n.attendance||[])):(c(null),y([]))}else c(null),y([]);d(""),C(""),m(""),b("")}()},[r]),t.useEffect(()=>{if(f&&p){const e=f.find(e=>e.date===p);d((null===e||void 0===e?void 0:e.comingTime)||""),C((null===e||void 0===e?void 0:e.finishingTime)||"")}},[p,f]);const B=async e=>{if(e.preventDefault(),m(""),b(""),!r)return b("Please select a user.");if(!p)return b("Please select a date.");if(!s)return b("Please enter coming time.");try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users/${r}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:p,comingTime:s,dutySchedule:G})}),n=await t.json();if(t.ok){m("Coming time updated successfully!"),setTimeout(()=>m(""),2e3);const t=await fetch(`${dT}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&(c(n),y(n.attendance||[]))}else b(n.message||"Failed to update coming time")}catch{b("Failed to update coming time")}},k=[{title:"Date",dataIndex:"date",key:"date"},{title:"Coming Time",dataIndex:"comingTime",key:"comingTime"},{title:"Finishing Time",dataIndex:"finishingTime",key:"finishingTime"},{title:"Duty Time",key:"dutyTime",render:(e,t)=>{if(t.comingTime&&t.finishingTime){const e=a()(`${t.date} ${t.comingTime}`,"YYYY-MM-DD HH:mm"),n=a()(`${t.date} ${t.finishingTime}`,"YYYY-MM-DD HH:mm");if(e.isValid()&&n.isValid()){const t=n.diff(e,"minute");return`${Math.floor(t/60)}h ${t%60}m`}}return"-"}}];return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["update"],onClick:e=>{let{key:t}=e;"overview"===t&&n("/dashboard/secondary"),"view-users"===t&&n("/dashboard/secondary/view-users"),"update"===t&&n("/dashboard/secondary/update-duty"),"attendance-history"===t&&n("/dashboard/secondary/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"view-users",label:"View Users"},{key:"update",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[secondary]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsx)("h2",{children:"Update Duty Times"}),(0,WK.jsxs)("form",{onSubmit:B,style:{maxWidth:500,margin:"0 auto",background:"#f7faff",borderRadius:8,padding:24,boxShadow:"0 2px 12px #e6f7ff"},children:[(0,WK.jsxs)("div",{style:{marginBottom:16},children:[(0,WK.jsx)("label",{children:"User ID *"}),(0,WK.jsx)("br",{}),(0,WK.jsxs)("select",{value:r,onChange:e=>i(e.target.value),style:{width:"100%",padding:8},children:[(0,WK.jsx)("option",{value:"",children:"Select a user"}),o.map(e=>(0,WK.jsxs)("option",{value:e._id,children:[e._id," - ",e.name]},e._id))]})]}),(0,WK.jsxs)("div",{style:{marginBottom:16},children:[(0,WK.jsx)("label",{children:"Date *"}),(0,WK.jsx)("br",{}),(0,WK.jsx)(cY,{value:p?a()(p):null,onChange:e=>h(e?e.format("YYYY-MM-DD"):""),style:{width:"100%"},format:"YYYY-MM-DD",allowClear:!1,disabledDate:e=>e&&e.isAfter(a()(),"day")})]}),g&&(0,WK.jsxs)("div",{style:{marginBottom:16,background:"#fff",borderRadius:8,padding:16,boxShadow:"0 1px 6px #e6f7ff"},children:[(0,WK.jsx)("b",{children:"Name:"})," ",g.name,(0,WK.jsx)("br",{}),(0,WK.jsx)("b",{children:"Email:"})," ",g.email,(0,WK.jsx)("br",{}),(0,WK.jsx)("b",{children:"Phone:"})," ",g.phoneNumber,(0,WK.jsx)("br",{}),(0,WK.jsx)("b",{children:"NIC:"})," ",g.nic,(0,WK.jsx)("br",{}),(0,WK.jsx)("b",{children:"Current Duty Time:"})," ",g.dutyTime," min",(0,WK.jsx)("br",{}),g.profilePic&&(0,WK.jsx)("img",{src:g.profilePic,alt:"Profile",style:{width:64,height:64,borderRadius:"50%",marginTop:8}})]}),(0,WK.jsxs)("div",{style:{marginBottom:16},children:[(0,WK.jsx)("label",{children:"Coming Time"}),(0,WK.jsx)("br",{}),(0,WK.jsx)("input",{type:"time",value:s,onChange:e=>d(e.target.value),style:{width:"100%",padding:8}}),(0,WK.jsx)("button",{onClick:B,style:{marginTop:8,padding:"6px 18px",background:"#1677ff",color:"#fff",border:"none",borderRadius:4},children:"Update Coming Time"})]}),s&&(0,WK.jsxs)("div",{style:{marginBottom:16},children:[(0,WK.jsx)("label",{children:"Finishing Time"}),(0,WK.jsx)("br",{}),(0,WK.jsx)("input",{type:"time",value:I,onChange:e=>C(e.target.value),style:{width:"100%",padding:8}}),(0,WK.jsx)("button",{onClick:async e=>{if(e.preventDefault(),m(""),b(""),!r)return b("Please select a user.");if(!p)return b("Please select a date.");if(!I)return b("Please enter finishing time.");if(s&&I){const[e,t]=s.split(":").map(Number),[n,o]=I.split(":").map(Number);if(60*n+o<=60*e+t)return void b("Finishing time must be after coming time.")}try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users/${r}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:p,finishingTime:I,dutySchedule:G})}),n=await t.json();if(t.ok){m("Finishing time updated successfully!"),setTimeout(()=>m(""),2e3);const t=await fetch(`${dT}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&(c(n),y(n.attendance||[]))}else b(n.message||"Failed to update finishing time")}catch{b("Failed to update finishing time")}},style:{marginTop:8,padding:"6px 18px",background:"#1677ff",color:"#fff",border:"none",borderRadius:4},children:"Update Finishing Time"})]}),A&&(0,WK.jsx)("div",{style:{color:"red",marginBottom:12},children:A}),u&&(0,WK.jsx)("div",{style:{color:"green",marginBottom:12},children:u}),(0,WK.jsx)(qY.Item,{label:"Duty Schedule",children:(0,WK.jsxs)(MG,{value:G,onChange:e=>{S(e),"Early Morning"===e?(d("04:30"),C("07:30")):"Morning"===e?(d("08:00"),C("11:00")):"Evening"===e?(d("15:30"),C("19:30")):(d(""),C(""))},placeholder:"Select a schedule",style:{width:"100%"},allowClear:!0,children:[(0,WK.jsx)(MG.Option,{value:"Early Morning",children:"Early Morning (4:30 AM \u2013 7:30 AM)"}),(0,WK.jsx)(MG.Option,{value:"Morning",children:"Morning (8:00 AM \u2013 11:00 AM)"}),(0,WK.jsx)(MG.Option,{value:"Evening",children:"Evening (3:30 PM \u2013 7:30 PM)"})]})})]}),f&&f.length>0&&(0,WK.jsxs)("div",{style:{maxWidth:700,margin:"40px auto 0 auto"},children:[(0,WK.jsx)("h3",{children:"Selected User Attendance Records"}),(0,WK.jsx)(nJ,{columns:k,dataSource:f,rowKey:"date"})]}),(0,WK.jsxs)(bh,{onClick:()=>Z(e=>!e),style:{marginBottom:16},children:[v?"Hide":"Show"," QR Scanner"]}),v&&(0,WK.jsx)(vT,{onScan:async e=>{if(!e)return;let t=e;const n=e.match(/\/user\/([\w-]+)/);n&&(t=n[1]),i(t);try{const e=localStorage.getItem("token"),n=await fetch(`${dT}/api/users/${t}`,{headers:{Authorization:`Bearer ${e}`}}),o=await n.json();if(n.ok){c(o),y(o.attendance||[]);const n=a()().format("YYYY-MM-DD"),l=(o.attendance||[]).find(e=>e.date===n);if(l&&l.comingTime)if(l.comingTime&&!l.finishingTime){const o=a()().format("HH:mm");await fetch(`${dT}/api/users/${t}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:n,finishingTime:o,dutySchedule:G})}),C(o),m("Finishing time updated automatically!"),Z(!1)}else m("Your attendance is already marked."),Z(!1);else{const o=a()().format("HH:mm");await fetch(`${dT}/api/users/${t}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:n,comingTime:o,dutySchedule:G})}),d(o),m("Coming time updated automatically!"),Z(!1)}}else b(o.message||"User not found")}catch(o){b("Failed to fetch user details")}}})]})]})]})}function GT(){bT();const e=localStorage.getItem("adminEmail")||"Super Admin",n=le(),[o,l]=t.useState([]),[r,i]=t.useState(""),[g,c]=t.useState(null),[s,d]=t.useState(""),[I,C]=t.useState(""),[u,m]=t.useState(""),[A,b]=t.useState(""),[p,h]=t.useState(a()().format("YYYY-MM-DD")),[f,y]=t.useState([]),[v,Z]=t.useState(!1),[G,S]=t.useState(!1),[B,k]=t.useState(!1),[W,V]=t.useState("");t.useEffect(()=>{!async function(){Z(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok?l(n):OB.error(n.message||"Failed to fetch users")}catch(e){OB.error("Failed to fetch users")}finally{Z(!1)}}()},[]),t.useEffect(()=>{!async function(){if(r)try{const e=localStorage.getItem("token"),t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok?(c(n),y(n.attendance||[])):(c(null),y([]),OB.error(n.message||"Failed to fetch user details"))}catch(e){c(null),y([]),OB.error("Failed to fetch user details")}else c(null),y([]);d(""),C(""),m(""),b("")}()},[r]),t.useEffect(()=>{if(f&&p){const e=f.find(e=>e.date===p);d((null===e||void 0===e?void 0:e.comingTime)||""),C((null===e||void 0===e?void 0:e.finishingTime)||"")}},[p,f]);return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["update-duty"],onClick:e=>{let{key:t}=e;"view-all-users"===t&&n("/dashboard/super/view-all-users"),"overview"===t&&n("/dashboard/super"),"add"===t&&n("/dashboard/super/add-user"),"update-duty"===t&&n("/dashboard/super/update-duty"),"attendance-history"===t&&n("/dashboard/super/attendance-history")},items:[{key:"overview",label:"Overview"},{key:"add",label:"Add New User"},{key:"view-all-users",label:"View All Users"},{key:"update-duty",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsx)("span",{style:{color:"#1677ff",marginLeft:8},children:"[super]"})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:{xs:12,md:24},background:"#fff",borderRadius:8,minHeight:400,padding:{xs:16,md:24}},children:[(0,WK.jsx)(mT,{level:2,style:{marginBottom:24},children:"Update Duty Times"}),(0,WK.jsx)(Ey,{style:{maxWidth:600,margin:"0 auto",background:"#f7faff"},children:(0,WK.jsxs)(qY,{layout:"vertical",children:[(0,WK.jsx)(qY.Item,{label:"Select User *",required:!0,children:(0,WK.jsx)(MG,{value:r,onChange:i,placeholder:"Select a user",loading:v,showSearch:!0,filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:o.map(e=>({value:e._id,label:`${e.name} (${e._id})`})),style:{width:"100%"}})}),(0,WK.jsx)(qY.Item,{label:"Select Date *",required:!0,children:(0,WK.jsx)(cY,{value:p?a()(p):null,onChange:e=>h(e?e.format("YYYY-MM-DD"):""),style:{width:"100%"},format:"YYYY-MM-DD",allowClear:!1,disabledDate:e=>e&&e.isAfter(a()(),"day")})}),g&&(0,WK.jsxs)(Ey,{size:"small",style:{marginBottom:16,background:"#fff"},children:[(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[(0,WK.jsx)(eB,{src:g.profilePic,size:48,icon:(0,WK.jsx)(IK,{})}),(0,WK.jsxs)("div",{children:[(0,WK.jsx)(mT,{level:5,style:{margin:0,marginBottom:4},children:g.name}),(0,WK.jsx)(AT,{type:"secondary",children:g.email})]})]}),(0,WK.jsxs)(Jh,{gutter:16,children:[(0,WK.jsxs)(Fh,{xs:24,sm:12,children:[(0,WK.jsx)(AT,{strong:!0,children:"Phone:"})," ",g.phoneNumber]}),(0,WK.jsxs)(Fh,{xs:24,sm:12,children:[(0,WK.jsx)(AT,{strong:!0,children:"NIC:"})," ",g.nic]})]})]}),(0,WK.jsxs)(Jh,{gutter:16,children:[(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsxs)(qY.Item,{label:"Coming Time",children:[(0,WK.jsx)(SN,{type:"time",value:s,onChange:e=>d(e.target.value),style:{width:"100%"}}),(0,WK.jsx)(bh,{type:"primary",onClick:async e=>{if(e.preventDefault(),m(""),b(""),S(!0),!r)return b("Please select a user."),void S(!1);if(!p)return b("Please select a date."),void S(!1);if(!s)return b("Please enter coming time."),void S(!1);try{const e=localStorage.getItem("token"),t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:p,comingTime:s,dutySchedule:W})}),n=await t.json();if(t.ok){OB.success("Coming time updated successfully!");const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&(c(n),y(n.attendance||[]))}else OB.error(n.message||"Failed to update coming time")}catch(t){OB.error("Failed to update coming time")}finally{S(!1)}},loading:G,disabled:!r||!p||!s,style:{marginTop:8,width:"100%"},children:"Update Coming Time"})]})}),(0,WK.jsx)(Fh,{xs:24,md:12,children:(0,WK.jsxs)(qY.Item,{label:"Finishing Time",children:[(0,WK.jsx)(SN,{type:"time",value:I,onChange:e=>C(e.target.value),style:{width:"100%"}}),(0,WK.jsx)(bh,{type:"primary",onClick:async e=>{if(e.preventDefault(),m(""),b(""),S(!0),!r)return b("Please select a user."),void S(!1);if(!p)return b("Please select a date."),void S(!1);if(!I)return b("Please enter finishing time."),void S(!1);if(s&&I){const[e,t]=s.split(":").map(Number),[n,o]=I.split(":").map(Number);if(60*n+o<=60*e+t)return b("Finishing time must be after coming time."),void S(!1)}try{const e=localStorage.getItem("token"),t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:p,finishingTime:I,dutySchedule:W})}),n=await t.json();if(t.ok){OB.success("Finishing time updated successfully!");const t=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();t.ok&&(c(n),y(n.attendance||[])),await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${r}/send-finish-email`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}),OB.success("Your work is finished as professional.")}else OB.error(n.message||"Failed to update finishing time")}catch(t){OB.error("Failed to update finishing time")}finally{S(!1)}},loading:G,disabled:!r||!p||!I,style:{marginTop:8,width:"100%"},children:"Update Finishing Time"})]})})]}),A&&(0,WK.jsx)(KN,{message:"Error",description:A,type:"error",showIcon:!0,style:{marginBottom:16}}),u&&(0,WK.jsx)(KN,{message:"Success",description:u,type:"success",showIcon:!0,style:{marginBottom:16}}),(0,WK.jsx)(qY.Item,{label:"Duty Schedule",children:(0,WK.jsxs)(MG,{value:W,onChange:e=>{V(e),"Early Morning"===e?(d("04:30"),C("07:30")):"Morning"===e?(d("08:00"),C("11:00")):"Evening"===e?(d("15:30"),C("19:30")):(d(""),C(""))},placeholder:"Select a schedule",style:{width:"100%"},allowClear:!0,children:[(0,WK.jsx)(MG.Option,{value:"Early Morning",children:"Early Morning (4:30 AM \u2013 7:30 AM)"}),(0,WK.jsx)(MG.Option,{value:"Morning",children:"Morning (8:00 AM \u2013 11:00 AM)"}),(0,WK.jsx)(MG.Option,{value:"Evening",children:"Evening (3:30 PM \u2013 7:30 PM)"})]})})]})}),f&&f.length>0&&(0,WK.jsxs)("div",{style:{maxWidth:800,margin:"40px auto 0 auto"},children:[(0,WK.jsx)(mT,{level:3,style:{marginBottom:16},children:"Selected User Attendance Records"}),(0,WK.jsx)(nJ,{columns:[{title:"Date",dataIndex:"date",key:"date"},{title:"Coming Time",dataIndex:"comingTime",key:"comingTime"},{title:"Finishing Time",dataIndex:"finishingTime",key:"finishingTime"}],dataSource:f,rowKey:"date",scroll:{x:400},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} records`,pageSizeOptions:["10","20","50"],responsive:!0},size:"middle"})]}),(0,WK.jsxs)(bh,{onClick:()=>k(e=>!e),style:{marginBottom:16},children:[B?"Hide":"Show"," QR Scanner"]}),B&&(0,WK.jsx)(vT,{onScan:async e=>{if(!e)return;let t=e;const n=e.match(/\/user\/([\w-]+)/);n&&(t=n[1]),i(t);try{const e=localStorage.getItem("token"),n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${t}`,{headers:{Authorization:`Bearer ${e}`}}),o=await n.json();if(n.ok){c(o),y(o.attendance||[]);const n=a()().format("YYYY-MM-DD"),l=(o.attendance||[]).find(e=>e.date===n);if(l&&l.comingTime)if(l.comingTime&&!l.finishingTime){const o=a()().format("HH:mm");await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${t}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:n,finishingTime:o,dutySchedule:W})}),C(o),OB.success("Finishing time updated automatically!"),k(!1)}else OB.info("Your attendance is already marked."),k(!1);else{const o=a()().format("HH:mm");await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dpcl7yv77",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ml_default"}.REACT_APP_API_URL||""}/api/users/${t}/duty`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({date:n,comingTime:o,dutySchedule:W})}),d(o),OB.success("Coming time updated automatically!"),k(!1)}}else OB.error(o.message||"User not found")}catch(o){OB.error("Failed to fetch user details")}}})]})]})]})}function ST(){bT();const e=localStorage.getItem("adminEmail")||"Admin",n=le(),[o,l]=t.useState([]),[r,i]=t.useState(""),[g,c]=t.useState([]),[s,d]=t.useState(""),[I,C]=t.useState("");t.useEffect(()=>{!async function(){try{const e=localStorage.getItem("token"),t=await fetch(`${dT}/api/users`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();if(t.ok){l(n);const e=[];n.forEach(t=>{t.attendance&&t.attendance.length>0&&t.attendance.forEach(n=>{e.push({...n,userId:t._id,userName:t.name,userEmail:t.email})})}),c(e)}}catch{}}()},[]);const u=[{title:"User ID",dataIndex:"userId",key:"userId"},{title:"Name",dataIndex:"userName",key:"userName"},{title:"Date",dataIndex:"date",key:"date"},{title:"Coming Time",dataIndex:"comingTime",key:"comingTime"},{title:"Finishing Time",dataIndex:"finishingTime",key:"finishingTime"},{title:"Duty Schedule",dataIndex:"dutySchedule",key:"dutySchedule",render:(e,t)=>t.dutySchedule?t.dutySchedule:"04:30"===t.comingTime&&"07:30"===t.finishingTime?"Early Morning":"08:00"===t.comingTime&&"11:00"===t.finishingTime?"Morning":"15:30"===t.comingTime&&"19:30"===t.finishingTime?"Evening":"Custom"},{title:"Duty Time",key:"dutyTime",render:(e,t)=>{if(t.comingTime&&t.finishingTime){const e=a()(`${t.date} ${t.comingTime}`,"YYYY-MM-DD HH:mm"),n=a()(`${t.date} ${t.finishingTime}`,"YYYY-MM-DD HH:mm");if(e.isValid()&&n.isValid()){const t=n.diff(e,"minute");return`${Math.floor(t/60)}h ${t%60}m`}}return"-"}}],m=g.filter(e=>{const t=!r||e.date===r,n=!s||e.userId===s;let o=e.dutySchedule;o||(o="04:30"===e.comingTime&&"07:30"===e.finishingTime?"Early Morning":"08:00"===e.comingTime&&"11:00"===e.finishingTime?"Morning":"15:30"===e.comingTime&&"19:30"===e.finishingTime?"Evening":"Custom");return t&&n&&(!I||o===I)}),A="super"===_K();return(0,WK.jsxs)(pg,{style:{minHeight:"100vh"},children:[(0,WK.jsxs)(IT,{breakpoint:"lg",collapsedWidth:"0",children:[(0,WK.jsx)("img",{src:"/IMG-20230930-WA0000-removebg-preview.png",alt:"Scout Logo",style:{width:100,height:100,objectFit:"contain",display:"block",margin:"24px auto",padding:0}}),(0,WK.jsx)(Yb,{theme:"dark",mode:"inline",defaultSelectedKeys:["attendance-history"],onClick:e=>{let{key:t}=e;A?("overview"===t&&n("/dashboard/super"),"add"===t&&n("/dashboard/super/add-user"),"view-all-users"===t&&n("/dashboard/super/view-all-users"),"update-duty"===t&&n("/dashboard/super/update-duty"),"attendance-history"===t&&n("/dashboard/super/attendance-history")):("overview"===t&&n("/dashboard/secondary"),"view-users"===t&&n("/dashboard/secondary/view-users"),"update"===t&&n("/dashboard/secondary/update-duty"),"attendance-history"===t&&n("/dashboard/secondary/attendance-history"))},items:A?[{key:"overview",label:"Overview"},{key:"add",label:"Add New User"},{key:"view-all-users",label:"View All Users"},{key:"update-duty",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]:[{key:"overview",label:"Overview"},{key:"view-users",label:"View Users"},{key:"update",label:"Update Duty Times"},{key:"attendance-history",label:"Attendance History"}]})]}),(0,WK.jsxs)(pg,{children:[(0,WK.jsxs)(uT,{style:{background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,WK.jsxs)("div",{children:[(0,WK.jsx)("b",{children:e})," ",(0,WK.jsxs)("span",{style:{color:"#1677ff",marginLeft:8},children:["[",A?"super":"secondary","]"]})]}),(0,WK.jsx)(bh,{type:"primary",danger:!0,style:{background:"#ff4d4f",borderColor:"#ff4d4f"},onClick:eM,children:"Logout"})]}),(0,WK.jsxs)(CT,{style:{margin:24,background:"#fff",borderRadius:8,minHeight:400,padding:24},children:[(0,WK.jsx)("h2",{children:"All Users Attendance History"}),(0,WK.jsxs)("div",{style:{marginBottom:24,display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,WK.jsx)("label",{style:{fontWeight:500},children:"Filter by Date:"}),(0,WK.jsx)(cY,{value:r?a()(r):null,onChange:e=>i(e?e.format("YYYY-MM-DD"):""),style:{width:200},format:"YYYY-MM-DD",allowClear:!0,placeholder:"Select date to filter"})]}),(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,WK.jsx)("label",{style:{fontWeight:500},children:"Filter by User:"}),(0,WK.jsxs)("select",{value:s,onChange:e=>d(e.target.value),style:{width:200,padding:8,borderRadius:4,border:"1px solid #d9d9d9"},children:[(0,WK.jsx)("option",{value:"",children:"All Users"}),o.map(e=>(0,WK.jsxs)("option",{value:e._id,children:[e._id," - ",e.name]},e._id))]})]}),(0,WK.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,WK.jsx)("label",{style:{fontWeight:500},children:"Filter by Duty Schedule:"}),(0,WK.jsxs)("select",{value:I,onChange:e=>C(e.target.value),style:{width:200,padding:8,borderRadius:4,border:"1px solid #d9d9d9"},children:[(0,WK.jsx)("option",{value:"",children:"All Schedules"}),(0,WK.jsx)("option",{value:"Early Morning",children:"Early Morning"}),(0,WK.jsx)("option",{value:"Morning",children:"Morning"}),(0,WK.jsx)("option",{value:"Evening",children:"Evening"}),(0,WK.jsx)("option",{value:"Custom",children:"Custom"})]})]}),(0,WK.jsx)(bh,{onClick:()=>{i(""),d(""),C("")},style:{marginLeft:8},children:"Clear All Filters"})]}),(0,WK.jsxs)("div",{style:{marginBottom:24,display:"flex",gap:16,flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,WK.jsxs)("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[(0,WK.jsx)(Ey,{size:"small",style:{minWidth:150},children:(0,WK.jsx)(ev,{title:"Total Records",value:m.length})}),(0,WK.jsx)(Ey,{size:"small",style:{minWidth:150},children:(0,WK.jsx)(ev,{title:"Total Users",value:o.length})}),(0,WK.jsx)(Ey,{size:"small",style:{minWidth:150},children:(0,WK.jsx)(ev,{title:"Total Duty Time",value:(()=>{const e=m.reduce((e,t)=>{if(t.comingTime&&t.finishingTime){const n=a()(`${t.date} ${t.comingTime}`,"YYYY-MM-DD HH:mm"),o=a()(`${t.date} ${t.finishingTime}`,"YYYY-MM-DD HH:mm");if(n.isValid()&&o.isValid())return e+o.diff(n,"minute")}return e},0);return`${Math.floor(e/60)}h ${e%60}m`})()})})]}),(0,WK.jsx)(bh,{type:"primary",icon:(0,WK.jsx)(PD,{}),style:{background:"#00b894",borderColor:"#00b894",fontWeight:600},onClick:()=>{const e=[["User ID","Name","Date","Coming Time","Finishing Time","Duty Time (Hours)","Duty Time (Minutes)"],...m.map(e=>{let t=0,n=0;if(e.comingTime&&e.finishingTime){const o=a()(`${e.date} ${e.comingTime}`,"YYYY-MM-DD HH:mm"),l=a()(`${e.date} ${e.finishingTime}`,"YYYY-MM-DD HH:mm");if(o.isValid()&&l.isValid()){const e=l.diff(o,"minute");t=Math.floor(e/60),n=e%60}}return[e.userId,e.userName,e.date,e.comingTime||"",e.finishingTime||"",t,n]})].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),o=URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",`attendance_history_${a()().format("YYYY-MM-DD_HH-mm")}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"rounded-lg px-6 py-2 text-base shadow-soft hover:bg-green-700 transition",children:"Export to CSV"})]}),(0,WK.jsx)(nJ,{columns:u,dataSource:m,rowKey:e=>`${e.userId}-${e.date}`,pagination:{pageSize:15,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} records`},loading:!1,scroll:{x:800},size:"middle"})]})]})]})}function BT(e){let{children:t,role:n}=e;return localStorage.getItem("token")?n&&_K()!==n?(0,WK.jsx)(pe,{to:"/admin",replace:!0}):t:(0,WK.jsx)(pe,{to:"/admin",replace:!0})}const kT=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:o,getFCP:l,getLCP:r,getTTFB:a}=t;n(e),o(e),l(e),r(e),a(e)})};l.createRoot(document.getElementById("root")).render((0,WK.jsx)(t.StrictMode,{children:(0,WK.jsx)(sT,{})})),kT()})()})();
//# sourceMappingURL=main.8a03819b.js.map